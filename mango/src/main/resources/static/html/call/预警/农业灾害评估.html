<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="renderer" content="webkit" />
</head>
<body>
	<div id="myDiv">
		<h2>测试</h2>
	</div>
	<button id="btn_call" type="button">提交数据</button>
</body>
<script src="http://libs.baidu.com/jquery/1.6.4/jquery.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
var interfaces = "http://127.0.0.1:60011/mango";
  $("#btn_call").click(function(){
	
	//获取各个类型农业灾害在某个时间段的预警次数
	/* var ajaxParam = {
		url : interfaces + "/extend/swagger/da/daIotMonitorDisasterData/getAgricultureDisasterFrequency",
		submitData : {
			"entityRelated" : {
				"date" : "2018-06"//时间
				
			},
			"orderList" : [ {
				"columnName" : "",
				"isASC" : true
			} ],
			"page" : {
				"pageIndex" : 1,
				"pageSize" : 10
			}
		}
	}; */
	
	//获取最新农业灾害预警信息
	/* var ajaxParam = {
		url : interfaces + "/extend/swagger/da/daIotMonitorDisasterData/getRecentAgricultueDisasterInfo",
		submitData : {
			"entityRelated" : {
				
			},
			"orderList" : [ {
				"columnName" : "",
				"isASC" : true
			} ],
			"page" : {
				"pageIndex" : 1,
				"pageSize" : 10
			}
		}
	}; */
	
	//获取每个基地的最新农业灾害预警信息
	/* var ajaxParam = {
		url : interfaces + "/extend/swagger/da/daIotMonitorDisasterData/getPerBaseAgricultueDisasterInfo",
		submitData : {
			"entityRelated" : {
				
			},
			"orderList" : [ {
				"columnName" : "",
				"isASC" : true
			} ],
			"page" : {
				"pageIndex" : 1,
				"pageSize" : 10
			}
		}
	}; */
	
	//获取芒果各个生命周期内各种农业灾害预警次数
	/* var ajaxParam = {
		url : interfaces + "/extend/swagger/da/daIotMonitorDisasterData/getPerLifeCycleAgricultueDisasterInfo",
		submitData : {
			"entityRelated" : {
				
			},
			"orderList" : [ {
				"columnName" : "",
				"isASC" : true
			} ],
			"page" : {
				"pageIndex" : 1,
				"pageSize" : 10
			}
		}
	}; */
	
	//各种农业灾害预警走势
	var ajaxParam = {
		url : interfaces + "/extend/swagger/da/daIotMonitorDisasterData/getAgricultueDisasterEarlyWarningTrend",
		submitData : {
			"entityRelated" : {
				"typeCode":0 //灾害类型
			},
			"orderList" : [ {
				"columnName" : "",
				"isASC" : true
			} ],
			"page" : {
				"pageIndex" : 1,
				"pageSize" : 10
			}
		}
	};
	
	  var submitDataString = JSON.stringify(ajaxParam.submitData);
	  //Ajax调用处理
      var html = $.ajax({
         type: "GET",
         url: ajaxParam.url,
         dataType: "json",
         data:  "jsonData="+submitDataString,
         async: false,
		 headers: {
            'userToken':'super|a0a83550562f49a59e91a26ff74dd519' //用户token，登陆后存放到cookie或localstore
        }
      }).responseText;
      $("#myDiv").html('<h2>'+html+'</h2>');
  });
});
</script>
</html>
