/*!
 * Jusfoun Threejs Chart Library v0.1.10
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vis@jusfoun.com
 *   http://vis.jusfoun.com
 *   http://jusfoun-vis.github.io
 * 
 * Copyright (c) 2018, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t){e.exports=require("three")},function(e,t){e.exports=require("@jusfoun-vis/common")},function(e,t){e.exports=require("@jusfoun-vis/threejs-common")},function(e,t){e.exports=require("@tweenjs/tween.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),i=void 0,l=function(e){i||(i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"));var t=i.getContext("2d");e&&t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,i.width,i.height),e&&t.restore(),i.width=256,i.height=256},u={get canvas(){return l(),i},rotateImage:function(e,t){var n=e._width||e.naturalWidth||e.width,o=e._height||e.naturalHeight||e.height,r=n*Math.cos(t)+o*Math.sin(t),a=o*Math.cos(t)+n*Math.sin(t),u=Math.max(n,o);l();var s=i.getContext("2d");i.width=u,i.height=u,s.translate(u/2,u/2),s.rotate(t),s.drawImage(e,-n/2,-o/2),s.setTransform(1,0,0,1,0,0);var c=s.getImageData(Math.abs(u-r)/2,Math.abs(u-a)/2,r,a);i.width=r,i.height=a,s.putImageData(c,0,0);var f=new Image;return f.src=i.toDataURL(),f._width=i.width,f._height=i.height,f},createImageWithText:function(e,t){if(t=t||{},l(),!0===t.adaptable){var n=t.direction||0,o=t.textAlign||0,r=t.fontSize||256,a=r*e.length,u=r;this.isPowerOfTwo(u)||(u=this.getBestPowerOf2(u));var s=t.maxSize||a;this.isPowerOfTwo(s)||(s=this.getBestPowerOf2(s)),i.width=n?u:s,i.height=n?s:u;var c=i.getContext("2d");c.font="normal normal bolder "+r+"px 黑体",c.textBaseline="middle",c.fillStyle=t.fillStyle||"#FFFFFF",c.strokeStyle=t.strokeStyle||"#000000";for(var f=n?Math.round((i.width-r)/2):0,d=n?0:Math.round((i.height-r)/2),p=r/2,_=0,v=e.length;_<v;_++){var m=0===o?r*_:1===o?s-a+r*_:(s-a)/2+r*_,h=e.charAt(_),g=(n?0:m)+f,y=(n?m:0)+d+p;c.fillText(h,g,y),c.strokeText(h,g,y)}}else{var b=i.getContext("2d"),w=Math.floor(Math.min(i.width,i.height)/e.length);b.font="normal normal bolder "+w+"px 黑体",b.textBaseline="middle";var x=(i.width-e.length*w)/2,O=i.height/2;b.fillStyle=t.fillStyle||"#FFFFFF",b.fillText(e,x,O),b.strokeStyle=t.strokeStyle||"#000000",b.strokeText(e,x,O)}var M=new Image;return M.src=i.toDataURL(),M._width=i.width,M._height=i.height,M},createTextureWithText:function(e,t){var n=u.createImageWithText(e,t),o=new a.Texture(n);return o.needsUpdate=!0,o},createTextureWithSolidColor:function(e){l();var t=i.getContext("2d");t.fillStyle=e||"#FFFFFF",t.fillRect(0,0,i.width,i.height);var n=new Image;n.src=i.toDataURL();var o=new a.Texture(n);return o.needsUpdate=!0,o},createRadialTexture:function(e,t,n){if(!e||!t||!n||t.length!=e.length||n.length!=e.length)throw new Error("Illegal parameters.");l();var o=i.width/2,r=i.height/2,u=Math.min(i.width,i.height)/2,s=i.getContext("2d"),c=s.createRadialGradient(o,r,0,o,r,u);e.forEach(function(e,o){var r=t[o],a=n[o];c.addColorStop(a,["rgba(",e>>16&255,",",e>>8&255,",",255&e,",",r,")"].join(""))}),s.fillStyle=c,s.fillRect(0,0,i.width,i.height);var f=new Image;f.src=i.toDataURL();var d=new a.Texture(f);return d.needsUpdate=!0,d},createTextTexture:function(e,t){if(t=t||{},null===e||"object"!==(void 0===e?"undefined":o(e))&&"string"!=typeof e)throw new Error("Illegal input:",e);Array.isArray(e)||(e=[e]),l();var n=i.getContext("2d"),r=[],u=0,s=0;e.forEach(function(e,a){if("string"==typeof e)e={text:e};else if(null===e||"object"!==(void 0===e?"undefined":o(e)))throw new Error("Illegal input:",e);var i=e.fontSize||t.fontSize||12;"number"==typeof i&&(i+="px");var l=function(e){var t=[];return e.forEach(function(e){Array.isArray(e)?e[0]&&e[1]?t.push(e.join("/")):e[0]&&t.push(e[0]):e&&t.push(e)}),t.join(" ")}([e.fontStyle||t.fontStyle,e.fontVariant||t.fontVariant,e.fontWeight||t.fontWeight,[i,e.lineHeight||t.lineHeight],e.fontFamily||t.fontFamily||"sans-serif"]),c=e.lineWidth||t.lineWidth||0,f=e.fillStyle||t.fillStyle||"#000000",d=e.strokeStyle||t.strokeStyle;n.font=l,n.lineWidth=c,n.fillStyle=f,d&&(n.strokeStyle=d),n.textBaseline="hanging",n.textAlign="left";var p=e.text,_=n.measureText(p),v=Math.ceil(_.width);u<v&&(u=v),i=Number(/\d+(.\d+)?/.exec(i)[0]),s+=i;var m={text:p,font:l,lineWidth:c,fillStyle:f,strokeStyle:d,width:v,height:i};r.push(m)});var c=t.gap||0;e.length>1&&(s+=(e.length-1)*c);var f=t.padding||0,d=u+2*f,p=s+2*f,_=this;!0===t.powerOfTwo&&(_.isPowerOfTwo(d)||(d=_.getBestPowerOf2(d)),_.isPowerOfTwo(p)||(p=_.getBestPowerOf2(p))),i.width=d,i.height=p;var v=(p-s)/2;r.forEach(function(e){var t=e.strokeStyle,o=e.text;n.font=e.font,n.lineWidth=e.lineWidth,n.fillStyle=e.fillStyle,t&&(n.strokeStyle=t),n.textBaseline="hanging",n.textAlign="left";var r=(d-e.width)/2;n.fillText(o,r,v),t&&"none"!==t&&n.strokeText(o,r,v),v+=e.height+c});var m=new Image;m.src=i.toDataURL(),m._width=i.width,m._height=i.height;var h=new a.Texture(m);return h.needsUpdate=!0,h},isPowerOfTwo:function(e){return!!e&&(e&-e)==e},getBestPowerOf2:function(e){for(var t=1;t<e;)t<<=1;return t>4096&&(t=4096),t},expandLineToPipeline:function(e){for(var t=e.attributes.position,n=t.array,o=[],r=0,i=t.count,l=3*r;r<i;r++,l+=3){var u=new a.Vector3(n[l],n[l+1],n[l+2]);o.push(u.x,u.z)}}};Object.freeze(u),t.default=u},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.effect_ambilight_basic_frag=t.effect_ambilight_basic_vert=t.effect_glittering_basic_frag=t.effect_glittering_basic_vert=t.effect_flare_basic_frag=t.effect_flare_basic_vert=t.effect_ripple_basic_frag=void 0;var r=n(23),a=o(r),i=n(24),l=o(i),u=n(25),s=o(u),c=n(26),f=o(c),d=n(27),p=o(d),_=n(28),v=o(_),m=n(29),h=o(m);t.effect_ripple_basic_frag=a.default,t.effect_flare_basic_vert=l.default,t.effect_flare_basic_frag=s.default,t.effect_glittering_basic_vert=f.default,t.effect_glittering_basic_frag=p.default,t.effect_ambilight_basic_vert=v.default,t.effect_ambilight_basic_frag=h.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),s=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(s),f=n(3),d=o(f),p=n(1),_=n(2),v=n(11),m=o(v),h=n(4),g=o(h),y=n(8),b=o(y),w=n(33),x=n(38),O=n(12),M=n(46);[["grouped_pars_vertex",w.grouped_pars_vertex_t],["grouped_vertex",w.grouped_vertex_t],["animated_pars_vertex",x.animated_pars_vertex],["animated_color_pars_vertex",x.animated_color_pars_vertex],["animated_color_vertex",x.animated_color_vertex]].forEach(function(e){var t=e[0],n=e[1];c.ShaderChunk[t]||(c.ShaderChunk[t]=n)});var P=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._crusts=void 0,e._surfaces=void 0,e._strokes=void 0,e._labels=void 0,e._featureIdMap=void 0,e._groupIdMap=void 0,e._groupData=void 0,e._selectedIndex=null,e._scaleX=1,e._scaleY=1,e._scaleZ=1,e._mapData=null,e._itemData=null,e._idField="id",e._interactiveControl=void 0,e._fillColor=16777215,e._fillOpacity=1,e._fillSpecular=1118481,e._useLights=!0,e._strokeColor=0,e._showCrusts=!0,e._showSurfaces=!1,e._showStrokes=!0,e._showLabels=!1,e._labelField="name",e._labelScale=1,e._labelPositionField=void 0,e._labelStyle=void 0,e._labelFillColor=16777215,e._labelStrokeColor=0,e._highlightColor=void 0,e._highlightOffset=0,e._highlightAnimationDuration=50,e._animatedColorPart=void 0,e._boundingBox=null,e._invalidateGeometryFlag=!1,e._invalidateXYFlag=!1,e._invalidateZFlag=!1,e._invalidateItemDataFlag=!1,e._invalidateIdFieldFlag=!1;var n=e;return n._crusts=new _.InteractiveMesh,n._crusts.interactive=!0,n._crusts.buttonMode=!0,n._crusts.useFaces=!0,n._crusts._focusGroupObject=void 0,n._crusts.mouseOut=function(e){var t=-1,o=void 0,r=void 0,a=this;a._focusGroupObject&&(a._focusGroupObject.mouseOut(),t=a._focusGroupObject.index,o=n.mapData.features[t],r=a._focusGroupObject.item,a._focusGroupObject=null),n.dispatchEvent({type:"itemMouseOut",mouseEvent:e,index:t,feature:o,data:r})},n._crusts.mouseOver=function(e){var t=this,o=t.geometry.attributes.groupIndex.getX(e.index),r=n._groupData[o];if(t._focusGroupObject!=r){t._focusGroupObject&&t.mouseOut(e),t._focusGroupObject=r,t._focusGroupObject&&t._focusGroupObject.mouseOver();var a=n.mapData.features[o];n.dispatchEvent({type:"itemMouseOver",mouseEvent:e,index:o,feature:a,data:r.item})}},n._crusts.click=function(e){var t=this.geometry.attributes.groupIndex.getX(e.index),o=n._groupData[t],r=n.mapData.features[t];n.dispatchEvent({type:"itemClick",mouseEvent:e,index:t,feature:r,data:o.item})},n._surfaces=new c.Mesh,n._strokes=new c.LineSegments,e}return i(t,e),u(t,[{key:"_invalidateGeometry",value:function(){var e=this;e._invalidateGeometryFlag||(e._invalidateGeometryFlag=!0,e.invalidateProperties())}},{key:"_invalidateXY",value:function(){var e=this;e._invalidateXYFlag||(e._invalidateXYFlag=!0,e.invalidateProperties())}},{key:"_invalidateZ",value:function(){var e=this;e._invalidateZFlag||(e._invalidateZFlag=!0,e.invalidateProperties())}},{key:"_invalidateItemData",value:function(){var e=this;e._invalidateItemDataFlag||(e._invalidateItemDataFlag=!0,e.invalidateProperties())}},{key:"_invalidateIdField",value:function(){var e=this;e._invalidateIdFieldFlag||(e._invalidateIdFieldFlag=!0,e.invalidateProperties())}},{key:"_getFeatureValue",value:function(e,t,n){var o=e.properties[t];if(void 0===o&&(o=e[t]),void 0===o&&!n)throw new Error('Can NOT find field "'+t+'" with feature.');return o}},{key:"_calculateBoundingBox",value:function(e,t){var n=this;if(0===arguments.length)n._boundingBox=new b.default,n._featureIdMap={},n._mapData.features.forEach(function(e){var t=n._getFeatureValue(e,n._idField);n._featureIdMap[t]=e;var o=e.geometry;e.boundingBox=new b.default,"MultiPolygon"===o.type?o.coordinates.forEach(function(t){n._calculateBoundingBox(t,e.boundingBox)}):"Polygon"===o.type?n._calculateBoundingBox(o.coordinates,e.boundingBox):console.warn("Unsupported geometry:",o),n._enrichBoundingBox(e.boundingBox)}),n._enrichBoundingBox(n._boundingBox);else if(Array.isArray(e)&&e.length>0)for(var o=e[0],r=0;r<o.length;r++){var a=o[r],i=a[0],l=a[1];n._boundingBox.expand(i,l),t.expand(i,l)}}},{key:"_enrichBoundingBox",value:function(e){e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2}},{key:"_createShape",value:function(e){if(Array.isArray(e)&&!(e.length<1)){for(var t=this,n=e[0],o=[],r=void 0,a=void 0,i=0;i<n.length;i++){var l=n[i];if(r!==l[0]||a!==l[1]){r=l[0],a=l[1];var u=l[0];u-=t._boundingBox.centerX,u*=t._scaleX;var s=l[1];s-=t._boundingBox.centerY,s*=t._scaleY,o.push(0===i?"M":"L",u,s),i===n.length-1&&o.push("Z")}}if(!(o.length<=10)){var c=o.join(" ");return m.default.transformSVGPath(c)}}}},{key:"_createCrustGeometry",value:function(e,t){var n=new c.ExtrudeGeometry(e,{amount:this._scaleZ,bevelEnabled:!1}),o=this._getFeatureValue(t,"zOffset",!0);isNaN(o)&&(o=1);for(var r=0,a=n.vertices.length;r<a;r++)n.vertices[r].z*=o;return n}},{key:"_createSurfaceGeometry",value:function(e,t){var n=new c.ShapeGeometry(e),o=this._getFeatureValue(t,"zOffset",!0);isNaN(o)&&(o=1);for(var r=0,a=n.vertices.length;r<a;r++)n.vertices[r].z*=o;return n}},{key:"_createStrokeGeometry",value:function(e,t){var n=new c.ShapeGeometry(e),o=this._getFeatureValue(t,"zOffset",!0);isNaN(o)&&(o=1);for(var r=0,a=n.vertices.length;r<a;r++)n.vertices[r].z*=o;return n}},{key:"_mergeStrokeGeometry",value:function(e,t,n){var o=t._vertices;o||(o=t._vertices=[]);var r=t._indices;r||(r=t._indices=[]);var a=t._groupIndices;a||(a=t._groupIndices=[]);for(var i=0,l=e.vertices.length,u=o.length;i<l;i++,u++)o.push(e.vertices[i]),a.push(n),i<l-1?r.push(u,u+1):r.push(u,u+1-l);return t}},{key:"_updateGroupData",value:function(){var e=this,t=e._mapData.features.length,n=e._fillColor instanceof Array?e._fillColor:[e._fillColor],o=n.map(function(e){return new c.Color(e)}),r=new Float32Array(3*t),a=new c.DataTexture(r,t,1,c.RGBFormat,c.FloatType);a.needsUpdate=!0;var i=new Float32Array(3*t),l=new c.DataTexture(i,t,1,c.RGBFormat,c.FloatType);l.needsUpdate=!0,e._groupData={length:e._mapData.features.length,colorMap:a,offsetMap:l},e._groupIdMap={};for(var u=0,s=0;u<t;u++,s+=3){var f=o[u%o.length];r[s]=f.r,r[s+1]=f.g,r[s+2]=f.b,i[s]=0,i[s+1]=0,i[s+2]=0;var p=e._mapData.features[u],_={index:u,color:f,item:null,_tweenObject:{colorT:0,offsetT:0},_tweenColor:void 0,_tweenOffset:void 0,label:null,labelPosition:null,_selected:!1,get selected(){return this._selected},set selected(e){var t=this;t._selected=e,t._selected?t.mouseOver():t.mouseOut()},mouseOut:function(){var t=this;if(!t._selected){var n=e._interactiveControl;if(!n||"function"!=typeof n.mouseOut||(n.mouseOut.call(t,e),!n.overrideMode)){var o=e._highlightAnimationDuration;t._tweenColor&&t._tweenColor.stop();var r=3*t.index,a=t.color,i=new c.Color(e._highlightColor||a);t._tweenColor=new d.default.Tween(t._tweenObject).to({colorT:0},o).onUpdate(function(e){t._renderColor(r,e.colorT,a,i)}).start(),t._tweenOffset&&t._tweenOffset.stop(),t._tweenOffset=new d.default.Tween(t._tweenObject).to({offsetT:0},o).onUpdate(function(e){t._renderOffset(r,e.offsetT)}).start()}}},mouseOver:function(){var t=this,n=e._interactiveControl;if(!n||"function"!=typeof n.mouseOver||(n.mouseOver.call(t,e),!n.overrideMode)){var o=e._highlightAnimationDuration;t._tweenColor&&t._tweenColor.stop();var r=3*t.index,a=t.color,i=new c.Color(e._highlightColor||a);t._tweenColor=new d.default.Tween(t._tweenObject).to({colorT:1},o).onUpdate(function(e){t._renderColor(r,e.colorT,a,i)}).start(),t._tweenOffset&&t._tweenOffset.stop(),t._tweenOffset=new d.default.Tween(t._tweenObject).to({offsetT:1},o).onUpdate(function(e){t._renderOffset(r,e.offsetT)}).start()}},colorTo:function(e){var t=this;t._tweenColor&&t._tweenColor.stop();var n=3*t.index,o=t.color,r=t.color=e;this._tweenColor=new d.default.Tween({t:0}).to({t:1},500).onUpdate(function(e){t._renderColor(n,e.t,o,r)}).start()},_renderColor:function(e,t,n,o){r[e]=n.r+(o.r-n.r)*t,r[e+1]=n.g+(o.g-n.g)*t,r[e+2]=n.b+(o.b-n.b)*t,a.needsUpdate=!0},_renderOffset:function(t,n){i[t]=0,i[t+1]=0,i[t+2]=n*e._highlightOffset,l.needsUpdate=!0;var o=this;o.label&&(o.label.position.z=o.labelPosition.z+n*e._highlightOffset)},offset:function(e){var t=this,n=3*t.index;i[n]=e.x||0,i[n+1]=e.y||0,i[n+2]=e.z||0,l.needsUpdate=!0,t.label&&t.label.position.set(t.labelPosition.x+(e.x||0),t.labelPosition.y+(e.y||0),t.labelPosition.z+(e.z||0))}};e._groupData[_.index]=_;var v=e._getFeatureValue(p,e._idField);e._groupIdMap[v]=_}}},{key:"_updateCrusts",value:function(e){var t=this;if(t._showCrusts){var n=t._groupData.length,o=(new c.BufferGeometry).fromGeometry(e);o.removeAttribute("color");var r=[],a=[];o.groups.forEach(function(e){for(var t=Math.random()*Math.PI*2,n=e.start,o=e.start+e.count;n<o;n++)r.push(e.materialIndex),a.push(t+2*Math.PI*(n-e.start)/(o-n))}),o.addAttribute("groupIndex",new c.Float32BufferAttribute(r.length,1).copyArray(r)),o.addAttribute("animationOffset",new c.Float32BufferAttribute(a.length,1).copyArray(a));var i=t._animatedColorPart;i instanceof c.Vector3||(i=new c.Vector3(.07,.07,.07));var l=new c.ShaderMaterial({uniforms:(0,_.uniformsMerge)([c.ShaderLib.phong.uniforms],{specular:{type:"c",value:new c.Color(t._fillSpecular)},numGroups:{type:"f",value:n},colorMap:{type:"t",value:t._groupData.colorMap},offsetMap:{type:"t",value:t._groupData.offsetMap},animated:{type:"b",value:!1},animationTime:{type:"f",value:-1},animatedColorPart:{type:"c",value:i},opacity:{type:"f",value:t._fillOpacity}}),vertexShader:["#define NUM_GROUPS "+n,"#define ANIMATED","#define ANIMATED_COLOR",t._useLights?O.crust_phong_vert:O.crust_basic_vert].join("\n"),fragmentShader:t._useLights?O.crust_phong_frag:O.crust_basic_frag,shading:c.SmoothShading,lights:t._useLights,transparent:t._fillOpacity<1});t._crusts.geometry=o,t._crusts.material=l,t.addObject(t._crusts)}}},{key:"_updateSurfaces",value:function(e){var t=this;if(t._showSurfaces){var n=t._groupData.length,o=(new c.BufferGeometry).fromGeometry(e);o.removeAttribute("color");var r=[],a=[];o.groups.forEach(function(e){for(var t=Math.random()*Math.PI*2,n=e.start,o=e.start+e.count;n<o;n++)r.push(e.materialIndex),a.push(t+2*Math.PI*(n-e.start)/(o-n))}),o.addAttribute("groupIndex",new c.Float32BufferAttribute(r.length,1).copyArray(r)),o.addAttribute("animationOffset",new c.Float32BufferAttribute(a.length,1).copyArray(a));var i=new c.ShaderMaterial({uniforms:(0,_.uniformsMerge)([c.ShaderLib.phong.uniforms],{colorMap:{type:"fv",value:t._groupData.colorMap2},offsetMap:{type:"fv",value:t._groupData.offsetMap},animationTime:{type:"f",value:-1},animatedColorPart:{type:"c",value:new c.Vector3(.07,.07,.07)}}),vertexShader:["#define NUM_GROUPS "+n,"#define ANIMATED","#define ANIMATED_COLOR",t._useLights?O.crust_phong_vert:O.crust_basic_vert].join("\n"),fragmentShader:t._useLights?O.crust_phong_frag:O.crust_basic_frag,lights:t._useLights});t._surfaces.geometry=o,t._surfaces.material=i,t._surfaces.position.z=1.01*t._scaleZ,t.addObject(t._surfaces)}}},{key:"_updateStrokes",value:function(e){var t=this;if(t._showStrokes){var n=t._groupData.length,o=e,r=o._vertices,a=o._indices,i=o._groupIndices;o.addAttribute("position",new c.Float32BufferAttribute(3*r.length,3).copyVector3sArray(r)),o.setIndex(new(a.length>65535?c.Uint32Attribute:c.Uint16BufferAttribute)(a.length,1).copyArray(a)),o.addAttribute("groupIndex",new c.Float32BufferAttribute(i.length,1).copyArray(i)),delete o._vertices,delete o._indices,delete o._groupIndices;var l=new c.ShaderMaterial({uniforms:{numGroups:{type:"f",value:n},offsetMap:{type:"t",value:t._groupData.offsetMap},opacity:{type:"f",value:1},diffuse:{type:"c",value:new c.Color(this._strokeColor)}},vertexShader:["#define NUM_GROUPS "+n,M.stroke_line_basic_vert_t].join("\n"),fragmentShader:M.stroke_line_basic_frag,side:c.DoubleSide});t._strokes.geometry=o,t._strokes.material=l,t._strokes.position.z=1.02*t._scaleZ,t.addObject(t._strokes)}}},{key:"_updateLabels",value:function(){var e=this;if(e._labels&&e._labels.length>0&&(e._labels.forEach(function(t){e.removeObject(t)}),e._labels=null),e._showLabels&&e._groupData){var t="#"+new c.Color(e._labelFillColor).getHexString(),n="#"+new c.Color(e._labelStrokeColor).getHexString();e._labels=[];for(var o=0,r=e._groupData.length;o<r;o++){var a=e._groupData[o],i=e._mapData.features[a.index],l=e._getFeatureValue(i,"zOffset",!0);isNaN(l)&&(l=1);var u=e._getFeatureValue(i,e._labelField,!0);if(u){var s=e._labelStyle,f=void 0;if(s){var d=g.default.createTextTexture(u,s),p=d.image._width,_=d.image._height,v=new c.MeshBasicMaterial({map:d,depthWrite:!1,transparent:!0}),m=e._labelScale/10,h=new c.PlaneBufferGeometry(p*m,_*m,10,10);f=new c.Mesh(h,v)}else{var y=new c.PlaneBufferGeometry(e._scaleX*e._labelScale,e._scaleY*e._labelScale,10,10),b=new c.MeshBasicMaterial({map:g.default.createTextureWithText(u,{fillStyle:t,strokeStyle:n}),depthWrite:!1,transparent:!0});f=new c.Mesh(y,b)}var w=i.boundingBox.centerX,x=i.boundingBox.centerY,O=e._getFeatureValue(i,e._labelPositionField,!0);O instanceof Array&&(w=O[0],x=O[1]);var M=e.lonLatToXY(w,x);f.position.x=M.x,f.position.y=M.y,f.position.z=e.scaleZ*(l+.05),e.addObject(f),e._labels.push(f),a.label=f,a.labelPosition=f.position.clone()}}}}},{key:"commitProperties",value:function(){var e=this;if(e._invalidateGeometryFlag){e.removeObject(e._crusts),e.removeObject(e._surfaces),e.removeObject(e._strokes);var t=new c.Geometry,n=new c.Geometry,o=new c.BufferGeometry;e._mapData.features.forEach(function(r,a){var i=r.geometry;if("MultiPolygon"===i.type)i.coordinates.forEach(function(i){var l=e._createShape(i);if(l){var u=e._createCrustGeometry(l,r);_.geometryMerge.call(t,u,void 0,a);var s=e._createSurfaceGeometry(l,r);_.geometryMerge.call(n,s,void 0,a);var c=e._createStrokeGeometry(l,r);e._mergeStrokeGeometry(c,o,a)}});else if("Polygon"===i.type){var l=e._createShape(i.coordinates);if(!l)return;var u=e._createCrustGeometry(l,r);_.geometryMerge.call(t,u,void 0,a);var s=e._createSurfaceGeometry(l,r);_.geometryMerge.call(n,s,void 0,a);var c=e._createStrokeGeometry(l,r);e._mergeStrokeGeometry(c,o,a)}else console.warn("Unsupported geometry:",i)}),e._updateGroupData(),e._updateCrusts(t),e._updateSurfaces(n),e._updateStrokes(o),e._updateLabels(),e._invalidateGeometryFlag=!1}e._invalidateXYFlag&&(e._invalidateXYFlag=!1),e._invalidateIdFieldFlag&&(e._invalidateIdFieldFlag=!1),e._invalidateItemDataFlag&&(e._itemData&&e._itemData.forEach(function(t){e._itemDataUpdated(t)}),e._invalidateItemDataFlag=!1)}},{key:"_itemDataUpdated",value:function(e){var t=this._groupIdMap[e.id];t&&(t.item=e,e.color&&t.colorTo(new c.Color(e.color)),e.offset&&"object"===l(e.offset)&&t.offset(e.offset))}},{key:"lonLatToXY",value:function(e,t){var n=this,o=n._boundingBox;return new c.Vector2((e-o.centerX)*n._scaleX,(t-o.centerY)*n._scaleY)}},{key:"getFeature",value:function(e){return this._featureIdMap[e]}},{key:"getFeatureValue",value:function(e,t){return this._getFeatureValue(e,t,!0)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(e){var t=this;t._groupData[t._selectedIndex]&&(t._groupData[t._selectedIndex].selected=!1),t._selectedIndex=e,t._groupData[t._selectedIndex]&&(t._groupData[t._selectedIndex].selected=!0)}},{key:"scaleX",get:function(){return this._scaleX},set:function(e){var t=this;t._scaleX=e,t._invalidateXY()}},{key:"scaleY",get:function(){return this._scaleY},set:function(e){var t=this;t._scaleY=e,t._invalidateXY()}},{key:"scaleZ",get:function(){return this._scaleZ},set:function(e){var t=this;t._scaleZ=e,t._invalidateZ()}},{key:"mapData",get:function(){return this._mapData},set:function(e){var t=this;t._mapData=e,t._calculateBoundingBox(),t._invalidateGeometry()}},{key:"itemData",get:function(){return this._itemData},set:function(e){var t=this;t._itemData=e,t._invalidateItemData()}},{key:"idField",get:function(){return this._idField},set:function(e){var t=this;t._idField=e,t._invalidateIdField()}},{key:"interactive",get:function(){return this._crusts.interactive},set:function(e){this._crusts.interactive=e}},{key:"interactiveControl",get:function(){return this._interactiveControl},set:function(e){this._interactiveControl=e}},{key:"fillColor",get:function(){return this._fillColor},set:function(e){this._fillColor=e}},{key:"fillOpacity",get:function(){return this._fillOpacity},set:function(e){this._fillOpacity=e}},{key:"fillSpecular",get:function(){return this._fillSpecular},set:function(e){this._fillSpecular=e}},{key:"useLights",get:function(){return this._useLights},set:function(e){this._useLights=e}},{key:"strokeColor",get:function(){return this._strokeColor},set:function(e){this._strokeColor=e}},{key:"showCrusts",get:function(){return this._showCrusts},set:function(e){this._showCrusts=e}},{key:"showSurfaces",get:function(){return this._showSurfaces},set:function(e){this._showSurfaces=e}},{key:"showStrokes",get:function(){return this._showStrokes},set:function(e){this._showStrokes=e}},{key:"showLabels",get:function(){return this._showLabels},set:function(e){this._showLabels=e}},{key:"labelField",get:function(){return this._labelField},set:function(e){this._labelField=e}},{key:"labelScale",get:function(){return this._labelScale},set:function(e){this._labelScale=e}},{key:"labelPositionField",get:function(){return this._labelPositionField},set:function(e){this._labelPositionField=e}},{key:"labelStyle",get:function(){return this._labelStyle},set:function(e){this._labelStyle=e}},{key:"labelFillColor",get:function(){return this._labelFillColor},set:function(e){this._labelFillColor=e}},{key:"labelStrokeColor",get:function(){return this._labelStrokeColor},set:function(e){this._labelStrokeColor=e}},{key:"highlightColor",get:function(){return this._highlightColor},set:function(e){this._highlightColor=e}},{key:"highlightOffset",get:function(){return this._highlightOffset},set:function(e){this._highlightOffset=e}},{key:"highlightAnimationDuration",get:function(){return this._highlightAnimationDuration},set:function(e){this._highlightAnimationDuration=Math.max(e,50)}},{key:"animatedColorPart",get:function(){return this._animatedColorPart},set:function(e){this._animatedColorPart=e}},{key:"boundingBox",get:function(){return this._boundingBox}},{key:"crustsMaterial",get:function(){return this._crusts.material}},{key:"crusts",get:function(){return this._crusts}}]),t}(c.Group);(0,p.forge)(P,_.InteractiveObject,p.UiComponent),t.default=P},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(54),c=function(e){return e&&e.__esModule?e:{default:e}}(s),f=n(1),d=n(2),p=function(e){return"function"==typeof e},_=function(e,t,n){p(e)&&e.apply(t,n)},v=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n._option=void 0,n._initialized=!1,n._stage3d=void 0,n._timer=void 0,n._controls=void 0,n._lightGroup=void 0,n._option=e||{},n}return a(t,e),i(t,[{key:"addPointLight",value:function(e,t,n,o,r,a,i){var l=this,s=l._lightGroup,c=l._stage3d.scene,f=new u.PointLight(e,t);if(f.position.set(n,o,r),s.add(f),a){var d=new u.Mesh(new u.SphereGeometry(i||1),new u.MeshBasicMaterial({color:e}));d.position.set(n,o,r),c.add(d)}return f}},{key:"initialize",value:function(){var e=this;if(!e._initialized)return e._initialized=!0,e.initialize=void 0,e._initEngine=_(e._initEngine,e),e._initControls=_(e._initControls,e),e._initLights=_(e._initLights,e),e._initMaterials=_(e._initMaterials,e),e._initObjects=_(e._initObjects,e),e._initEventListeners=_(e._initEventListeners,e),e._initFinally=_(e._initFinally,e),e}},{key:"_initEngine",value:function(){var e=this,t=new d.Stage3D;t.camera.position.set(74/255,85/255,83/255),e._stage3d=t;var n=new f.Timer(f.Timer.REQUEST_ANIMATION_FRAME);n.on("timer",function(){t.render(),e.render()}),e._timer=n,e._lightGroup=new u.Group,t.addObject(e._lightGroup)}},{key:"_initControls",value:function(){var e=this,t=e._stage3d,n=new c.default(t.camera,t.domElement);n.enableDamping=!0,n.dampingFactor=.25,n.rotateSpeed=.35,n.minDistance=100,n.maxDistance=1600,n.update(),e._controls=n}},{key:"_initLights",value:function(){this.addPointLight(16777215,1,0,0,1e3)}},{key:"_initMaterials",value:function(){}},{key:"_initObjects",value:function(){this.addObject(new u.Mesh(new u.BoxBufferGeometry(1,1,1)))}},{key:"_initEventListeners",value:function(){var e=this;e.domElement.addEventListener("dblclick",function(t){t.shiftKey&&(console.log("DEBUG: "),console.log("camera.position",[e._stage3d.camera.position.x,e._stage3d.camera.position.y,e._stage3d.camera.position.z].join(",")),console.log("control.target",[e._controls.target.x,e._controls.target.y,e._controls.target.z].join(",")))})}},{key:"_initFinally",value:function(){}},{key:"render",value:function(){}},{key:"startRender",value:function(){this._timer.start()}},{key:"stopRender",value:function(){this._timer.stop()}},{key:"appear",value:function(e,t,n){"function"==typeof n&&n.call()}},{key:"disappear",value:function(e,t,n){"function"==typeof n&&n.call()}},{key:"resize",value:function(e,t){var n=this._stage3d;n.width=e,n.height=t}},{key:"capture",value:function(e,t){this._stage3d.capture(e,t)}},{key:"addObject",value:function(e){this._stage3d.addObject(e)}},{key:"removeObject",value:function(e){this._stage3d.removeObject(e)}},{key:"domElement",get:function(){return this._stage3d.domElement}},{key:"stage3d",get:function(){return this._stage3d}},{key:"renderer",get:function(){return this._stage3d.renderer}},{key:"scene",get:function(){return this._stage3d.scene}},{key:"camera",get:function(){return this._stage3d.camera}},{key:"controls",get:function(){return this._controls}}]),t}(f.EventDispatcher);t.default=v},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(t,n,r,a){o(this,e),this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY;var i=this;i.minX=t||Number.POSITIVE_INFINITY,i.minY=n||Number.POSITIVE_INFINITY,i.maxX=r||Number.NEGATIVE_INFINITY,i.maxY=a||Number.NEGATIVE_INFINITY}return r(e,[{key:"expand",value:function(e,t){var n=this;n.minX>e&&(n.minX=e),n.minY>t&&(n.minY=t),n.maxX<e&&(n.maxX=e),n.maxY<t&&(n.maxY=t)}},{key:"contains",value:function(e,t){var n=this;return e>=n.minX&&e<=n.maxX&&t>=n.minY&&t<=n.maxY}},{key:"enrich",value:function(){var e=this;e.x=e.minX,e.y=e.minY,e.width=e.maxX-e.minX,e.height=e.maxY-e.minY,e.centerX=(e.minX+e.maxX)/2,e.centerY=(e.minY+e.maxY)/2}}]),e}();t.default=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(s),f=n(1),d=n(2),p=n(5),_=2*Math.PI,v=Math.PI/180,m=function(e){!(e.geometry instanceof u.BufferGeometry)&&e.geometry instanceof u.Geometry&&(e.geometry=(new u.BufferGeometry).fromGeometry(e.geometry));for(var t=e.geometry,n=t.attributes.position.count,o=[],r=0;r<n;r++)o.push(Math.random()*_);t.addAttribute("alphaOffset",new u.Float32BufferAttribute(o,1))},h=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._indices1=void 0,e._indices2=void 0,e._tween=void 0,e._tweenObject=void 0,e._invaildateSizeFlag=!1,e._invaildateGeometryFlag=!1,e._invaildateStyleFlag=!1,e._radiusTop=1,e._radiusBottom=1,e._width=1,e._height=1,e._startHeight=0,e._endHeight=1,e._numSides=3,e._color=0,e._opacity=1,e._emphasisColor=11757311;var n=e;return n.interactive=!0,n.buttonMode=!0,n.renderable=!0,n.material=new u.ShaderMaterial({uniforms:{time:{type:"f",value:0},color:{type:"c",value:new u.Color(0)},alpha:{type:"f",value:1},a0:{type:"f",value:.78},a1:{type:"f",value:1},flag:{type:"b",value:!0}},vertexShader:p.effect_glittering_basic_vert,fragmentShader:p.effect_glittering_basic_frag,depthTest:!0,transparent:!1}),n.rotation.y=45*v,n._tweenObject={t:0},n._invaildateGeometry(),e}return a(t,e),i(t,[{key:"_invaildateSize",value:function(){var e=this;e._invaildateSizeFlag||(e._invaildateSizeFlag=!0,e.invalidateProperties())}},{key:"_invaildateGeometry",value:function(){var e=this;e._invaildateGeometryFlag||(e._invaildateGeometryFlag=!0,e.invalidateProperties())}},{key:"_invaildateStyle",value:function(){var e=this;e._invaildateStyleFlag||(e._invaildateStyleFlag=!0,e.invalidateProperties())}},{key:"commitProperties",value:function(){var e=this;if(e._invaildateGeometryFlag){var t=new u.CylinderBufferGeometry(e._radiusTop,e._radiusBottom,100,e._numSides,1);e.geometry=t,e._invaildateGeometryFlag=!1,e._invaildateSizeFlag=!0,m(e),e._indices1=[],e._indices2=[];for(var n=t.attributes.position,o=n.array,r=0,a=n.count,i=0;r<a;r++,i+=3)o[i+1]<0?e._indices1.push(r):e._indices2.push(r)}if(e._invaildateSizeFlag){var l=e.geometry,s=l.attributes.position;if(s){var c=s.array;e._indices1.forEach(function(t){c[3*t+1]=e._startHeight}),e._indices2.forEach(function(t){c[3*t+1]=e._endHeight}),s.needsUpdate=!0,l.computeBoundingBox(),l.computeBoundingSphere()}e._invaildateSizeFlag=!1}e._invaildateStyleFlag&&(e.material.uniforms.color.value=new u.Color(e._color),e.material.uniforms.alpha.value=e._opacity,e.material.transparent=e._opacity<1,e._invaildateStyleFlag=!1)}},{key:"appear",value:function(e,t,n){var o=this;o.startHeight=0,o.endHeight=0,o.visible=!1,o._tween&&o._tween.stop(),o._tween=new c.default.Tween(o).to({endHeight:o._height},t||1e3).delay(e||0).onUpdate(function(){o.visible=o.endHeight-o.startHeight>0}).onComplete(function(){"function"==typeof n&&n.call(o,o)}).start()}},{key:"disappear",value:function(e,t,n){var o=this;o._tweenObject.t=1,o._tween&&o._tween.stop(),o._tween=new c.default.Tween(o._tweenObject).to({t:0},t||1e3).delay(e||0).onUpdate(function(e){var t=e.t;o.scale.set(t,t,t),o.visible=o.endHeight-o.startHeight>0}).onComplete(function(){"function"==typeof n&&n.call(o,o)}).start()}},{key:"mouseOut",value:function(){var e=this;e.material.uniforms.color.value=new u.Color(e._color)}},{key:"mouseOver",value:function(){var e=this;e.material.uniforms.color.value=new u.Color(e._emphasisColor)}},{key:"click",value:function(){}},{key:"render",value:function(){this.material.uniforms.time.value+=.025*_}},{key:"radiusTop",get:function(){return this._radiusTop},set:function(e){var t=this;t._radiusTop=e,t._invaildateGeometry()}},{key:"radiusBottom",get:function(){return this._radiusBottom},set:function(e){var t=this;t._radiusBottom=e,t._invaildateGeometry()}},{key:"width",get:function(){return this._width},set:function(e){var t=this;t._width=e,t._radiusTop=e,t._radiusBottom=e,t._invaildateGeometry()}},{key:"height",get:function(){return this._height},set:function(e){var t=this;t._height=e,t._startHeight=0,t._endHeight=e,t._invaildateSize()}},{key:"startHeight",get:function(){return this._startHeight},set:function(e){var t=this;t._startHeight=e,t._invaildateSize()}},{key:"endHeight",get:function(){return this._endHeight},set:function(e){var t=this;t._endHeight=e,t._invaildateSize()}},{key:"numSides",get:function(){return this._numSides},set:function(e){var t=this;t._numSides=Math.max(e,3),t._invaildateGeometry()}},{key:"color",get:function(){return this._color},set:function(e){var t=this;t._color=e,t._invaildateStyle()}},{key:"opacity",get:function(){return this._opacity},set:function(e){var t=this;t._opacity=e,t._invaildateStyle()}},{key:"emphasisColor",get:function(){return this._emphasisColor},set:function(e){this._emphasisColor=e}}]),t}(u.Mesh);(0,f.forge)(h,d.InteractiveObject,f.UiComponent),t.default=h},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(s),f=n(30),d=n(1),p=n(2),_=(Math.PI,function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._dotData=void 0,n.raycast=function(){var e=new u.Matrix4,t=new u.Ray,n=new u.Sphere;return function(o,r){function a(e,n){var a=t.distanceSqToPoint(e);if(a<d){var l=t.closestPointToPoint(e);l.applyMatrix4(s);var u=o.ray.origin.distanceTo(l);if(u<o.near||u>o.far)return;r.push({distance:u,distanceToRay:Math.sqrt(a),point:l.clone(),index:n,face:null,object:i})}}var i=this,l=this.geometry,s=this.matrixWorld,c=o.params.Points.threshold;if(null===l.boundingSphere&&l.computeBoundingSphere(),n.copy(l.boundingSphere),n.applyMatrix4(s),n.radius+=c,!1!==o.ray.intersectsSphere(n)){e.getInverse(s),t.copy(o.ray).applyMatrix4(e);var f=2*c/((this.scale.x+this.scale.y+this.scale.z)/3),d=f*f,p=new u.Vector3;if(l.isBufferGeometry){var _=l.index,v=l.attributes,m=v.position.array;if(null!==_)for(var h=_.array,g=0,y=h.length;g<y;g++){var b=h[g];p.fromArray(m,3*b),a(p,b)}else for(var g=0,w=m.length/3;g<w;g++)p.fromArray(m,3*g),a(p,g)}else for(var x=l.vertices,g=0,w=x.length;g<w;g++)a(x[g],g)}}}();var a=n;a._option=e||{};var i=new u.ShaderMaterial({uniforms:(0,p.uniformsMerge)([u.ShaderLib.points.uniforms],{scale:{type:"f",value:100},animated:{type:"b",value:!1},animationTime:{type:"f",value:0}}),defines:{ANIMATED:"",USE_SIZEATTENUATION:""},vertexShader:f.dot_gush_vert,fragmentShader:f.dot_gush_frag,depthWrite:!1,transparent:!0});return a.material=i,a.interactive=!0,a.buttonMode=!0,a.renderable=!0,n}return a(t,e),i(t,[{key:"click",value:function(e){var t=this,n=e.index,o=t._dotData[n];t.fire({type:"dotClick",index:n,item:o.item,mouseEvent:e})}},{key:"mouseOver",value:function(e){var t=this,n=e.index,o=t._dotData[n];t.fire({type:"dotMouseOver",index:n,item:o.item,mouseEvent:e})}},{key:"mouseOut",value:function(e){this.fire({type:"dotMouseOut",mouseEvent:e})}},{key:"render",value:function(){var e=this,t=e.material,n=t.uniforms.animationTime;n.value+=.01,n.value>1&&(n.value-=1)}},{key:"appear",value:function(e,t,n){var o=this;o.geometry.setDrawRange(0,0),new c.default.Tween({t:0}).to({t:1},t||1e3).delay(e||0).easing(c.default.Easing.Cubic.InOut).onUpdate(function(e){o.geometry.setDrawRange(0,e.t*(o._dotData||[]).length)}).onComplete(function(){"function"==typeof n&&n.call(o,o)}).start()}},{key:"disappear",value:function(){}},{key:"dotData",get:function(){return this._dotData},set:function(e){var t=this;t._dotData=e;var n=new u.BufferGeometry,o=[],r=[],a=[],i=[],l=[];e.forEach(function(e,t){var n=new u.Vector3;isFinite(e.x)&&(n.x=e.x),isFinite(e.y)&&(n.y=e.y),isFinite(e.z)&&(n.z=e.z),o.push(n),r.push(t),a.push(Math.random()),i.push(10*(e.size||1)),l.push(new u.Color(e.color||16711680))}),n.removeAttribute("position"),n.addAttribute("position",new u.Float32BufferAttribute(3*o.length,3).copyVector3sArray(o)),n.removeAttribute("i"),n.addAttribute("i",new u.Float32BufferAttribute(r.length,1).copyArray(r)),n.removeAttribute("animationOffset"),n.addAttribute("animationOffset",new u.Float32BufferAttribute(a.length,1).copyArray(a)),n.removeAttribute("size"),n.addAttribute("size",new u.Float32BufferAttribute(i.length,1).copyArray(i)),n.removeAttribute("color"),n.addAttribute("color",new u.Float32BufferAttribute(3*l.length,3).copyColorsArray(l)),t.geometry=n}}]),t}(u.Points));(0,d.forge)(_,p.InteractiveObject,d.EventDispatcher),t.default=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),a={};!function(e){var t=Math.PI/180,n=48,o=57,a=44,i=32,l=45;e.transformSVGPath=function(e){function u(){for(var t,r,u,s=!1,c=!1;_<v&&((r=e.charCodeAt(_))===a||r===i);)_++;for(t=r===l?_++:_;_<v;)if(r=e.charCodeAt(_),n<=r&&r<=o)_++;else if(46!==r)if(c||101!==r){if(!c||r!==l)return u=e.substring(t,_),s?parseFloat(u):parseInt(u);_++}else _++,c=!0,s=!0;else _++,s=!0;return u=e.substring(t),s?parseFloat(u):parseInt(u)}var s,c,f,d,p=new r.Shape,_=1,v=e.length,m=0,h=0,g=0,y=0,b=null,w=null,x=0,O=0,M=0,P=0,C=0,k=0,S=0,j=0,F=0;for(s=e[0];_<=v;){switch(d=!0,s){case"M":m=u(),h=u(),p.moveTo(m,h),s="L",b=m,w=h;break;case"m":m+=u(),h+=u(),p.moveTo(m,h),s="l",b=m,w=h;break;case"Z":case"z":d=!1,m===b&&h===w||p.lineTo(b,w);break;case"L":case"H":case"V":g="V"===s?m:u(),y="H"===s?h:u(),p.lineTo(g,y),m=g,h=y;break;case"l":case"h":case"v":g="v"===s?m:m+u(),y="h"===s?h:h+u(),p.lineTo(g,y),m=g,h=y;break;case"C":x=u(),M=u();case"S":"S"===s&&(x=2*m-O,M=2*h-P),O=u(),P=u(),g=u(),y=u(),p.bezierCurveTo(x,M,O,P,g,y),m=g,h=y;break;case"c":x=m+u(),M=h+u();case"s":"s"===s&&(x=2*m-O,M=2*h-P),O=m+u(),P=h+u(),g=m+u(),y=h+u(),p.bezierCurveTo(x,M,O,P,g,y),m=g,h=y;break;case"Q":x=u(),M=u();case"T":"T"===s&&(x=2*m-x,M=2*h-M),g=u(),y=u(),p.quadraticCurveTo(x,M,g,y),m=g,h=y;break;case"q":x=m+u(),M=h+u();case"t":"t"===s&&(x=2*m-x,M=2*h-M),g=m+u(),y=h+u(),p.quadraticCurveTo(x,M,g,y),m=g,h=y;break;case"A":C=u(),k=u(),S=u()*t,j=u(),F=u(),g=u(),y=u(),C!==k&&console.warn("Forcing elliptical arc to be a circular one :(",C,k),x=Math.cos(S)*(m-g)/2+Math.sin(S)*(h-y)/2,M=-Math.sin(S)*(m-g)/2+Math.cos(S)*(h-y)/2;var E=Math.sqrt((C*C*k*k-C*C*M*M-k*k*x*x)/(C*C*M*M+k*k*x*x));j===F&&(E=-E),O=E*C*M/k,P=E*-k*x/C,c=Math.cos(S)*O-Math.sin(S)*P+(m+g)/2,f=Math.sin(S)*O+Math.cos(S)*P+(h+y)/2;var T=new r.Vector2(1,0),A=new r.Vector2((x-O)/C,(M-P)/k),I=Math.acos(T.dot(A)/T.length()/A.length());T.x*A.y-T.y*A.x<0&&(I=-I),T.x=(-x-O)/C,T.y=(-M-P)/k;var D=Math.acos(A.dot(T)/A.length()/T.length());A.x*T.y-A.y*T.x<0&&(D=-D),!F&&D>0&&(D-=2*Math.PI),F&&D<0&&(D+=2*Math.PI),p.absarc(c,f,C,I,I+D,F),m=g,h=y;break;default:throw new Error("weird path command: "+s)}d&&function(){for(var t;_<v&&((t=e.charCodeAt(_))===a||t===i);)_++;return(t=e.charCodeAt(_))===l||n<=t&&t<=o}()||(s=e[_++])}return p}}(a),t.default=a},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.crust_phong_frag=t.crust_phong_vert=t.crust_basic_frag=t.crust_basic_vert=void 0;var r=n(42),a=o(r),i=n(43),l=o(i),u=n(44),s=o(u),c=n(45),f=o(c);t.crust_basic_vert=a.default,t.crust_basic_frag=l.default,t.crust_phong_vert=s.default,t.crust_phong_frag=f.default},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(3),f=(o(c),n(1),n(2),n(11)),d=o(f),p=n(6),_=o(p),v={lonLatToXY:function(e,t,n){var o=n._boundingBox||{centerX:0,centerY:0},r=n._scaleX||1,a=n._scaleY||1;return new s.Vector2((e-o.centerX)*r,(t-o.centerY)*a)}},m=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._projection=void 0,e}return i(t,e),l(t,[{key:"_createShape",value:function(e){if(Array.isArray(e)&&!(e.length<1)){for(var t=this,n=e[0],o=[],r=void 0,a=void 0,i=0;i<n.length;i++){var l=n[i];if(r!==l[0]||a!==l[1]){r=l[0],a=l[1];var u=t.lonLatToXY(l[0],l[1]);o.push(0===i?"M":"L",u.x,u.y),i===n.length-1&&o.push("Z")}}if(!(o.length<=10)){var s=o.join(" ");return d.default.transformSVGPath(s)}}}},{key:"lonLatToXY",value:function(e,t){var n=this;return(n._projection||v).lonLatToXY(e,t,n)}},{key:"projection",get:function(){return this._projection},set:function(e){this._projection=e}}]),t}(_.default);t.default=m},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(3),f=o(c),d=n(13),p=o(d),_=n(50),v=o(_),m=n(52),h=o(m),g=n(53),y=o(g),b=n(1),w=n(2),x=2*Math.PI,O=Math.PI/180,M=function(e,t){return isFinite(e)?e:t},P=new s.Quaternion,C=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._option=void 0,n._mapItemData=void 0,n._mapItemDataMapping=void 0,n._mapItemDataList=void 0,n._map=void 0,n._southChinaSea=void 0,n._rank=void 0,n._rankPosition=void 0,n._flag=0;var o=n;e=e||{},o._option=e,o._mapItemDataMapping={},o._mapItemDataList=[];var i=new p.default;if(i.idField=e.idField||"id",i.mapData=e.mapData||y.default,i.useLights=0!=e.useLights,i.showCrusts=0!=e.showCrusts,i.showStrokes=0!=e.showStrokes,i.animatedColorPart=e.animatedColorPart,i.strokeColor=e.strokeColor||10802930,i.fillColor=e.fillColor||15135484,i.fillOpacity=e.fillOpacity||1,i.fillSpecular=e.fillSpecular||1118481,i.showLabels=0!=e.showLabels,i.labelField=e.labelField||"name",i.labelPositionField=e.labelPositionField||"cp",i.labelScale=e.labelScale||1.25,i.labelStyle=e.labelStyle,i.labelFillColor=e.labelFillColor||5282240,i.labelStrokeColor=e.labelStrokeColor||0,i.highlightColor=e.highlightColor||16774836,i.highlightOffset=M(e.highlightOffset,5),i.highlightAnimationDuration=150,i.scaleX=e.scaleX||10,i.scaleY=e.scaleY||10,i.scaleZ=e.scaleZ||20,i.projection=e.projection,o.addObject(i),o._map=i,i.on("itemClick",function(e){o.dispatchEvent({type:"mapItemClick",mouseEvent:e.mouseEvent,index:e.index,feature:e.feature,item:e.data})}),i.on("itemMouseOut",function(e){o.dispatchEvent({type:"mapItemMouseOut",mouseEvent:e.mouseEvent,item:e.data})}),i.on("itemMouseOver",function(e){o.dispatchEvent({type:"mapItemMouseOver",mouseEvent:e.mouseEvent,index:e.index,feature:e.feature,item:e.data})}),0!=e.isChina){var l=e.southChinaSea||{},u=new v.default;u.scaleX=l.scaleX||.0618*i.scaleX,u.scaleY=l.scaleY||.0618*i.scaleY,u.scaleZ=l.scaleZ||.9*i.scaleZ,u.showLabels=!0,u.labelField="name",u.labelStyle=l.labelStyle||i.labelStyle,u.labelStyle?u.labelScale=l.labelScale||i.labelScale:u.labelScale=l.labelScale||25*i.labelScale,u.labelFillColor=l.labelFillColor||i.labelFillColor,u.labelStrokeColor=l.labelStrokeColor||i.labelStrokeColor,u.fillColor=l.fillColor||i.fillColor,u.strokeColor=l.strokeColor||i.strokeColor,u.highlightColor=l.highlightColor||i.highlightColor,u.highlightAnimationDuration=l.highlightAnimationDuration||i.highlightAnimationDuration,u.position.set.apply(u.position,l.position||[240,-130,0]),o.addObject(u),o._southChinaSea=u}var c=e.rank||{},f=new h.default({palette:c.palette||[0],scale:8,textFillColor:c.textFillColor||"#FFFFFF",textStrokeColor:c.textStrokeColor||"#000000"}),d=c.position||[240,-30,8];f.position.set.apply(f.position,d),0!=e.useRank&&o.addObject(f),o._rank=f,o._rankPosition=d,e.mapItemData&&(o.mapItemData=e.mapItemData);if(i.interactive=!1,i.mapData.features.forEach(function(e){var t=i._getFeatureValue(e,i._idField),n=o._mapItemDataMapping[t];n||(n={id:t},o._mapItemDataMapping[t]=n,o._mapItemDataList.push(n)),n.offset=new s.Vector3(0,0,-1e4)}),i.itemData=o._mapItemDataList,0!=e.isChina){var _=o._southChinaSea;_.interactive=!1;var m=[{id:"460300",offset:new s.Vector3(0,0,-1e4)}];_.itemData=m}if(0!=e.useRank){o._rank.position.set(0,0,-1e4)}return o.renderable=!0,n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=e._option,n=e.map,o=e._southChinaSea;if(0!=t.useWave){var r=t.waveSpeed||3*O;if(n){var a=n.crustsMaterial;if(a){var i=a.uniforms;if(i){i.animated.value=!0;var l=i.animationTime;l.value+=r,l.value%=x}}}if(o){var u=o.crustsMaterial;if(u){var s=u.uniforms;if(s){s.animated.value=!0;var c=s.animationTime;c.value+=r,c.value%=x}}}}if(0!=t.labelLockZ&&t.showLabels){var f=e._stage3d,d=f.camera,p=this.getWorldQuaternion(P),_=d.rotation,v=_.z-p.z,m=n._labels;if(m&&m.forEach(function(e){e.rotation.z=v}),o){var h=o._labels;h&&h.forEach(function(e){e.rotation.z=v})}}}},{key:"appear",value:function(e,t){var n=this;e=isFinite(e)?e:0,t=isFinite(t)?t:600;var o=n._option,r=n._map,a=r.mapData.features,i=t/a.length;if(a.forEach(function(o,l){var u=r._getFeatureValue(o,r._idField),s=n._mapItemDataMapping[u];new f.default.Tween({t:1}).to({t:0},t).delay(e+i*l).easing(f.default.Easing.Cubic.Out).onUpdate(function(e){s.offset.z=-1e4*e.t,r.itemData=n._mapItemDataList}).onComplete(function(){l==a.length-1&&(r.interactive=!0)}).start()}),e+=i*a.length,0!=o.isChina){var l=n._southChinaSea,u=l.itemData;new f.default.Tween({t:1}).to({t:0},t).delay(e).easing(f.default.Easing.Cubic.Out).onUpdate(function(e){u[0].offset.z=-1e4*e.t,l.itemData=u}).onComplete(function(){l.interactive=!0}).start(),e+=i}if(0!=o.useRank){var s=n._rank,c=n._rankPosition;new f.default.Tween(s.position).to({x:c[0],y:c[1],z:c[2]},t).delay(e).easing(f.default.Easing.Cubic.Out).start()}}},{key:"disappear",value:function(e,t){var n=this;e=isFinite(e)?e:0,t=isFinite(t)?t:600;var o=n._option,r=n._map;r.interactive=!1;var a=r.mapData.features,i=t/a.length;if(a.forEach(function(o,a){var l=r._getFeatureValue(o,r._idField),u=n._mapItemDataMapping[l];new f.default.Tween({t:0}).to({t:1},t).delay(e+i*a).easing(f.default.Easing.Cubic.In).onUpdate(function(e){u.offset.z=-1e4*e.t,r.itemData=n._mapItemDataList}).start()}),e+=i*a.length,0!=o.isChina){var l=n._southChinaSea;l.interactive=!1;var u=l.itemData;new f.default.Tween({t:0}).to({t:1},t).delay(e).easing(f.default.Easing.Cubic.Out).onUpdate(function(e){u[0].offset.z=-1e4*e.t,l.itemData=u}).start(),e+=i}if(0!=o.useRank){var s=n._rank;new f.default.Tween(s.position).to({x:0,y:0,z:-1e4},600).easing(f.default.Easing.Cubic.Out).start()}}},{key:"map",get:function(){return this._map}},{key:"mapItemData",get:function(){return this._mapItemData},set:function(e){var t=this,n=t._option;t._mapItemData=e;var o=t._mapItemDataList,r=t._mapItemDataMapping,a=t._map,i=Number.POSITIVE_INFINITY,l=Number.NEGATIVE_INFINITY,u=n.itemIdField||"id",s=n.valueField||"value";e.forEach(function(e){var t=e[u];if(r[t]){var n=r[t];for(var a in e)e.hasOwnProperty(a)&&"function"!=typeof e[a]&&(n[a]=e[a])}else r[t]=e,o.push(r[t]);var c=Number(e[s]);isNaN(c)||(i>c&&(i=c),l<c&&(l=c))}),i==l&&(l=i+1);var c=t._rank;c.min=i,c.max=l,o.forEach(function(e){var t=Number(e[s]);isNaN(t)||(e.color=c.get(t))}),a.itemData=o}}]),t}(s.Group);(0,b.forge)(C,w.InteractiveObject,b.EventDispatcher),t.default=C},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(3),f=o(c),d=n(1),p=n(2),_=n(67),v=n(4),m=o(v),h=(Math.PI,Math.PI,function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));g.call(e);var n=e,o=new s.ShaderMaterial({uniforms:(0,p.uniformsMerge)([s.UniformsLib.common,s.UniformsLib.lights],{positionT:{type:"f",value:0},heightT:{type:"f",value:0},size:{type:"f",value:n._columnSize},positive:{type:"b",value:n._positive},darkColor:{type:"c",value:new s.Color(3355443)},opacity:{type:"f",value:1},diffuse:{type:"c",value:new s.Color(13421772)},emissive:{type:"c",value:new s.Color(3355443)},shininess:{value:30}}),vertexShader:_.adjacency_matrix_phong_vert,fragmentShader:_.adjacency_matrix_phong_frag,side:s.DoubleSide,lights:!0,vertexColors:s.VertexColors}),i=n._matrix=new p.InteractiveMesh;return i.interactive=!0,i.buttonMode=!0,i.useFaces=!0,i.material=o,i.rotation.x=-Math.PI/2,i.mouseOver=function(e){n._focusColumnObject&&(n._focusColumnObject.mouseOut(),n._focusColumnObject=null);var t=n._columnObjects[e.index];if(t.edge){t.mouseOver(),n._focusColumnObject=t;var o=n._vertexMap,r=t.edge;n.dispatchEvent({type:"itemMouseOver",data:{edge:r,source:o[r.source],target:o[r.target]},mouseEvent:e})}},i.mouseOut=function(e){n._focusColumnObject&&(n._focusColumnObject.mouseOut(),n.dispatchEvent({type:"itemMouseOut",mouseEvent:e}),n._focusColumnObject=null)},i.click=function(e){if(n._focusColumnObject){var t=n._focusColumnObject,o=n._vertexMap,r=t.edge;n.dispatchEvent({type:"itemClick",data:{edge:r,source:o[r.source],target:o[r.target]},mouseEvent:e})}},n.addObject(i),n._raycastMatrix=n._raycastMatrix.bind(n),n._labels=[],n._labelGroup1=[],n._tweenObject={t:0},e}return i(t,e),l(t,[{key:"_invalidateGeometry",value:function(){var e=this;e._invalidateGeometryFlag||(e._invalidateGeometryFlag=!0,e.invalidateProperties())}},{key:"_computeMatrixBoundingBox",value:function(){}},{key:"_computeMatrixBoundingSphere",value:function(){}},{key:"_updateMatrix",value:function(){for(var e=this,t=e._vertexData,n=t.length,o=e._columnSize,r=e._columnGap,a=e._columnHeightMax,i=e._ignoreColor,l=e._differentColor,u={},c=e._vertexMap={},f=e._vertexIndexMap={},d=0;d<n;d++){var p=t[d],_=this._palette[p.group];void 0===_&&(_=l),u[p.group]=new s.Color(_),c[p.id]=p,f[p.id]=d}for(var v=n*n,m=n*o+(n-1)*r,h=n*o+(n-1)*r,g=m/2-o/2,y=h/2-o/2,b=e._edgeData,w={},x=0,O=b.length;x<O;x++){var M=b[x],P=M.source,C=c[P],k=f[P],S=M.target,j=c[S],F=f[S],E=M.color;E&&(E=new s.Color(M.color)),C&&j||console.error("Graph data is incomplete.",t,b);var T={height:a*M.value,color:E||(C.group===j.group?u[C.group]:l),edge:M};w[k*n+F]=T,w[F*n+k]=T}var A=new s.InstancedBufferGeometry,I=new s.BoxBufferGeometry(1,1,1);A.maxInstancedCount=v,A.addAttribute("normal",I.attributes.normal),A.addAttribute("position",I.attributes.position),A.addAttribute("uv",I.attributes.uv),A.setIndex(I.index);for(var D=[],L=I.attributes.position.count,G=I.attributes.position.array,z=0,B=0;z<L;z++,B+=3){var N=B+2;G[N]<0?(D.push(0),G[N]=0):(D.push(1),G[N]=1)}A.addAttribute("originFlag",new s.Float32BufferAttribute(D,1));for(var U=new s.InstancedBufferAttribute(new Float32Array(v),1,1),R=new s.InstancedBufferAttribute(new Float32Array(3*v),3,1),V=new s.InstancedBufferAttribute(new Float32Array(3*v),3,1),Y=e._columnObjects=[],X=0;X<n;X++)for(var H=0;H<n;H++){var Z=X*n+H,W=H!==X?w[Z]:{height:0,color:i};W||(W={height:0,color:i}),U.setX(Z,W.height),V.setXYZ(Z,W.color.r,W.color.g,W.color.b);var q=H*(o+r)-g,K=X*(o+r)-y;R.setXYZ(Z,q,K,0);var Q=new s.BufferGeometry;Q.setIndex(A.getIndex()),Q.addAttribute("normal",A.attributes.normal),Q.addAttribute("uv",A.attributes.uv);for(var J=new s.Float32BufferAttribute(3*L,3),$=0,ee=0;$<L;$++,ee+=3){var te=G[ee]*o+q,ne=G[ee+1]*o+K,oe=(G[ee+2]<1?0:W.height)+0;J.setXYZ($,te,ne,oe)}Q.addAttribute("position",J);var re={index:Z,height:W.height,color:W.color,edge:W.edge,geometry:Q,mouseOut:function(){var e=this,t=e.color;A.attributes.color.setXYZ(e.index,t.r,t.g,t.b),A.attributes.color.needsUpdate=!0},mouseOver:function(){var t=this,n=e._highlightColor;A.attributes.color.setXYZ(t.index,n.r,n.g,n.b),A.attributes.color.needsUpdate=!0}};Y[re.index]=re}A.addAttribute("height",U),A.addAttribute("positionOffset",R),A.addAttribute("color",V);var ae=e._matrix;ae.geometry=A;var ie=m/2;A.boundingBox=new s.Box3(new s.Vector3(-ie,-ie,-ie),new s.Vector3(ie,ie,ie)),A.boundingSphere=new s.Sphere(new s.Vector3,m/2),A.computeBoundingBox=e._computeMatrixBoundingBox,A.computeBoundingSphere=e._computeMatrixBoundingSphere,ae.raycast=this._raycastMatrix}},{key:"_updateLabels",value:function(){for(var e=this,t=e._labels;t.length>0;)e.removeObject(t.pop());for(var n=e._vertexData,o=n.length,r=e._columnSize,a=e._columnGap,i=e._labelMargin,l=e._labelDirection,u=o*r+(o-1)*a,c=u/2-r/2,f={},d=0;d<o;d++){var p=n[d],_=e._palette[p.group];void 0===_&&(_=e._differentColor);var v=new s.Color(_);f[p.group]="#"+v.getHexString()}for(var h=e._labelGroup1=[],g=0,y=n.length;g<y;g++){var b=n[g],w=b.name||"",x=m.default.createTextureWithText(w,{fillStyle:f[b.group],strokeStyle:"#FFFFFF",adaptable:!0,direction:l,textAlign:0===l?1:0,fontSize:64,maxSize:512}),O=x.image,M=O._width/O._height,P=r+a,C=0===l?P*M:P/M,k=new s.PlaneBufferGeometry(P,C),S=new s.MeshBasicMaterial({map:x,side:s.DoubleSide,transparent:!0}),j=new s.Mesh(k,S);j.rotation.x=-Math.PI/2,j.position.x=g*(r+a)-c,j.position.z=u/2+C/2+a+i,j.scale.set(.01,.01,.01),e.addObject(j),t.push(j);var F=m.default.createTextureWithText(w,{fillStyle:f[b.group],strokeStyle:"#FFFFFF",adaptable:!0,direction:l,textAlign:0,fontSize:64,maxSize:512}),E=new s.MeshBasicMaterial({map:F,side:s.DoubleSide,transparent:!0}),T=new s.Mesh(k,E);if(T.zPos=(y-g-1)*(r+a)-c,T.zNeg=g*(r+a)-c,T.rotation.x=-Math.PI/2,T.rotation.z=Math.PI/2,T.position.x=u/2+C/2+a+i,T.position.z=T.zPos,T.scale.set(.01,.01,.01),e.addObject(T),t.push(T),h.push(T),0===l){var A=function(e,t){e.center=new s.Vector2(.5,.5),e.rotation=t,e.needsUpdate=!0};A(x,Math.PI/2),A(F,-Math.PI/2)}}}},{key:"commitProperties",value:function(){var e=this;e._invalidateGeometryFlag&&(e._updateMatrix(),e._updateLabels(),e._invalidateGeometryFlag=!1)}},{key:"appear",value:function(e,t,n){var o=this;o._tweenPosition&&(o._tweenPosition.stop(),o._tweenPosition=null),o._tweenHeight&&(o._tweenHeight.stop(),o._tweenHeight=null),o._tweenLabel&&(o._tweenLabel.stop(),o._tweenLabel=null);var r=o._matrix;r.material.uniforms.positionT.value=0,r.material.uniforms.heightT.value=0;var a=o._labels;a.forEach(function(e){e.scale.set(.01,.01,.01)}),e=e||0,t=t||1e3,o._tweenPosition=new f.default.Tween({t:0}).to({t:1},t).easing(f.default.Easing.Cubic.InOut).delay(e).onUpdate(function(e){var t=e.t;r.material.uniforms.positionT.value=t}).onComplete(function(){}).start(),o._tweenHeight=new f.default.Tween({t:0}).to({t:1},t).easing(f.default.Easing.Cubic.InOut).delay(e+t).onUpdate(function(e){var t=e.t;r.material.uniforms.heightT.value=t}).onComplete(function(){}).start(),o._tweenLabel=new f.default.Tween({t:0}).to({t:1},t/2).easing(f.default.Easing.Cubic.InOut).delay(e+2*t).onUpdate(function(e){var t=e.t;a.forEach(function(e){var n=t;e.scale.set(n,n,n)})}).onComplete(function(){"function"==typeof n&&setTimeout(function(){n()},150)}).start()}},{key:"disappear",value:function(e,t,n){var o=this;o._tweenPosition&&(o._tweenPosition.stop(),o._tweenPosition=null),o._tweenHeight&&(o._tweenHeight.stop(),o._tweenHeight=null),o._tweenLabel&&(o._tweenLabel.stop(),o._tweenLabel=null);var r=o._matrix,a=o._labels;o._tweenPosition=new f.default.Tween({t:1}).to({t:0},t||1e3).easing(f.default.Easing.Cubic.InOut).delay(e||0).onUpdate(function(e){var t=e.t;r.material.uniforms.positionT.value=t,r.material.uniforms.heightT.value=t,a.forEach(function(e){var n=Math.max(t,.01);e.scale.set(n,n,n)})}).onComplete(function(){"function"==typeof n&&setTimeout(function(){n()},150)}).start()}},{key:"flip",value:function(e){var t=this;t._tweenFlipMatrix&&(t._tweenFlipMatrix.stop(),t._tweenFlipMatrix=null),t._tweenFlipLabel&&(t._tweenFlipLabel.stop(),t._tweenFlipLabel=null);var n=t._matrix,o=t._labelGroup1;arguments.length<1&&(e=n.rotation.x>0);var r=e?-Math.PI/2:Math.PI/2;n.material.uniforms.positive.value=e,t._positive=e,t._tweenFlipMatrix=new f.default.Tween(n.rotation).to({x:r},1e3).easing(f.default.Easing.Cubic.InOut).delay(0).onUpdate(function(){}).onComplete(function(){}).start(),t._tweenFlipLabel=new f.default.Tween(t._tweenObject).to({t:e?0:1},1e3).easing(f.default.Easing.Cubic.InOut).delay(0).onUpdate(function(e){var t=e.t;o.forEach(function(e,n){var o=e.zPos+(e.zNeg-e.zPos)*t;e.position.z=o})}).onComplete(function(){}).start()}},{key:"scaleX",get:function(){return this._scaleX},set:function(e){var t=this;t._scaleX=e,t._invalidateGeometry()}},{key:"scaleY",get:function(){return this._scaleY},set:function(e){var t=this;t._scaleY=e,t._invalidateGeometry()}},{key:"edgeData",get:function(){return this._edgeData},set:function(e){var t=this;t._edgeData=e,t._invalidateGeometry()}},{key:"vertexData",get:function(){return this._vertexData},set:function(e){var t=this;t._vertexData=e,t._invalidateGeometry()}},{key:"measuredWidth",get:function(){var e=this,t=e._vertexData.length;return t*e._columnSize+(t-1)*e._columnGap}},{key:"measuredHeight",get:function(){var e=this,t=e._vertexData.length;return t*e._columnSize+(t-1)*e._columnGap}},{key:"palette",get:function(){return this._palette},set:function(e){var t=this;e&&(t._palette=e,t._invalidateGeometry())}}]),t}(p.InteractiveGroup)),g=function(){this._matrix=void 0,this._labels=void 0,this._labelGroup1=void 0,this._columnSize=10,this._columnGap=5,this._columnHeightMax=60,this._labelMargin=0,this._labelDirection=1,this._ignoreColor=new s.Color(3355443),this._differentColor=new s.Color(16777215),this._highlightColor=new s.Color(16711680),this._positive=!0,this._vertexMap=void 0,this._vertexIndexMap=void 0,this._columnObjects=void 0,this._focusColumnObject=void 0,this._scaleX=1,this._scaleY=1,this._edgeData=void 0,this._vertexData=void 0,this._palette=[9972656,6763988,3040501,3520758,3197121,4311414,9160775,15528015,16107590],this._invalidateGeometryFlag=!1,this._raycastMatrix=function(){var e=new s.Mesh;return function(t,n){var o=this,r=o._columnObjects,a=o._matrix;if(r instanceof Array&&r.length>0){e.matrixWorld=a.matrixWorld;for(var i=n.length,l=o._positive,u=0,s=r.length;u<s;u++){var c=r[u];if(c.color!==o._ignoreColor&&(!(l&&c.height<0)&&(l||!(c.height>0))&&(e.geometry=c.geometry,e.raycast.call(e,t,n),n.length!==i))){var f=n[n.length-1];f.index=u,f.object=a;break}}}}}(),this._tweenPosition=void 0,this._tweenHeight=void 0,this._tweenLabel=void 0,this._tweenFlipMatrix=void 0,this._tweenFlipLabel=void 0,this._tweenObject=void 0};(0,d.forge)(h,d.UiComponent),t.default=h},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralAdjacencyMatrixApp=t.AdjacencyMatrix=t.ParticleSystem=t.WaveEffect=t.SimpleTooltip=t.GeneralMapApp=t.General3DEnv=t.GeneralMap=t.VectorPlateMapExt=t.VectorPlateMap=t.DotLayer=t.GlowColumn=t.Roulette=t.CompactContainer=t.GraphicUtil=t.BoundingBox=t.LinearScale=t.ColorScale=void 0,n(17),n(18);var r=n(3),a=o(r),i=n(19),l=o(i),u=n(20),s=o(u),c=n(8),f=o(c),d=n(4),p=o(d),_=n(21),v=o(_),m=n(22),h=o(m),g=n(9),y=o(g),b=n(10),w=o(b),x=n(6),O=o(x),M=n(13),P=o(M),C=n(14),k=o(C),S=n(7),j=o(S),F=n(55),E=o(F),T=n(58),A=o(T),I=n(59),D=o(I),L=n(63),G=o(L),z=n(15),B=o(z),N=n(70),U=o(N);a.default.autoRun=!0,t.ColorScale=l.default,t.LinearScale=s.default,t.BoundingBox=f.default,t.GraphicUtil=p.default,t.CompactContainer=v.default,t.Roulette=h.default,t.GlowColumn=y.default,t.DotLayer=w.default,t.VectorPlateMap=O.default,t.VectorPlateMapExt=P.default,t.GeneralMap=k.default,t.General3DEnv=j.default,t.GeneralMapApp=E.default,t.SimpleTooltip=A.default,t.WaveEffect=D.default,t.ParticleSystem=G.default,t.AdjacencyMatrix=B.default,t.GeneralAdjacencyMatrixApp=U.default},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r);!function(){var e=a.ShaderChunk;e.commons||(e.commons=e.common)}();var i=function(e){this.source=e};i.prototype={_source:void 0,get source(){return this._source},set source(e){var t=this;t._source=e,t._shader=e},_shader:void 0,get shader(){return this._shader},before:function(e,t){},after:function(e,t){},replace:function(e,t){}},i.register=function e(t,n){if("string"==typeof t)a.ShaderChunk[t]=n;else if("object"==(void 0===t?"undefined":o(t))&&t)for(var r in t)t.hasOwnProperty(r)&&e(r,t[r])}},function(e,t,n){"use strict";var o=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(1),i=new a.Timer(a.Timer.REQUEST_ANIMATION_FRAME);i.on("timer",function(){r.default.update()});var l=!1;Object.defineProperty(r.default,"autoRun",{enumerable:!0,configurable:!1,get:function(){return l},set:function(e){l=e,l?i.start():i.stop()}})},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l=function(){function e(){o(this,e),this._colors=void 0,this._domain=void 0,this._domain={min:0,max:1},this.colors(255,16711680)}return r(e,[{key:"colors",value:function(){return 0===arguments.length?this._colors:(this._colors=Array.prototype.map.call(arguments,function(e){return new i.Color(e)}),this)}},{key:"domain",value:function(e,t){if(0===arguments.length)return this._domain;if(e>t){var n=e;e=t,t=n}return this._domain.min=e,this._domain.max=e===t?e+1:t,this}},{key:"get",value:function(e){e=Math.min(this._domain.max,Math.max(this._domain.min,e));var t=(e-this._domain.min)/(this._domain.max-this._domain.min),n=(this._colors.length-1)*t,o=Math.floor(n),r=this._colors[o],a=Math.ceil(n),l=this._colors[a],u=n-o;return new i.Color(r.r+(l.r-r.r)*u,r.g+(l.g-r.g)*u,r.b+(l.b-r.b)*u)}}]),e}();t.default=l},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=function(){function e(){o(this,e),this._domain=void 0,this._range=void 0,this._domain={min:0,max:1},this._range={min:0,max:1}}return r(e,[{key:"domain",value:function(e,t){if(0===arguments.length)return this._domain;if(e>t){var n=e;e=t,t=n}return this._domain.min=e,this._domain.max=e===t?e+1:t,this}},{key:"range",value:function(e,t){if(0===arguments.length)return this._range;if(e>t){var n=e;e=t,t=n}return this._range.min=e,this._range.max=t,this}},{key:"get",value:function(e){e=Math.min(this._domain.max,Math.max(this._domain.min,e));var t=(e-this._domain.min)/(this._domain.max-this._domain.min);return this._range.min+(this._range.max-this._range.min)*t}}]),e}();t.default=a},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(2),c=function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._mesh=void 0,e._line=void 0,e._meshVisible=!1,e._lineVisible=!1;var n=e;return n._mesh=new u.Mesh(new u.BufferGeometry),n._line=new u.LineSegments(new u.BufferGeometry),e}return a(t,e),i(t,[{key:"addObject3D",value:function(e){var t=this;e.children.length>0?e.children.forEach(function(e){t.addObject3D(e)}):e.geometry&&(e instanceof u.Line?t._addLine(e):e instanceof u.Mesh&&t._addMesh(e))}},{key:"_addLine",value:function(e){var t=e.geometry;if(t){var n=this._line.geometry;s.bufferGeometryMerge.call(n,t)}}},{key:"_addMesh",value:function(e){var t=this,n=e.geometry,o=t._mesh.geometry;s.bufferGeometryMerge.call(o,n);var r=t._line.geometry,a=n.index;if(a){for(var i=a.count,l=i/3,c=2*i,f=new(c>65535?Uint32Array:Uint16Array)(c),d=0,p=l,_=0,v=0;d<p;d++,_+=3,v+=6){var m=a.getX(_),h=a.getX(_+1),g=a.getX(_+2);f[v]=m,f[v+1]=h,f[v+2]=h,f[v+3]=g,f[v+4]=g,f[v+5]=m}n.index=new(c>65535?u.Uint32BufferAttribute:u.Uint16BufferAttribute)(f,1)}else{for(var y=n.attributes.position.count,b=y/3,w=2*y,x=new(w>65535?Uint32Array:Uint16Array)(w),O=0,M=b,P=0,C=0;O<M;O++,P+=3,C+=6)x[C]=P,x[C+1]=P+1,x[C+2]=P+1,x[C+3]=P+2,x[C+4]=P+2,x[C+5]=P;n.index=new(w>65535?u.Uint32BufferAttribute:u.Uint16BufferAttribute)(x,1)}s.bufferGeometryMerge.call(r,n),n.index=a}},{key:"mesh",get:function(){return this._mesh}},{key:"line",get:function(){return this._line}},{key:"meshVisible",get:function(){return this._meshVisible},set:function(e){var t=this;t._meshVisible=e,e?t.add(t._mesh):t.remove(t._mesh)}},{key:"lineVisible",get:function(){return this._lineVisible},set:function(e){var t=this;t._lineVisible=e,e?t.add(t._line):t.remove(t._line)}}]),t}(u.Object3D);t.default=c},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(1),c=n(2),f=function(e){return Array.isArray(e)&&e.length>0},d=function(e,t){return void 0!==e?e:t},p=(Math.PI,Math.PI/180),_=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._invalidateItemFlag=!1,n._planes=void 0,n._items=void 0;var a=n;return a.width=d(e.width,100),a.height=d(e.height,100),a.items=e.items||[],n}return a(t,e),i(t,[{key:"commitProperties",value:function(){var e=this;if(e._invalidateItemFlag){e._invalidateItemFlag=!1;var t=e._planes;if(f(t))for(;t.length>0;)e.removeObject(t.pop());t||(t=e._planes=[]);var n=e._items;if(f(n)){var o=e._width,r=e._height;n.forEach(function(n,a){"string"==typeof n&&(n={path:n});var i=d(n.path||n.url);if(!i)throw new Error("Illegal image path.");var l=d(n.scale),s=d(l,d(n.scaleX,1)),c=d(l,d(n.scaleY,1)),f=d(n.width,o*s),_=d(n.height,r*c),v=new u.PlaneBufferGeometry(f,_),m=new u.MeshBasicMaterial({map:(new u.TextureLoader).load(i),side:u.DoubleSide,transparent:!0,depthWrite:!1}),h=new u.Mesh(v,m),g=(Math.random()>.5?1:-1)*(.1+.3*Math.random())*p;h.animation={offset:d(n.offset,a),speed:d(n.speed,g)},e.addObject(h),t.push(h)})}e.renderable=t.length>0}}},{key:"render",value:function(){var e=this,t=e._planes;f(t)&&t.forEach(function(e){e.rotation.z+=e.animation.speed})}},{key:"items",get:function(){return this._items},set:function(e){var t=this;t._items=e,t._invalidateItemFlag=!0,t.invalidateProperties()}}]),t}(u.Group);(0,s.forge)(_,c.InteractiveObject,s.UiComponent),t.default=_},function(e,t){e.exports="uniform float time;\nuniform vec3 color0;\nuniform vec3 color1;\nuniform vec3 c0;\nuniform vec3 c1;\nuniform vec2 resolution;\nvoid main() {\nvec2 position = (gl_FragCoord.xy / resolution.xy);\nposition.x += time * 0.25;\nfloat t = 0.0;\nt = sin(position.x * c0.x + sin(position.y * c0.y + time * c0.z + 3.14));\nt *= sin(position.y * c1.x + sin(position.x * c1.y + time * c1.z));\nif (t > 1.0) t = 1.0;\nif (t < 0.0) t = 0.0;\nfloat s = 1.0;\nfloat r = color0.x + (color1.x - color0.x) * t;\nfloat g = color0.y + (color1.y - color0.y) * t;\nfloat b = color0.z + (color1.z - color0.z) * t;\nfloat a = t + 0.0;\nif (a > 1.0) a = 1.0;\nif (a < 0.1) a = 0.1;\ngl_FragColor = vec4(r, g, b, a);\n}\n"},function(e,t){e.exports="varying vec2 vUv;\nvarying float radius;\nuniform vec2 offset;\nvoid main() {\nvUv = uv + offset;\nradius = length(position);\nvec4 mvPosition = modelViewMatrix * vec4(position, 1.0);\ngl_Position = projectionMatrix * mvPosition;\n}\n"},function(e,t){e.exports="uniform sampler2D map;\nuniform float opacity;\nuniform float topRadius;\nuniform float bottomRadius;\nvarying vec2 vUv;\nvarying float radius;\nvoid main() {\nvec4 tColor;\ntColor = texture2D(map, vUv);\nfloat width = topRadius - bottomRadius;\nfloat rad = 3.14 * (radius - bottomRadius) / width;\nfloat o = opacity * sin(rad);\ngl_FragColor = tColor * vec4(1.0, 1.0, 1.0, o);\n}\n"},function(e,t){e.exports="uniform float time;\nuniform bool flag;\nuniform vec3 color;\nuniform float alpha;\nuniform float a0;\nuniform float a1;\nattribute float alphaOffset;\nvarying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\nvColor = color;\nfloat coef = (1.0 + sin(time / 2.0 + alphaOffset)) / 2.0;\nif (flag)\nvAlpha = (a0 + (a1 - a0) * coef) * alpha;\nelse vAlpha = a1 * alpha;\ngl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},function(e,t){e.exports="varying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\ngl_FragColor = vec4(vColor, vAlpha);\n}\n"},function(e,t){e.exports="uniform bool positive;\nuniform float t;\nuniform float factor;\nuniform float alpha;\nuniform float size;\nattribute float i;\nattribute float offset;\nattribute vec3 color;\nattribute vec3 auv;\nattribute vec3 o;\nvarying vec3 vColor;\nvarying float vAlpha;\nvarying vec3 vT;\nvoid main() {\nfloat coef1 = 0.5 + (sin(factor + offset) + 1.0) / 2.0 * 0.5;\nvColor = color;\nfloat coef2 = 0.9 + (cos(factor + offset) + 1.0) / 2.0 * 0.1;\nvAlpha = ((positive && i <= t) || (!positive && i >= t)) ? alpha : 0.0;\nvAlpha = vAlpha * coef2;\nfloat coef3 = 0.3 + (sin(factor / 3.0 + offset) + 1.0) / 2.0 * 0.7;\nvec3 mvPosition = o + auv * size * coef3 * sin(i * 3.14);\ngl_Position = projectionMatrix * modelViewMatrix * vec4(mvPosition, 1.0);\n}\n"},function(e,t){e.exports="varying vec3 vColor;\nvarying float vAlpha;\nvarying vec3 vO;\nvarying vec3 vP;\nvarying vec3 vT;\nvoid main() {\ngl_FragColor = vec4(vColor, vAlpha);\n}\n"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.dot_gush_frag=t.dot_gush_vert=void 0;var r=n(31),a=o(r),i=n(32),l=o(i);t.dot_gush_vert=a.default,t.dot_gush_frag=l.default},function(e,t){e.exports="uniform float scale;\n#include <commons>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#include <animated_pars_vertex>\nattribute float size;\nattribute vec3 color;\nvarying vec3 vColor;\nvarying float vOffset;\nvoid main() {\n#include <color_vertex>\n#include <begin_vertex>\nvColor = color;\nfloat offset = animationTime + animationOffset;\nif (offset > 1.) offset -= 1.;\nvOffset = offset;\n#include <project_vertex>\n#ifdef USE_SIZEATTENUATION\ngl_PointSize = size * ( scale / - mvPosition.z );\n#else\ngl_PointSize = size;\n#endif\n#include <logdepthbuf_vertex>\n#include <clipping_planes_vertex>\n#include <worldpos_vertex>\n#include <shadowmap_vertex>\n#include <fog_vertex>\n}\n"},function(e,t){e.exports="uniform float opacity;\n#include <commons>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec3 vColor;\nvarying float vOffset;\nvoid main() {\n#include <clipping_planes_fragment>\nvec3 outgoingLight = vec3( 0.0 );\nvec4 diffuseColor = vec4( vColor, opacity );\nvec2 v = vec2(gl_PointCoord.x, 1.0 - gl_PointCoord.y) - vec2(0.5, 0.5);\nfloat r1 = sqrt(v.x * v.x + v.y * v.y);\nif (r1 > 0.5) diffuseColor.a = 0.;\nelse {\nconst float c = .5;\nconst float n = 4.;\nconst float m = c / (n - 1.);\nfloat a = .0;\nfor (float i = 0.; i< n - 1.; i++) {\nfloat b = (i + 1.) * m + vOffset * c;\nif (b > c) b -= c;\nif (r1 <= b)\na += .33;\n}\nif (r1 / c >= 0.25) a *= (1. - r1 / c);\ndiffuseColor.a = a;\n}\n#include <logdepthbuf_fragment>\n#include <map_particle_fragment>\n#include <color_fragment>\n#include <alphatest_fragment>\noutgoingLight = diffuseColor.rgb;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include <premultiplied_alpha_fragment>\n#include <tonemapping_fragment>\n#include <encodings_fragment>\n#include <fog_fragment>\n}\n"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.grouped_vertex_t=t.grouped_pars_vertex_t=t.grouped_vertex=t.grouped_pars_vertex=void 0;var r=n(34),a=o(r),i=n(35),l=o(i),u=n(36),s=o(u),c=n(37),f=o(c);t.grouped_pars_vertex=a.default,t.grouped_vertex=l.default,t.grouped_pars_vertex_t=s.default,t.grouped_vertex_t=f.default},function(e,t){e.exports="#ifdef NUM_GROUPS\nuniform vec3 offsetMap[NUM_GROUPS];\nuniform vec3 colorMap[NUM_GROUPS];\nattribute float groupIndex;\n#endif\n"},function(e,t){e.exports="#ifdef NUM_GROUPS\nint mapIndex = int(groupIndex);\nvec3 offset = offsetMap[mapIndex];\ntransformed += offset;\nvec3 color = colorMap[mapIndex];\ndiffuse = color;\n#endif\n"},function(e,t){e.exports="#ifdef NUM_GROUPS\nuniform float numGroups;\nuniform sampler2D offsetMap;\nuniform sampler2D colorMap;\nattribute float groupIndex;\n#endif\n"},function(e,t){e.exports="#ifdef NUM_GROUPS\nvec2 gidx = vec2(groupIndex / (numGroups - 1.), 0.);\nvec3 offset = texture2D(offsetMap, gidx).xyz;\ntransformed += offset;\nvec3 color = texture2D(colorMap, gidx).xyz;\ndiffuse = color;\n#endif\n"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.animated_color_vertex=t.animated_color_pars_vertex=t.animated_pars_vertex=void 0;var r=n(39),a=o(r),i=n(40),l=o(i),u=n(41),s=o(u);t.animated_pars_vertex=a.default,t.animated_color_pars_vertex=l.default,t.animated_color_vertex=s.default},function(e,t){e.exports="#ifdef ANIMATED\nuniform bool animated;\nuniform float animationTime;\nattribute float animationOffset;\n#endif\n"},function(e,t){e.exports="#ifdef ANIMATED_COLOR\nuniform vec3 animatedColorPart;\n#endif\n"},function(e,t){e.exports="#ifdef ANIMATED_COLOR\nif (animated) {\nfloat t = (1. + sin(animationTime + animationOffset)) / 2.;\ndiffuse.rgb += animatedColorPart.rgb * t;\n}\n#endif\n"},function(e,t){e.exports="#include <commons>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#include <grouped_pars_vertex>\n#include <animated_pars_vertex>\n#include <animated_color_pars_vertex>\nvarying vec3 diffuse;\nvoid main() {\n#include <uv_vertex>\n#include <uv2_vertex>\n#include <color_vertex>\n#include <skinbase_vertex>\n#ifdef USE_ENVMAP\n#include <beginnormal_vertex>\n#include <morphnormal_vertex>\n#include <skinnormal_vertex>\n#include <defaultnormal_vertex>\n#endif\n#include <begin_vertex>\n#include <grouped_vertex>\n#include <animated_color_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\n#include <logdepthbuf_vertex>\n#include <worldpos_vertex>\n#include <clipping_planes_vertex>\n#include <envmap_vertex>\n#include <fog_vertex>\n}"},function(e,t){e.exports="varying vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#include <commons>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n#include <clipping_planes_fragment>\nvec4 diffuseColor = vec4( diffuse, opacity );\n#include <logdepthbuf_fragment>\n#include <map_fragment>\n#include <color_fragment>\n#include <alphamap_fragment>\n#include <alphatest_fragment>\n#include <specularmap_fragment>\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n#ifdef USE_LIGHTMAP\nreflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#else\nreflectedLight.indirectDiffuse += vec3( 1.0 );\n#endif\n#include <aomap_fragment>\nreflectedLight.indirectDiffuse *= diffuseColor.rgb;\nvec3 outgoingLight = reflectedLight.indirectDiffuse;\n#include <envmap_fragment>\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include <premultiplied_alpha_fragment>\n#include <tonemapping_fragment>\n#include <encodings_fragment>\n#include <fog_fragment>\n}"},function(e,t){e.exports="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#include <commons>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#include <grouped_pars_vertex>\n#include <animated_pars_vertex>\n#include <animated_color_pars_vertex>\nvarying vec3 diffuse;\nvoid main() {\n#include <uv_vertex>\n#include <uv2_vertex>\n#include <color_vertex>\n#include <beginnormal_vertex>\n#include <morphnormal_vertex>\n#include <skinbase_vertex>\n#include <skinnormal_vertex>\n#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\nvNormal = normalize( transformedNormal );\n#endif\n#include <begin_vertex>\n#include <grouped_vertex>\n#include <animated_color_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <displacementmap_vertex>\n#include <project_vertex>\n#include <logdepthbuf_vertex>\n#include <clipping_planes_vertex>\nvViewPosition = - mvPosition.xyz;\n#include <worldpos_vertex>\n#include <envmap_vertex>\n#include <shadowmap_vertex>\n#include <fog_vertex>\n}"},function(e,t){e.exports="#define PHONG\nvarying vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <commons>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n#include <clipping_planes_fragment>\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveRadiance = emissive;\n#include <logdepthbuf_fragment>\n#include <map_fragment>\n#include <color_fragment>\n#include <alphamap_fragment>\n#include <alphatest_fragment>\n#include <specularmap_fragment>\n#include <normal_fragment_begin>\n#include <normal_fragment_maps>\n#include <emissivemap_fragment>\n#include <lights_phong_fragment>\n#include <lights_fragment_begin>\n#include <lights_fragment_maps>\n#include <lights_fragment_end>\n#include <aomap_fragment>\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n#include <envmap_fragment>\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include <tonemapping_fragment>\n#include <encodings_fragment>\n#include <fog_fragment>\n#include <premultiplied_alpha_fragment>\n#include <dithering_fragment>\n}\n"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stroke_line_basic_vert_t=t.stroke_line_basic_frag=t.stroke_line_basic_vert=void 0;var r=n(47),a=o(r),i=n(48),l=o(i),u=n(49),s=o(u);t.stroke_line_basic_vert=a.default,t.stroke_line_basic_frag=l.default,t.stroke_line_basic_vert_t=s.default},function(e,t){e.exports="#ifdef NUM_GROUPS\nuniform vec3 offsetMap[NUM_GROUPS];\n#endif\nattribute float groupIndex;\nvoid main() {\nvec3 mvPosition = position;\n#ifdef NUM_GROUPS\nint mapIndex = int(groupIndex);\nvec3 offset = offsetMap[mapIndex];\nmvPosition += offset;\n#endif\ngl_Position = projectionMatrix * modelViewMatrix * vec4(mvPosition, 1.0);\n}\n"},function(e,t){e.exports="uniform vec3 diffuse;\nuniform float opacity;\nvoid main() {\ngl_FragColor = vec4(diffuse, opacity);\n}\n"},function(e,t){e.exports="#ifdef NUM_GROUPS\nuniform float numGroups;\nuniform sampler2D offsetMap;\n#endif\nattribute float groupIndex;\nvoid main() {\nvec3 mvPosition = position;\n#ifdef NUM_GROUPS\nvec2 gidx = vec2(groupIndex / (numGroups - 1.), 0.);\nvec3 offset = texture2D(offsetMap, gidx).xyz;\nmvPosition += offset;\n#endif\ngl_Position = projectionMatrix * modelViewMatrix * vec4(mvPosition, 1.0);\n}\n"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(6),u=o(l),s=n(51),c=o(s);c.default.features[0].geometry.coordinates.forEach(function(e){e.forEach(function(e){e.forEach(function(e){e[1]=-e[1]})})});var f=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.mapData=c.default,e}return i(t,e),t}(u.default);t.default=f},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",id:"460300",properties:{name:"南海诸岛",cp:[126,25],geoCoord:[126,25]},geometry:{type:"MultiPolygon",coordinates:[[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]]],[[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]]],[[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]]],[[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]]],[[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]]],[[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]]],[[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]]],[[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]]],[[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]]],[[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]]],[[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]]],[[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]]]}}]}},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(1),c=n(2),f=n(12),d=n(4),p=function(e){return e&&e.__esModule?e:{default:e}}(d),_=2*Math.PI,v=Math.PI/180,m=function(e){function t(e){o(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._option=void 0,n._material=void 0,n._palette=void 0,n._min=void 0,n._max=void 0;var a=n;return a._option=e,a._init(),a.renderable=!0,n}return a(t,e),i(t,[{key:"_init",value:function(){var e=this,t=e._option,n=t.palette||[16711680,255];e._palette=n,"number"==typeof t.min&&(e._min=t.min),"number"==typeof t.max&&(e._max=t.max);var o=t.scale||1;e.scale.set(o,o,o);var r=1.3*n.length-.3,a=r/2-.5,i=new u.BufferGeometry,l=n.length,s=new Float32Array(3*l),d=new u.DataTexture(s,l,1,u.RGBFormat,u.FloatType);d.needsUpdate=!0;var v=new Float32Array(3*l),m=new u.DataTexture(v,l,1,u.RGBFormat,u.FloatType);m.needsUpdate=!0,n.forEach(function(e,t,n){for(var o=new u.BoxBufferGeometry(1,1,1,3,3,3),r=o.attributes.position,l=n.length-t-1,f=0;f<r.count;f++)r.setY(f,r.getY(f)-1.3*l+a);for(var d=[],p=[],v=Math.random()*_,m=0;m<r.count;m++)d.push(t),p.push(v+_*m/(r.count-m));o.addAttribute("groupIndex",new u.Float32BufferAttribute(d.length,1).copyArray(d)),o.addAttribute("animationOffset",new u.Float32BufferAttribute(p.length,1).copyArray(p)),c.bufferGeometryMerge.call(i,o);var h=3*t,g=new u.Color(e);s[h]=g.r,s[h+1]=g.g,s[h+2]=g.b});var h=new u.ShaderMaterial({uniforms:(0,c.uniformsMerge)([u.ShaderLib.phong.uniforms],{numGroups:{type:"f",value:l},colorMap:{type:"t",value:d},offsetMap:{type:"t",value:m},animated:{type:"b",value:!0},animationTime:{type:"f",value:-1},animatedColorPart:{type:"c",value:new u.Vector3(.07,.07,.07)}}),vertexShader:["#define NUM_GROUPS "+n.length,"#define ANIMATED","#define ANIMATED_COLOR",f.crust_phong_vert].join("\n"),fragmentShader:f.crust_phong_frag,lights:!0}),g=new u.Mesh(i,h);e.addObject(g),e._material=h;var y=new u.Sprite(new u.SpriteMaterial({map:p.default.createTextureWithText("高",{fillStyle:t.textFillColor,strokeStyle:t.textStrokeColor})}));y.position.y=a+1+.3,e.addObject(y);var b=new u.Sprite(new u.SpriteMaterial({map:p.default.createTextureWithText("低",{fillStyle:t.textFillColor,strokeStyle:t.textStrokeColor})}));b.position.y=-a-1-.3,e.addObject(b)}},{key:"render",value:function(){var e=5*v,t=this._material;t.uniforms.animationTime.value+=e,t.uniforms.animationTime.value%=_}},{key:"get",value:function(e){var t=this,n=t._palette,o=t._min,r=t._max,a=(e-o)/(r-o);return n[Math.round(a*(n.length-1))]}},{key:"min",get:function(){return this._min},set:function(e){this._min=e}},{key:"max",get:function(){return this._max},set:function(e){this._max=e}}]),t}(u.Object3D);(0,s.forge)(m,c.InteractiveObject),t.default=m},function(e,t){e.exports={type:"FeatureCollection",features:[{type:"Feature",id:"110000",properties:{name:"北京",cp:[116.4551,40.2539]},geometry:{type:"Polygon",coordinates:[[[117.4219,40.21],[117.334,40.1221],[117.2461,40.0781],[116.8066,39.9902],[116.8945,39.8145],[116.8945,39.6826],[116.8066,39.5947],[116.543,39.5947],[116.3672,39.4629],[116.1914,39.5947],[115.752,39.5068],[115.4883,39.6387],[115.4004,39.9463],[115.9277,40.2539],[115.752,40.5615],[116.1035,40.6055],[116.1914,40.7813],[116.4551,40.7813],[116.3672,40.9131],[116.6309,41.0449],[116.9824,40.6934],[117.4219,40.6494],[117.2461,40.5176],[117.4219,40.21]]]}},{type:"Feature",id:"120000",properties:{name:"天津",cp:[117.4219,39.4189]},geometry:{type:"Polygon",coordinates:[[[116.8066,39.5947],[116.8945,39.6826],[117.1582,39.6387],[117.1582,39.8145],[117.2461,40.0781],[117.334,40.1221],[117.4219,40.21],[117.6855,40.0781],[117.6855,39.9902],[117.5098,39.9902],[117.5098,39.7705],[117.6855,39.5947],[117.9492,39.5947],[117.8613,39.4189],[118.0371,39.2432],[118.0371,39.1992],[117.8613,39.1113],[117.5977,38.6279],[117.2461,38.54],[116.7188,38.8037],[116.7188,38.9355],[116.8945,39.1113],[116.8066,39.5947]]]}},{type:"Feature",id:"130000",properties:{name:"河北",cp:[115.4004,37.9688]},geometry:{type:"MultiPolygon",coordinates:[[[[114.5215,39.5068],[114.3457,39.8584],[113.9941,39.9902],[114.5215,40.3418],[114.3457,40.3857],[114.2578,40.6055],[114.082,40.7373],[113.9063,41.1328],[113.9941,41.2207],[113.9063,41.4404],[114.2578,41.5723],[114.1699,41.792],[114.5215,42.1436],[114.873,42.0996],[114.9609,41.6162],[115.2246,41.5723],[115.9277,41.9238],[116.0156,41.792],[116.2793,42.0117],[116.8066,42.0117],[116.8945,42.4072],[117.334,42.4512],[117.5098,42.583],[117.7734,42.627],[118.0371,42.4072],[117.9492,42.2314],[118.125,42.0557],[118.3008,42.0996],[118.3008,41.792],[118.125,41.748],[118.3887,41.3086],[119.2676,41.3086],[118.8281,40.8252],[119.2676,40.5176],[119.5313,40.5615],[119.707,40.1221],[119.8828,39.9463],[119.5313,39.6826],[119.4434,39.4189],[118.916,39.0674],[118.4766,38.9355],[118.125,39.0234],[118.0371,39.1992],[118.0371,39.2432],[117.8613,39.4189],[117.9492,39.5947],[117.6855,39.5947],[117.5098,39.7705],[117.5098,39.9902],[117.6855,39.9902],[117.6855,40.0781],[117.4219,40.21],[117.2461,40.5176],[117.4219,40.6494],[116.9824,40.6934],[116.6309,41.0449],[116.3672,40.9131],[116.4551,40.7813],[116.1914,40.7813],[116.1035,40.6055],[115.752,40.5615],[115.9277,40.2539],[115.4004,39.9463],[115.4883,39.6387],[115.752,39.5068],[116.1914,39.5947],[116.3672,39.4629],[116.543,39.5947],[116.8066,39.5947],[116.8945,39.1113],[116.7188,38.9355],[116.7188,38.8037],[117.2461,38.54],[117.5977,38.6279],[117.9492,38.3203],[117.4219,37.8369],[116.8066,37.8369],[116.4551,37.4854],[116.2793,37.5732],[116.2793,37.3535],[116.0156,37.3535],[115.752,36.9141],[115.3125,36.5186],[115.4883,36.167],[115.3125,36.0791],[115.1367,36.2109],[114.9609,36.0791],[114.873,36.123],[113.7305,36.3428],[113.4668,36.6504],[113.7305,36.8701],[113.7305,37.1338],[114.1699,37.6611],[113.9941,37.7051],[113.8184,38.1445],[113.5547,38.2764],[113.5547,38.54],[113.8184,38.8037],[113.8184,38.9355],[113.9063,39.0234],[114.3457,39.0674],[114.5215,39.5068]]],[[[117.2461,40.0781],[117.1582,39.8145],[117.1582,39.6387],[116.8945,39.6826],[116.8945,39.8145],[116.8066,39.9902],[117.2461,40.0781]]]]}},{type:"Feature",id:"140000",properties:{name:"山西",cp:[112.4121,37.6611]},geometry:{type:"Polygon",coordinates:[[[110.918,38.7158],[111.1816,39.2432],[111.0938,39.375],[111.3574,39.4189],[111.4453,39.6387],[111.9727,39.5947],[112.3242,40.2539],[112.7637,40.166],[113.2031,40.3857],[113.5547,40.3418],[113.8184,40.5176],[114.082,40.5176],[114.082,40.7373],[114.2578,40.6055],[114.3457,40.3857],[114.5215,40.3418],[113.9941,39.9902],[114.3457,39.8584],[114.5215,39.5068],[114.3457,39.0674],[113.9063,39.0234],[113.8184,38.9355],[113.8184,38.8037],[113.5547,38.54],[113.5547,38.2764],[113.8184,38.1445],[113.9941,37.7051],[114.1699,37.6611],[113.7305,37.1338],[113.7305,36.8701],[113.4668,36.6504],[113.7305,36.3428],[113.6426,35.6836],[113.1152,35.332],[112.7637,35.2002],[112.0605,35.2881],[112.0605,35.0684],[111.7969,35.0684],[111.5332,34.8486],[111.1816,34.8047],[110.8301,34.6289],[110.3906,34.585],[110.2148,34.6729],[110.2148,34.8926],[110.5664,35.6396],[110.4785,36.123],[110.3906,37.002],[110.8301,37.6611],[110.4785,37.9688],[110.4785,38.1885],[110.8301,38.4961],[110.918,38.7158]]]}},{type:"Feature",id:"150000",properties:{name:"内蒙古",cp:[117.5977,44.3408]},geometry:{type:"Polygon",coordinates:[[[97.207,42.8027],[99.4922,42.583],[100.8105,42.6709],[101.7773,42.4951],[102.041,42.2314],[102.7441,42.1436],[103.3594,41.8799],[103.8867,41.792],[104.502,41.8799],[104.502,41.6602],[105.0293,41.5723],[105.7324,41.9238],[107.4023,42.4512],[109.4238,42.4512],[110.3906,42.7588],[111.0059,43.3301],[111.9727,43.6816],[111.9727,43.8135],[111.4453,44.3848],[111.7969,45],[111.9727,45.0879],[113.6426,44.7363],[114.1699,44.9561],[114.5215,45.3955],[115.6641,45.4395],[116.1914,45.7031],[116.2793,45.9668],[116.543,46.2744],[117.334,46.3623],[117.4219,46.582],[117.7734,46.5381],[118.3008,46.7578],[118.7402,46.7139],[118.916,46.7578],[119.0918,46.6699],[119.707,46.626],[119.9707,46.7139],[119.707,47.1973],[118.4766,47.9883],[117.8613,48.0322],[117.334,47.6807],[116.8066,47.9004],[116.1914,47.8564],[115.9277,47.6807],[115.5762,47.9004],[115.4883,48.1641],[115.8398,48.252],[115.8398,48.5596],[116.7188,49.834],[117.7734,49.5264],[118.5645,49.9219],[119.2676,50.0977],[119.3555,50.3174],[119.1797,50.3613],[119.5313,50.7568],[119.5313,50.8887],[119.707,51.0645],[120.1465,51.6797],[120.6738,51.9434],[120.7617,52.1191],[120.7617,52.251],[120.5859,52.3389],[120.6738,52.5146],[120.4102,52.6465],[120.0586,52.6025],[120.0586,52.7344],[120.8496,53.2617],[121.4648,53.3496],[121.8164,53.042],[121.2012,52.5586],[121.6406,52.4268],[121.7285,52.2949],[121.9922,52.2949],[122.168,52.5146],[122.6953,52.251],[122.6074,52.0752],[122.959,51.3281],[123.3105,51.2402],[123.6621,51.3721],[124.3652,51.2842],[124.541,51.3721],[124.8926,51.3721],[125.0684,51.6357],[125.332,51.6357],[126.0352,51.0205],[125.7715,50.7568],[125.7715,50.5371],[125.332,50.1416],[125.1563,49.834],[125.2441,49.1748],[124.8047,49.1309],[124.4531,48.1201],[124.2773,48.5156],[122.4316,47.373],[123.0469,46.7139],[123.3984,46.8896],[123.3984,46.9775],[123.4863,46.9775],[123.5742,46.8457],[123.5742,46.8896],[123.5742,46.6699],[123.0469,46.582],[123.2227,46.2305],[122.7832,46.0107],[122.6953,45.7031],[122.4316,45.8789],[122.2559,45.791],[121.8164,46.0107],[121.7285,45.7471],[121.9043,45.7031],[122.2559,45.2637],[122.0801,44.8682],[122.3438,44.2529],[123.1348,44.4727],[123.4863,43.7256],[123.3105,43.5059],[123.6621,43.374],[123.5742,43.0225],[123.3105,42.9785],[123.1348,42.8027],[122.7832,42.7148],[122.3438,42.8467],[122.3438,42.6709],[121.9922,42.7148],[121.7285,42.4512],[121.4648,42.4951],[120.498,42.0996],[120.1465,41.7041],[119.8828,42.1875],[119.5313,42.3633],[119.3555,42.2754],[119.2676,41.7041],[119.4434,41.6162],[119.2676,41.3086],[118.3887,41.3086],[118.125,41.748],[118.3008,41.792],[118.3008,42.0996],[118.125,42.0557],[117.9492,42.2314],[118.0371,42.4072],[117.7734,42.627],[117.5098,42.583],[117.334,42.4512],[116.8945,42.4072],[116.8066,42.0117],[116.2793,42.0117],[116.0156,41.792],[115.9277,41.9238],[115.2246,41.5723],[114.9609,41.6162],[114.873,42.0996],[114.5215,42.1436],[114.1699,41.792],[114.2578,41.5723],[113.9063,41.4404],[113.9941,41.2207],[113.9063,41.1328],[114.082,40.7373],[114.082,40.5176],[113.8184,40.5176],[113.5547,40.3418],[113.2031,40.3857],[112.7637,40.166],[112.3242,40.2539],[111.9727,39.5947],[111.4453,39.6387],[111.3574,39.4189],[111.0938,39.375],[111.0938,39.5947],[110.6543,39.2871],[110.127,39.4629],[110.2148,39.2871],[109.8633,39.2432],[109.9512,39.1553],[108.9844,38.3203],[109.0723,38.0127],[108.8965,37.9688],[108.8086,38.0127],[108.7207,37.7051],[108.1934,37.6172],[107.666,37.8809],[107.3145,38.1006],[106.7871,38.1885],[106.5234,38.3203],[106.9629,38.9795],[106.7871,39.375],[106.3477,39.2871],[105.9082,38.7158],[105.8203,37.793],[104.3262,37.4414],[103.4473,37.8369],[103.3594,38.0127],[103.5352,38.1445],[103.4473,38.3643],[104.2383,38.9795],[104.0625,39.4189],[103.3594,39.3311],[103.0078,39.1113],[102.4805,39.2432],[101.8652,39.1113],[102.041,38.8916],[101.7773,38.6719],[101.3379,38.7598],[101.25,39.0234],[100.9863,38.9355],[100.8105,39.4189],[100.5469,39.4189],[100.0195,39.7705],[99.4922,39.8584],[100.1074,40.2539],[100.1953,40.6494],[99.9316,41.001],[99.2285,40.8691],[99.0527,40.6934],[98.9648,40.7813],[98.7891,40.6055],[98.5254,40.7373],[98.6133,40.6494],[98.3496,40.5615],[98.3496,40.9131],[97.4707,41.4844],[97.8223,41.6162],[97.8223,41.748],[97.207,42.8027]]]}},{type:"Feature",id:"210000",properties:{name:"辽宁",cp:[122.3438,41.0889]},geometry:{type:"Polygon",coordinates:[[[119.2676,41.3086],[119.4434,41.6162],[119.2676,41.7041],[119.3555,42.2754],[119.5313,42.3633],[119.8828,42.1875],[120.1465,41.7041],[120.498,42.0996],[121.4648,42.4951],[121.7285,42.4512],[121.9922,42.7148],[122.3438,42.6709],[122.3438,42.8467],[122.7832,42.7148],[123.1348,42.8027],[123.3105,42.9785],[123.5742,43.0225],[123.6621,43.374],[123.8379,43.4619],[124.2773,43.2422],[124.4531,42.8467],[124.7168,43.0664],[124.8926,43.0664],[124.8926,42.8027],[125.332,42.1436],[125.4199,42.0996],[125.332,41.9678],[125.332,41.6602],[125.7715,41.2207],[125.5957,40.9131],[125.6836,40.8691],[124.541,40.21],[124.1016,39.6826],[123.3984,39.6826],[123.1348,39.4189],[123.1348,39.0234],[122.0801,39.0234],[121.5527,38.7158],[121.1133,38.6719],[120.9375,38.9795],[121.377,39.1992],[121.2012,39.5508],[122.0801,40.3857],[121.9922,40.6934],[121.7285,40.8252],[121.2012,40.8252],[120.5859,40.21],[119.8828,39.9463],[119.707,40.1221],[119.5313,40.5615],[119.2676,40.5176],[118.8281,40.8252],[119.2676,41.3086]]]}},{type:"Feature",id:"220000",properties:{name:"吉林",cp:[126.4746,43.5938]},geometry:{type:"Polygon",coordinates:[[[123.2227,46.2305],[123.9258,46.2305],[124.0137,45.7471],[124.3652,45.4395],[124.8926,45.5273],[125.0684,45.3955],[125.6836,45.5273],[125.7715,45.3076],[126.0352,45.1758],[126.5625,45.2637],[126.9141,45.1318],[127.0898,45],[127.002,44.7803],[127.0898,44.6045],[127.5293,44.6045],[127.7051,44.1211],[128.0566,44.1211],[128.0566,44.3408],[128.4082,44.4727],[128.4961,44.165],[128.8477,43.5498],[129.1992,43.5938],[129.2871,43.8135],[129.8145,43.9014],[129.9023,44.0332],[129.9902,43.8574],[130.3418,43.9893],[130.5176,43.6377],[130.8691,43.418],[131.3086,43.4619],[131.3086,43.3301],[131.1328,42.9346],[130.4297,42.7148],[130.6055,42.6709],[130.6055,42.4512],[130.2539,42.7588],[130.2539,42.8906],[130.166,42.9785],[129.9023,43.0225],[129.7266,42.4951],[129.375,42.4512],[128.9355,42.0117],[128.0566,42.0117],[128.3203,41.5723],[128.1445,41.3525],[127.0898,41.5283],[127.1777,41.5723],[126.9141,41.792],[126.6504,41.6602],[126.4746,41.3965],[126.123,40.957],[125.6836,40.8691],[125.5957,40.9131],[125.7715,41.2207],[125.332,41.6602],[125.332,41.9678],[125.4199,42.0996],[125.332,42.1436],[124.8926,42.8027],[124.8926,43.0664],[124.7168,43.0664],[124.4531,42.8467],[124.2773,43.2422],[123.8379,43.4619],[123.6621,43.374],[123.3105,43.5059],[123.4863,43.7256],[123.1348,44.4727],[122.3438,44.2529],[122.0801,44.8682],[122.2559,45.2637],[121.9043,45.7031],[121.7285,45.7471],[121.8164,46.0107],[122.2559,45.791],[122.4316,45.8789],[122.6953,45.7031],[122.7832,46.0107],[123.2227,46.2305]]]}},{type:"Feature",id:"230000",properties:{name:"黑龙江",cp:[128.1445,48.5156]},geometry:{type:"Polygon",coordinates:[[[121.4648,53.3496],[123.6621,53.5693],[124.8926,53.0859],[125.0684,53.2178],[125.5957,53.0859],[125.6836,52.9102],[126.123,52.7783],[126.0352,52.6025],[126.2109,52.5146],[126.3867,52.2949],[126.3867,52.207],[126.5625,52.1631],[126.4746,51.9434],[126.9141,51.3721],[126.8262,51.2842],[127.002,51.3281],[126.9141,51.1084],[127.2656,50.7568],[127.3535,50.2734],[127.6172,50.2295],[127.5293,49.8779],[127.793,49.6143],[128.7598,49.5703],[129.1113,49.3506],[129.4629,49.4385],[130.2539,48.8672],[130.6934,48.8672],[130.5176,48.6475],[130.8691,48.2959],[130.6934,48.1201],[131.0449,47.6807],[132.5391,47.7246],[132.627,47.9443],[133.0664,48.1201],[133.5059,48.1201],[134.209,48.3838],[135.0879,48.4277],[134.7363,48.252],[134.5605,47.9883],[134.7363,47.6807],[134.5605,47.4609],[134.3848,47.4609],[134.209,47.2852],[134.209,47.1533],[133.8574,46.5381],[133.9453,46.2744],[133.5059,45.835],[133.418,45.5713],[133.2422,45.5273],[133.0664,45.1318],[132.8906,45.0439],[131.9238,45.3516],[131.5723,45.0439],[131.0449,44.8682],[131.3086,44.0771],[131.2207,43.7256],[131.3086,43.4619],[130.8691,43.418],[130.5176,43.6377],[130.3418,43.9893],[129.9902,43.8574],[129.9023,44.0332],[129.8145,43.9014],[129.2871,43.8135],[129.1992,43.5938],[128.8477,43.5498],[128.4961,44.165],[128.4082,44.4727],[128.0566,44.3408],[128.0566,44.1211],[127.7051,44.1211],[127.5293,44.6045],[127.0898,44.6045],[127.002,44.7803],[127.0898,45],[126.9141,45.1318],[126.5625,45.2637],[126.0352,45.1758],[125.7715,45.3076],[125.6836,45.5273],[125.0684,45.3955],[124.8926,45.5273],[124.3652,45.4395],[124.0137,45.7471],[123.9258,46.2305],[123.2227,46.2305],[123.0469,46.582],[123.5742,46.6699],[123.5742,46.8896],[123.5742,46.8457],[123.4863,46.9775],[123.3984,46.9775],[123.3984,46.8896],[123.0469,46.7139],[122.4316,47.373],[124.2773,48.5156],[124.4531,48.1201],[124.8047,49.1309],[125.2441,49.1748],[125.1563,49.834],[125.332,50.1416],[125.7715,50.5371],[125.7715,50.7568],[126.0352,51.0205],[125.332,51.6357],[125.0684,51.6357],[124.8926,51.3721],[124.541,51.3721],[124.3652,51.2842],[123.6621,51.3721],[123.3105,51.2402],[122.959,51.3281],[122.6074,52.0752],[122.6953,52.251],[122.168,52.5146],[121.9922,52.2949],[121.7285,52.2949],[121.6406,52.4268],[121.2012,52.5586],[121.8164,53.042],[121.4648,53.3496]]]}},{type:"Feature",id:"310000",properties:{name:"上海",cp:[121.4648,31.2891]},geometry:{type:"Polygon",coordinates:[[[120.9375,31.0254],[121.2012,31.4648],[121.377,31.5088],[121.1133,31.7285],[121.2012,31.8604],[121.9922,31.5967],[121.9043,31.1572],[121.9922,30.8057],[121.2891,30.6738],[120.9375,31.0254]]]}},{type:"Feature",id:"320000",properties:{name:"江苏",cp:[120.0586,32.915]},geometry:{type:"Polygon",coordinates:[[[116.3672,34.6289],[116.4551,34.8926],[116.8066,34.9365],[117.2461,34.4531],[117.334,34.585],[117.5977,34.4531],[117.9492,34.6729],[118.125,34.6289],[118.2129,34.4092],[118.3887,34.4092],[118.4766,34.6729],[118.7402,34.7168],[118.916,35.0244],[119.2676,35.1123],[119.3555,35.0244],[119.3555,34.8486],[119.707,34.585],[120.3223,34.3652],[120.9375,33.0469],[121.0254,32.6514],[121.377,32.4756],[121.4648,32.168],[121.9043,31.9922],[121.9922,31.6846],[121.9922,31.5967],[121.2012,31.8604],[121.1133,31.7285],[121.377,31.5088],[121.2012,31.4648],[120.9375,31.0254],[120.498,30.8057],[119.9707,31.1572],[119.6191,31.1133],[119.4434,31.1572],[119.3555,31.2891],[118.8281,31.2451],[118.7402,31.377],[118.916,31.5527],[118.3887,31.9482],[118.4766,32.168],[118.6523,32.2119],[118.5645,32.5635],[119.1797,32.4756],[119.1797,32.8271],[118.916,32.959],[118.7402,32.7393],[118.3008,32.7832],[118.2129,33.2227],[118.0371,33.1348],[117.9492,33.2227],[118.125,33.75],[117.7734,33.7061],[117.5977,34.0137],[117.1582,34.0576],[116.8945,34.4092],[116.3672,34.6289]]]}},{type:"Feature",id:"330000",properties:{name:"浙江",cp:[120.498,29.0918]},geometry:{type:"Polygon",coordinates:[[[118.2129,29.3994],[118.7402,29.707],[118.916,29.9707],[118.916,30.3223],[119.3555,30.4102],[119.2676,30.6299],[119.4434,30.6738],[119.6191,31.0693],[119.6191,31.1133],[119.9707,31.1572],[120.498,30.8057],[120.9375,31.0254],[121.2891,30.6738],[121.9922,30.8057],[122.6953,30.8936],[122.8711,30.7178],[122.959,30.1465],[122.6074,30.1025],[122.6074,29.9268],[122.168,29.5313],[122.3438,28.8721],[121.9922,28.8721],[121.9922,28.4326],[121.7285,28.3447],[121.7285,28.2129],[121.4648,28.2129],[121.5527,28.0371],[121.2891,27.9492],[121.1133,27.4219],[120.6738,27.334],[120.6738,27.1582],[120.9375,27.0264],[120.7617,27.0264],[120.4102,27.1582],[120.2344,27.4219],[119.7949,27.29],[119.6191,27.6855],[119.2676,27.4219],[118.916,27.4658],[118.7402,28.0371],[118.8281,28.2568],[118.4766,28.3008],[118.4766,28.3447],[118.3887,28.7842],[118.0371,29.0479],[118.0371,29.1797],[118.2129,29.3994]]]}},{type:"Feature",id:"340000",properties:{name:"安徽",cp:[117.2461,32.0361]},geometry:{type:"Polygon",coordinates:[[[116.6309,33.9258],[116.543,34.2773],[116.1914,34.4092],[116.1914,34.585],[116.3672,34.6289],[116.8945,34.4092],[117.1582,34.0576],[117.5977,34.0137],[117.7734,33.7061],[118.125,33.75],[117.9492,33.2227],[118.0371,33.1348],[118.2129,33.2227],[118.3008,32.7832],[118.7402,32.7393],[118.916,32.959],[119.1797,32.8271],[119.1797,32.4756],[118.5645,32.5635],[118.6523,32.2119],[118.4766,32.168],[118.3887,31.9482],[118.916,31.5527],[118.7402,31.377],[118.8281,31.2451],[119.3555,31.2891],[119.4434,31.1572],[119.6191,31.1133],[119.6191,31.0693],[119.4434,30.6738],[119.2676,30.6299],[119.3555,30.4102],[118.916,30.3223],[118.916,29.9707],[118.7402,29.707],[118.2129,29.3994],[118.0371,29.5752],[117.5098,29.6191],[117.1582,29.9268],[117.0703,29.8389],[117.1582,29.707],[116.7188,29.6191],[116.7188,29.751],[116.8945,29.9268],[116.7188,30.0586],[116.2793,29.7949],[116.1035,29.8389],[116.1035,30.1904],[115.752,30.6738],[116.0156,31.0254],[115.5762,31.2012],[115.4004,31.4209],[115.4883,31.6846],[115.9277,31.7725],[115.8398,32.5195],[115.5762,32.4316],[115.2246,32.6074],[115.1367,32.8711],[114.873,33.0029],[114.873,33.1348],[115.3125,33.1787],[115.4004,33.5303],[115.5762,33.6621],[115.5762,33.9258],[115.6641,34.0576],[116.0156,33.9697],[116.1914,33.7061],[116.6309,33.9258]]]}},{type:"Feature",id:"350000",properties:{name:"福建",cp:[118.3008,25.9277]},geometry:{type:"Polygon",coordinates:[[[118.4766,28.3008],[118.8281,28.2568],[118.7402,28.0371],[118.916,27.4658],[119.2676,27.4219],[119.6191,27.6855],[119.7949,27.29],[120.2344,27.4219],[120.4102,27.1582],[120.7617,27.0264],[120.6738,26.8945],[120.2344,26.8506],[120.2344,26.7188],[120.4102,26.6748],[120.498,26.3672],[120.2344,26.2793],[120.4102,26.1475],[120.0586,26.1914],[119.9707,25.9277],[119.7949,25.9277],[119.9707,25.4004],[119.7949,25.2686],[119.5313,25.1367],[119.4434,25.0049],[119.2676,25.0928],[118.916,24.8291],[118.6523,24.5215],[118.4766,24.5215],[118.4766,24.4336],[118.2129,24.3457],[118.2129,24.1699],[117.8613,23.9941],[117.7734,23.7744],[117.5098,23.5986],[117.1582,23.5547],[116.9824,23.9063],[116.9824,24.1699],[116.7188,24.6533],[116.543,24.6094],[116.3672,24.873],[116.2793,24.7852],[115.9277,24.917],[115.8398,25.2246],[116.0156,25.2686],[116.1914,25.8838],[116.4551,26.1035],[116.3672,26.2354],[116.6309,26.4551],[116.543,26.8066],[117.0703,27.1143],[117.1582,27.29],[116.9824,27.6416],[117.5098,27.9932],[117.7734,27.8174],[118.3008,28.0811],[118.4766,28.3008]]]}},{type:"Feature",id:"360000",properties:{name:"江西",cp:[116.0156,27.29]},geometry:{type:"Polygon",coordinates:[[[114.2578,28.3447],[114.082,28.5645],[114.1699,28.8281],[113.9063,29.0479],[114.2578,29.3555],[114.873,29.3994],[115.4883,29.7949],[115.9277,29.707],[116.1035,29.8389],[116.2793,29.7949],[116.7188,30.0586],[116.8945,29.9268],[116.7188,29.751],[116.7188,29.6191],[117.1582,29.707],[117.0703,29.8389],[117.1582,29.9268],[117.5098,29.6191],[118.0371,29.5752],[118.2129,29.3994],[118.0371,29.1797],[118.0371,29.0479],[118.3887,28.7842],[118.4766,28.3447],[118.4766,28.3008],[118.3008,28.0811],[117.7734,27.8174],[117.5098,27.9932],[116.9824,27.6416],[117.1582,27.29],[117.0703,27.1143],[116.543,26.8066],[116.6309,26.4551],[116.3672,26.2354],[116.4551,26.1035],[116.1914,25.8838],[116.0156,25.2686],[115.8398,25.2246],[115.9277,24.917],[115.752,24.7852],[115.8398,24.5654],[115.4004,24.7852],[114.4336,24.5215],[114.1699,24.6973],[114.4336,24.9609],[114.6973,25.1367],[114.7852,25.2686],[114.6094,25.4004],[113.9941,25.2686],[113.9063,25.4443],[113.9941,26.0596],[114.2578,26.1475],[113.9941,26.1914],[114.082,26.5869],[113.9063,26.6309],[113.9063,26.9385],[113.7305,27.1143],[113.8184,27.29],[113.6426,27.3779],[113.6426,27.5977],[113.7305,27.9492],[114.2578,28.3447]]]}},{type:"Feature",id:"370000",properties:{name:"山东",cp:[118.7402,36.4307]},geometry:{type:"Polygon",coordinates:[[[115.4883,36.167],[115.3125,36.5186],[115.752,36.9141],[116.0156,37.3535],[116.2793,37.3535],[116.2793,37.5732],[116.4551,37.4854],[116.8066,37.8369],[117.4219,37.8369],[117.9492,38.3203],[118.125,38.1445],[118.916,38.1445],[119.3555,37.6611],[119.0039,37.5293],[119.0039,37.3535],[119.3555,37.1338],[119.707,37.1338],[119.8828,37.3975],[120.498,37.8369],[120.5859,38.1445],[120.9375,38.4521],[121.0254,37.8369],[121.2012,37.6611],[121.9043,37.4854],[122.168,37.6172],[122.2559,37.4854],[122.6074,37.4854],[122.6953,37.3535],[122.6074,36.9141],[122.4316,36.7822],[121.8164,36.8701],[121.7285,36.6943],[121.1133,36.6064],[121.1133,36.4307],[121.377,36.2549],[120.7617,36.167],[120.9375,35.8594],[120.6738,36.0352],[119.707,35.4639],[119.9707,34.9805],[119.3555,35.0244],[119.2676,35.1123],[118.916,35.0244],[118.7402,34.7168],[118.4766,34.6729],[118.3887,34.4092],[118.2129,34.4092],[118.125,34.6289],[117.9492,34.6729],[117.5977,34.4531],[117.334,34.585],[117.2461,34.4531],[116.8066,34.9365],[116.4551,34.8926],[116.3672,34.6289],[116.1914,34.585],[115.5762,34.585],[115.4004,34.8486],[114.7852,35.0684],[115.0488,35.376],[115.2246,35.4199],[115.4883,35.7275],[116.1035,36.0791],[115.3125,35.8154],[115.4883,36.167]]]}},{type:"Feature",id:"410000",properties:{name:"河南",cp:[113.4668,33.8818]},geometry:{type:"Polygon",coordinates:[[[110.3906,34.585],[110.8301,34.6289],[111.1816,34.8047],[111.5332,34.8486],[111.7969,35.0684],[112.0605,35.0684],[112.0605,35.2881],[112.7637,35.2002],[113.1152,35.332],[113.6426,35.6836],[113.7305,36.3428],[114.873,36.123],[114.9609,36.0791],[115.1367,36.2109],[115.3125,36.0791],[115.4883,36.167],[115.3125,35.8154],[116.1035,36.0791],[115.4883,35.7275],[115.2246,35.4199],[115.0488,35.376],[114.7852,35.0684],[115.4004,34.8486],[115.5762,34.585],[116.1914,34.585],[116.1914,34.4092],[116.543,34.2773],[116.6309,33.9258],[116.1914,33.7061],[116.0156,33.9697],[115.6641,34.0576],[115.5762,33.9258],[115.5762,33.6621],[115.4004,33.5303],[115.3125,33.1787],[114.873,33.1348],[114.873,33.0029],[115.1367,32.8711],[115.2246,32.6074],[115.5762,32.4316],[115.8398,32.5195],[115.9277,31.7725],[115.4883,31.6846],[115.4004,31.4209],[115.2246,31.4209],[115.1367,31.5967],[114.7852,31.4648],[114.6094,31.5527],[114.5215,31.7725],[114.1699,31.8604],[113.9941,31.7725],[113.8184,31.8604],[113.7305,32.4316],[113.4668,32.2998],[113.2031,32.4316],[112.3242,32.3438],[111.5332,32.6074],[111.0059,33.2666],[111.0059,33.5303],[110.6543,33.8379],[110.6543,34.1455],[110.4785,34.2334],[110.3906,34.585]]]}},{type:"Feature",id:"420000",properties:{name:"湖北",cp:[112.2363,31.1572]},geometry:{type:"Polygon",coordinates:[[[110.2148,31.1572],[110.127,31.377],[109.6875,31.5527],[109.7754,31.6846],[109.5996,31.7285],[109.5117,32.4316],[109.6875,32.6074],[110.127,32.6074],[110.127,32.7393],[109.7754,32.915],[109.7754,33.0469],[109.4238,33.1348],[109.5996,33.2666],[110.3027,33.1787],[110.5664,33.2666],[110.7422,33.1348],[111.0059,33.2666],[111.5332,32.6074],[112.3242,32.3438],[113.2031,32.4316],[113.4668,32.2998],[113.7305,32.4316],[113.8184,31.8604],[113.9941,31.7725],[114.1699,31.8604],[114.5215,31.7725],[114.6094,31.5527],[114.7852,31.4648],[115.1367,31.5967],[115.2246,31.4209],[115.4004,31.4209],[115.5762,31.2012],[116.0156,31.0254],[115.752,30.6738],[116.1035,30.1904],[116.1035,29.8389],[115.9277,29.707],[115.4883,29.7949],[114.873,29.3994],[114.2578,29.3555],[113.9063,29.0479],[113.7305,29.0918],[113.6426,29.3115],[113.7305,29.5752],[113.5547,29.707],[113.5547,29.8389],[113.0273,29.4434],[112.9395,29.4873],[113.0273,29.751],[112.9395,29.7949],[112.6758,29.5752],[112.5,29.6191],[112.2363,29.5313],[111.7969,29.9268],[110.8301,30.1465],[110.4785,30.0146],[110.6543,29.751],[110.4785,29.6631],[109.7754,29.751],[109.6875,29.6191],[109.5117,29.6191],[109.248,29.1357],[109.0723,29.3555],[108.9844,29.3115],[108.6328,29.8389],[108.457,29.7949],[108.5449,30.2344],[108.457,30.4102],[108.6328,30.5859],[108.8086,30.498],[109.0723,30.6299],[109.1602,30.542],[109.248,30.6299],[109.4238,30.542],[109.8633,30.8936],[110.0391,30.8057],[110.2148,31.1572]]]}},{type:"Feature",id:"430000",properties:{name:"湖南",cp:[111.5332,27.3779]},geometry:{type:"Polygon",coordinates:[[[109.248,28.4766],[109.248,29.1357],[109.5117,29.6191],[109.6875,29.6191],[109.7754,29.751],[110.4785,29.6631],[110.6543,29.751],[110.4785,30.0146],[110.8301,30.1465],[111.7969,29.9268],[112.2363,29.5313],[112.5,29.6191],[112.6758,29.5752],[112.9395,29.7949],[113.0273,29.751],[112.9395,29.4873],[113.0273,29.4434],[113.5547,29.8389],[113.5547,29.707],[113.7305,29.5752],[113.6426,29.3115],[113.7305,29.0918],[113.9063,29.0479],[114.1699,28.8281],[114.082,28.5645],[114.2578,28.3447],[113.7305,27.9492],[113.6426,27.5977],[113.6426,27.3779],[113.8184,27.29],[113.7305,27.1143],[113.9063,26.9385],[113.9063,26.6309],[114.082,26.5869],[113.9941,26.1914],[114.2578,26.1475],[113.9941,26.0596],[113.9063,25.4443],[113.6426,25.3125],[113.2031,25.5322],[112.8516,25.3564],[113.0273,25.2246],[113.0273,24.9609],[112.8516,24.917],[112.5879,25.1367],[112.2363,25.1807],[112.1484,24.873],[112.0605,24.7412],[111.709,24.7852],[111.5332,24.6533],[111.3574,25.1367],[111.0938,24.9609],[111.0059,25.0049],[111.4453,25.8398],[111.2695,25.8838],[111.2695,26.2354],[111.1816,26.3232],[110.5664,26.3232],[110.2148,25.9717],[109.9512,26.1914],[109.7754,25.8838],[109.5117,26.0156],[109.4238,26.2793],[109.248,26.3232],[109.4238,26.5869],[109.3359,26.7188],[109.5117,26.8066],[109.5117,27.0264],[109.3359,27.1582],[108.8965,27.0264],[108.8086,27.1143],[109.4238,27.5977],[109.3359,27.9053],[109.3359,28.2568],[109.248,28.4766]]]}},{type:"Feature",id:"440000",properties:{name:"广东",cp:[113.4668,22.8076]},geometry:{type:"Polygon",coordinates:[[[109.7754,21.4014],[109.7754,21.6211],[109.8633,21.665],[109.9512,21.8408],[110.3027,21.8848],[110.3027,22.1484],[110.6543,22.1484],[110.7422,22.2803],[110.7422,22.5439],[111.2695,22.8076],[111.4453,23.0273],[111.3574,23.4668],[111.6211,23.6865],[111.6211,23.8184],[111.7969,23.8184],[111.8848,23.9941],[111.8848,24.2139],[112.0605,24.3457],[111.8848,24.6533],[112.0605,24.7412],[112.1484,24.873],[112.2363,25.1807],[112.5879,25.1367],[112.8516,24.917],[113.0273,24.9609],[113.0273,25.2246],[112.8516,25.3564],[113.2031,25.5322],[113.6426,25.3125],[113.9063,25.4443],[113.9941,25.2686],[114.6094,25.4004],[114.7852,25.2686],[114.6973,25.1367],[114.4336,24.9609],[114.1699,24.6973],[114.4336,24.5215],[115.4004,24.7852],[115.8398,24.5654],[115.752,24.7852],[115.9277,24.917],[116.2793,24.7852],[116.3672,24.873],[116.543,24.6094],[116.7188,24.6533],[116.9824,24.1699],[116.9824,23.9063],[117.1582,23.5547],[117.334,23.2471],[116.8945,23.3789],[116.6309,23.1152],[116.543,22.8516],[115.9277,22.7197],[115.6641,22.7637],[115.5762,22.6318],[115.0488,22.6758],[114.6094,22.3682],[114.3457,22.5439],[113.9941,22.5],[113.8184,22.1924],[114.3457,22.1484],[114.4336,22.0166],[114.082,21.9287],[113.9941,21.7969],[113.5547,22.0166],[113.1152,21.8408],[112.9395,21.5771],[112.4121,21.4453],[112.2363,21.5332],[111.5332,21.4893],[111.2695,21.3574],[110.7422,21.3574],[110.6543,21.2256],[110.7422,20.918],[110.4785,20.874],[110.6543,20.2588],[110.5664,20.2588],[110.3906,20.127],[110.0391,20.127],[109.8633,20.127],[109.8633,20.3027],[109.5996,20.918],[109.7754,21.4014],[109.7754,21.4014]],[[113.5986,22.1649],[113.6096,22.1265],[113.5547,22.11],[113.5437,22.2034],[113.5767,22.2034],[113.5986,22.1649]]]}},{type:"Feature",id:"450000",properties:{name:"广西",cp:[108.2813,23.6426]},geometry:{type:"Polygon",coordinates:[[[104.502,24.7412],[104.6777,24.6094],[105.2051,24.9609],[105.9961,24.6533],[106.1719,24.7852],[106.1719,24.9609],[106.875,25.1807],[107.0508,25.2686],[106.9629,25.4883],[107.2266,25.6201],[107.4902,25.2246],[107.7539,25.2246],[107.8418,25.1367],[108.1055,25.2246],[108.1934,25.4443],[108.3691,25.5322],[108.6328,25.3125],[108.6328,25.5762],[109.0723,25.5322],[108.9844,25.752],[109.3359,25.708],[109.5117,26.0156],[109.7754,25.8838],[109.9512,26.1914],[110.2148,25.9717],[110.5664,26.3232],[111.1816,26.3232],[111.2695,26.2354],[111.2695,25.8838],[111.4453,25.8398],[111.0059,25.0049],[111.0938,24.9609],[111.3574,25.1367],[111.5332,24.6533],[111.709,24.7852],[112.0605,24.7412],[111.8848,24.6533],[112.0605,24.3457],[111.8848,24.2139],[111.8848,23.9941],[111.7969,23.8184],[111.6211,23.8184],[111.6211,23.6865],[111.3574,23.4668],[111.4453,23.0273],[111.2695,22.8076],[110.7422,22.5439],[110.7422,22.2803],[110.6543,22.1484],[110.3027,22.1484],[110.3027,21.8848],[109.9512,21.8408],[109.8633,21.665],[109.7754,21.6211],[109.7754,21.4014],[109.5996,21.4453],[109.1602,21.3574],[109.248,20.874],[109.0723,20.9619],[109.0723,21.5332],[108.7207,21.5332],[108.6328,21.665],[108.2813,21.4893],[107.8418,21.6211],[107.4023,21.6211],[107.0508,21.7969],[107.0508,21.9287],[106.6992,22.0166],[106.6113,22.4121],[106.7871,22.7637],[106.6992,22.8955],[105.9082,22.9395],[105.5566,23.0713],[105.5566,23.2031],[105.6445,23.4229],[106.1719,23.5547],[106.1719,23.8184],[105.9961,24.126],[105.5566,24.126],[105.4688,24.0381],[105.2051,24.082],[105.0293,24.4336],[104.7656,24.4775],[104.6777,24.3457],[104.502,24.7412]]]}},{type:"Feature",id:"460000",properties:{name:"海南",cp:[109.9512,19.2041]},geometry:{type:"Polygon",coordinates:[[[108.6328,19.3799],[109.0723,19.6436],[109.248,19.9512],[109.5996,20.0391],[110.0391,20.127],[110.3906,20.127],[110.5664,20.2588],[110.6543,20.2588],[111.0938,19.9512],[111.2695,19.9951],[110.6543,19.1602],[110.5664,18.6768],[110.2148,18.5889],[110.0391,18.3691],[109.8633,18.3691],[109.6875,18.1055],[108.9844,18.2813],[108.6328,18.457],[108.6328,19.3799]]]}},{type:"Feature",id:"500000",properties:{name:"重庆",cp:[107.7539,30.1904]},geometry:{type:"Polygon",coordinates:[[[108.5449,31.6846],[108.2813,31.9043],[108.3691,32.168],[108.5449,32.2119],[109.0723,31.9482],[109.248,31.7285],[109.5996,31.7285],[109.7754,31.6846],[109.6875,31.5527],[110.127,31.377],[110.2148,31.1572],[110.0391,30.8057],[109.8633,30.8936],[109.4238,30.542],[109.248,30.6299],[109.1602,30.542],[109.0723,30.6299],[108.8086,30.498],[108.6328,30.5859],[108.457,30.4102],[108.5449,30.2344],[108.457,29.7949],[108.6328,29.8389],[108.9844,29.3115],[109.0723,29.3555],[109.248,29.1357],[109.248,28.4766],[109.0723,28.2129],[108.7207,28.2129],[108.7207,28.4766],[108.5449,28.3887],[108.5449,28.6523],[108.3691,28.6523],[108.2813,29.0918],[107.8418,29.0039],[107.8418,29.1357],[107.5781,29.2236],[107.4023,29.1797],[107.4023,28.8721],[106.875,28.7842],[106.6992,28.4766],[106.6113,28.5205],[106.6113,28.6523],[106.5234,28.7842],[106.4355,28.7842],[106.5234,28.5645],[106.3477,28.5205],[106.2598,28.8721],[105.8203,28.96],[105.7324,29.2676],[105.4688,29.3115],[105.293,29.5313],[105.7324,29.8828],[105.5566,30.1025],[105.6445,30.2783],[105.8203,30.4541],[106.2598,30.1904],[106.6113,30.3223],[106.7871,30.0146],[107.0508,30.0146],[107.4902,30.6299],[107.4023,30.7617],[107.4902,30.8496],[107.9297,30.8496],[108.1934,31.5088],[108.5449,31.6846]]]}},{type:"Feature",id:"510000",properties:{name:"四川",cp:[102.9199,30.1904]},geometry:{type:"Polygon",coordinates:[[[101.7773,33.5303],[101.8652,33.5742],[101.9531,33.4424],[101.8652,33.0908],[102.4805,33.4424],[102.2168,33.9258],[102.9199,34.3213],[103.0957,34.1895],[103.1836,33.7939],[104.1504,33.6182],[104.2383,33.3984],[104.4141,33.3105],[104.3262,33.2227],[104.4141,33.0469],[104.3262,32.8711],[104.4141,32.7393],[105.2051,32.6074],[105.3809,32.7393],[105.3809,32.8711],[105.4688,32.915],[105.5566,32.7393],[106.084,32.8711],[106.084,32.7393],[106.3477,32.6514],[107.0508,32.6953],[107.1387,32.4756],[107.2266,32.4316],[107.4023,32.5195],[108.0176,32.168],[108.2813,32.2559],[108.5449,32.2119],[108.3691,32.168],[108.2813,31.9043],[108.5449,31.6846],[108.1934,31.5088],[107.9297,30.8496],[107.4902,30.8496],[107.4023,30.7617],[107.4902,30.6299],[107.0508,30.0146],[106.7871,30.0146],[106.6113,30.3223],[106.2598,30.1904],[105.8203,30.4541],[105.6445,30.2783],[105.5566,30.1025],[105.7324,29.8828],[105.293,29.5313],[105.4688,29.3115],[105.7324,29.2676],[105.8203,28.96],[106.2598,28.8721],[106.3477,28.5205],[105.9961,28.7402],[105.6445,28.4326],[105.9082,28.125],[106.1719,28.125],[106.3477,27.8174],[105.6445,27.6416],[105.5566,27.7734],[105.293,27.7295],[105.2051,27.9932],[105.0293,28.0811],[104.8535,27.9053],[104.4141,27.9492],[104.3262,28.0371],[104.4141,28.125],[104.4141,28.2568],[104.2383,28.4326],[104.4141,28.6084],[103.8867,28.6523],[103.7988,28.3008],[103.4473,28.125],[103.4473,27.7734],[102.9199,27.29],[103.0078,26.3672],[102.6563,26.1914],[102.5684,26.3672],[102.1289,26.1035],[101.8652,26.0596],[101.6016,26.2354],[101.6895,26.3672],[101.4258,26.5869],[101.4258,26.8066],[101.4258,26.7188],[101.1621,27.0264],[101.1621,27.1582],[100.7227,27.8613],[100.3711,27.8174],[100.2832,27.7295],[100.0195,28.125],[100.1953,28.3447],[99.668,28.8281],[99.4043,28.5205],[99.4043,28.1689],[99.2285,28.3008],[99.1406,29.2676],[98.9648,30.7617],[98.6133,31.2012],[98.877,31.4209],[98.4375,31.8604],[98.1738,32.3438],[97.7344,32.5195],[97.4707,32.6953],[97.3828,32.8711],[97.7344,33.3984],[97.4707,33.5742],[97.3828,33.8818],[97.7344,33.9258],[97.6465,34.1016],[97.8223,34.1895],[98.4375,34.0576],[98.877,33.1787],[99.2285,33.0469],[99.2285,32.915],[99.7559,32.7393],[99.8438,33.0029],[100.1074,32.8711],[100.1074,32.6514],[100.3711,32.7393],[100.7227,32.5195],[100.7227,32.6514],[101.25,32.6953],[101.1621,33.2227],[101.6016,33.1348],[101.7773,33.2227],[101.6895,33.3105],[101.7773,33.5303]]]}},{type:"Feature",id:"520000",properties:{name:"贵州",cp:[106.6113,26.9385]},geometry:{type:"Polygon",coordinates:[[[104.1504,27.2461],[104.4141,27.4658],[104.5898,27.334],[105.2051,27.3779],[105.293,27.7295],[105.5566,27.7734],[105.6445,27.6416],[106.3477,27.8174],[106.1719,28.125],[105.9082,28.125],[105.6445,28.4326],[105.9961,28.7402],[106.3477,28.5205],[106.5234,28.5645],[106.4355,28.7842],[106.5234,28.7842],[106.6113,28.6523],[106.6113,28.5205],[106.6992,28.4766],[106.875,28.7842],[107.4023,28.8721],[107.4023,29.1797],[107.5781,29.2236],[107.8418,29.1357],[107.8418,29.0039],[108.2813,29.0918],[108.3691,28.6523],[108.5449,28.6523],[108.5449,28.3887],[108.7207,28.4766],[108.7207,28.2129],[109.0723,28.2129],[109.248,28.4766],[109.3359,28.2568],[109.3359,27.9053],[109.4238,27.5977],[108.8086,27.1143],[108.8965,27.0264],[109.3359,27.1582],[109.5117,27.0264],[109.5117,26.8066],[109.3359,26.7188],[109.4238,26.5869],[109.248,26.3232],[109.4238,26.2793],[109.5117,26.0156],[109.3359,25.708],[108.9844,25.752],[109.0723,25.5322],[108.6328,25.5762],[108.6328,25.3125],[108.3691,25.5322],[108.1934,25.4443],[108.1055,25.2246],[107.8418,25.1367],[107.7539,25.2246],[107.4902,25.2246],[107.2266,25.6201],[106.9629,25.4883],[107.0508,25.2686],[106.875,25.1807],[106.1719,24.9609],[106.1719,24.7852],[105.9961,24.6533],[105.2051,24.9609],[104.6777,24.6094],[104.502,24.7412],[104.6777,24.9609],[104.5898,25.0488],[104.8535,25.2246],[104.3262,25.708],[104.6777,26.4111],[104.4141,26.6748],[103.8867,26.543],[103.7109,26.7627],[103.7109,26.9824],[103.623,27.0264],[103.8867,27.4219],[104.1504,27.2461]]]}},{type:"Feature",id:"530000",properties:{name:"云南",cp:[101.8652,25.1807]},geometry:{type:"Polygon",coordinates:[[[98.1738,28.125],[98.2617,28.3887],[98.3496,28.125],[98.7012,28.2129],[98.7891,28.3447],[98.6133,28.5205],[98.7012,28.916],[98.7891,29.0039],[98.7891,28.8721],[98.9648,28.8281],[98.9648,29.1357],[99.1406,29.2676],[99.2285,28.3008],[99.4043,28.1689],[99.4043,28.5205],[99.668,28.8281],[100.1953,28.3447],[100.0195,28.125],[100.2832,27.7295],[100.3711,27.8174],[100.7227,27.8613],[101.1621,27.1582],[101.1621,27.0264],[101.4258,26.7188],[101.4258,26.8066],[101.4258,26.5869],[101.6895,26.3672],[101.6016,26.2354],[101.8652,26.0596],[102.1289,26.1035],[102.5684,26.3672],[102.6563,26.1914],[103.0078,26.3672],[102.9199,27.29],[103.4473,27.7734],[103.4473,28.125],[103.7988,28.3008],[103.8867,28.6523],[104.4141,28.6084],[104.2383,28.4326],[104.4141,28.2568],[104.4141,28.125],[104.3262,28.0371],[104.4141,27.9492],[104.8535,27.9053],[105.0293,28.0811],[105.2051,27.9932],[105.293,27.7295],[105.2051,27.3779],[104.5898,27.334],[104.4141,27.4658],[104.1504,27.2461],[103.8867,27.4219],[103.623,27.0264],[103.7109,26.9824],[103.7109,26.7627],[103.8867,26.543],[104.4141,26.6748],[104.6777,26.4111],[104.3262,25.708],[104.8535,25.2246],[104.5898,25.0488],[104.6777,24.9609],[104.502,24.7412],[104.6777,24.3457],[104.7656,24.4775],[105.0293,24.4336],[105.2051,24.082],[105.4688,24.0381],[105.5566,24.126],[105.9961,24.126],[106.1719,23.8184],[106.1719,23.5547],[105.6445,23.4229],[105.5566,23.2031],[105.293,23.3789],[104.8535,23.1592],[104.7656,22.8516],[104.3262,22.6758],[104.1504,22.8076],[103.9746,22.5439],[103.623,22.7637],[103.5352,22.5879],[103.3594,22.8076],[103.0957,22.4561],[102.4805,22.7637],[102.3047,22.4121],[101.8652,22.3682],[101.7773,22.5],[101.6016,22.1924],[101.8652,21.6211],[101.7773,21.1377],[101.6016,21.2256],[101.25,21.1816],[101.1621,21.7529],[100.6348,21.4453],[100.1074,21.4893],[99.9316,22.0605],[99.2285,22.1484],[99.4043,22.5879],[99.3164,22.7197],[99.4922,23.0713],[98.877,23.2031],[98.7012,23.9502],[98.877,24.126],[98.1738,24.082],[97.7344,23.8623],[97.5586,23.9063],[97.7344,24.126],[97.6465,24.4336],[97.5586,24.4336],[97.5586,24.7412],[97.7344,24.8291],[97.8223,25.2686],[98.1738,25.4004],[98.1738,25.6201],[98.3496,25.5762],[98.5254,25.8398],[98.7012,25.8838],[98.6133,26.0596],[98.7012,26.1475],[98.7891,26.5869],[98.7012,27.5098],[98.5254,27.6416],[98.3496,27.5098],[98.1738,28.125]]]}},{type:"Feature",id:"540000",properties:{name:"西藏",cp:[88.7695,31.6846]},geometry:{type:"Polygon",coordinates:[[[79.0137,34.3213],[79.1016,34.4531],[79.8047,34.4971],[79.8926,34.8047],[80.2441,35.2002],[80.332,35.1563],[80.2441,35.2881],[80.4199,35.4199],[81.6504,35.2441],[82.002,35.332],[82.4414,35.7275],[82.8809,35.6836],[83.1445,35.4199],[84.1992,35.376],[85.0781,35.7275],[85.6055,35.6836],[86.1328,35.8594],[86.2207,36.167],[87.3633,36.4307],[88.5938,36.4746],[88.7695,36.3428],[89.209,36.2988],[89.7363,36.0791],[89.3848,36.0352],[89.4727,35.9033],[89.7363,35.7715],[89.7363,35.4199],[89.4727,35.376],[89.4727,35.2441],[89.5605,34.8926],[89.8242,34.8486],[89.7363,34.6729],[89.8242,34.3652],[89.6484,34.0137],[90.0879,33.4863],[90.7031,33.1348],[91.4063,33.1348],[91.9336,32.8271],[92.1973,32.8271],[92.2852,32.7393],[92.9883,32.7393],[93.5156,32.4756],[93.7793,32.5635],[94.1309,32.4316],[94.6582,32.6074],[95.1855,32.4316],[95.0098,32.2998],[95.1855,32.3438],[95.2734,32.2119],[95.3613,32.168],[95.3613,31.9922],[95.4492,31.8164],[95.8008,31.6846],[95.9766,31.8164],[96.1523,31.5967],[96.2402,31.9482],[96.5039,31.7285],[96.8555,31.6846],[96.7676,31.9922],[97.2949,32.0801],[97.3828,32.5635],[97.7344,32.5195],[98.1738,32.3438],[98.4375,31.8604],[98.877,31.4209],[98.6133,31.2012],[98.9648,30.7617],[99.1406,29.2676],[98.9648,29.1357],[98.9648,28.8281],[98.7891,28.8721],[98.7891,29.0039],[98.7012,28.916],[98.6133,28.5205],[98.7891,28.3447],[98.7012,28.2129],[98.3496,28.125],[98.2617,28.3887],[98.1738,28.125],[97.5586,28.5205],[97.2949,28.0811],[97.3828,27.9053],[97.0313,27.7295],[96.5039,28.125],[95.7129,28.2568],[95.3613,28.125],[95.2734,27.9492],[94.2188,27.5537],[93.8672,27.0264],[93.6035,26.9385],[92.1094,26.8506],[92.0215,27.4658],[91.582,27.5537],[91.582,27.9053],[91.4063,28.0371],[91.0547,27.8613],[90.7031,28.0811],[89.8242,28.2129],[89.6484,28.1689],[89.1211,27.5977],[89.1211,27.334],[89.0332,27.2021],[88.7695,27.4219],[88.8574,27.9932],[88.6816,28.125],[88.1543,27.9053],[87.8906,27.9492],[87.7148,27.8174],[87.0996,27.8174],[86.748,28.125],[86.5723,28.125],[86.4844,27.9053],[86.1328,28.125],[86.0449,27.9053],[85.6934,28.3447],[85.6055,28.2568],[85.166,28.3447],[85.166,28.6523],[84.9023,28.5645],[84.4629,28.7402],[84.2871,28.8721],[84.1992,29.2236],[84.1113,29.2676],[83.584,29.1797],[83.2324,29.5752],[82.1777,30.0586],[82.0898,30.3223],[81.3867,30.3662],[81.2109,30.0146],[81.0352,30.2344],[80.0684,30.5859],[79.7168,30.9375],[79.0137,31.0693],[78.75,31.333],[78.8379,31.5967],[78.6621,31.8164],[78.75,31.9043],[78.4863,32.124],[78.3984,32.5195],[78.75,32.6953],[78.9258,32.3438],[79.2773,32.5635],[79.1016,33.1787],[78.6621,33.6621],[78.6621,34.1016],[78.9258,34.1455],[79.0137,34.3213]]]}},{type:"Feature",id:"610000",properties:{name:"陕西",cp:[109.5996,35.6396]},geometry:{type:"Polygon",coordinates:[[[105.4688,32.915],[105.9082,33.0029],[105.9961,33.1787],[105.7324,33.3984],[105.9961,33.6182],[106.5234,33.5303],[106.4355,33.9258],[106.6113,34.1455],[106.5234,34.2773],[106.6992,34.3213],[106.3477,34.585],[106.5234,34.7607],[106.6113,35.0684],[106.9629,35.0684],[107.2266,34.8926],[107.666,34.9365],[107.8418,35.0244],[107.7539,35.1123],[107.7539,35.2881],[108.5449,35.2881],[108.6328,35.5518],[108.5449,35.8594],[108.6328,35.9912],[108.7207,36.3428],[107.3145,36.9141],[107.3145,37.0898],[107.3145,37.6172],[107.666,37.8809],[108.1934,37.6172],[108.7207,37.7051],[108.8086,38.0127],[108.8965,37.9688],[109.0723,38.0127],[108.9844,38.3203],[109.9512,39.1553],[109.8633,39.2432],[110.2148,39.2871],[110.127,39.4629],[110.6543,39.2871],[111.0938,39.5947],[111.0938,39.375],[111.1816,39.2432],[110.918,38.7158],[110.8301,38.4961],[110.4785,38.1885],[110.4785,37.9688],[110.8301,37.6611],[110.3906,37.002],[110.4785,36.123],[110.5664,35.6396],[110.2148,34.8926],[110.2148,34.6729],[110.3906,34.585],[110.4785,34.2334],[110.6543,34.1455],[110.6543,33.8379],[111.0059,33.5303],[111.0059,33.2666],[110.7422,33.1348],[110.5664,33.2666],[110.3027,33.1787],[109.5996,33.2666],[109.4238,33.1348],[109.7754,33.0469],[109.7754,32.915],[110.127,32.7393],[110.127,32.6074],[109.6875,32.6074],[109.5117,32.4316],[109.5996,31.7285],[109.248,31.7285],[109.0723,31.9482],[108.5449,32.2119],[108.2813,32.2559],[108.0176,32.168],[107.4023,32.5195],[107.2266,32.4316],[107.1387,32.4756],[107.0508,32.6953],[106.3477,32.6514],[106.084,32.7393],[106.084,32.8711],[105.5566,32.7393],[105.4688,32.915]]]}},{type:"Feature",id:"620000",properties:{name:"甘肃",cp:[95.7129,40.166]},geometry:{type:"Polygon",coordinates:[[[96.416,42.7148],[97.207,42.8027],[97.8223,41.748],[97.8223,41.6162],[97.4707,41.4844],[98.3496,40.9131],[98.3496,40.5615],[98.6133,40.6494],[98.5254,40.7373],[98.7891,40.6055],[98.9648,40.7813],[99.0527,40.6934],[99.2285,40.8691],[99.9316,41.001],[100.1953,40.6494],[100.1074,40.2539],[99.4922,39.8584],[100.0195,39.7705],[100.5469,39.4189],[100.8105,39.4189],[100.9863,38.9355],[101.25,39.0234],[101.3379,38.7598],[101.7773,38.6719],[102.041,38.8916],[101.8652,39.1113],[102.4805,39.2432],[103.0078,39.1113],[103.3594,39.3311],[104.0625,39.4189],[104.2383,38.9795],[103.4473,38.3643],[103.5352,38.1445],[103.3594,38.0127],[103.4473,37.8369],[104.3262,37.4414],[104.5898,37.4414],[104.5898,37.2217],[104.8535,37.2217],[105.293,36.8262],[105.2051,36.6943],[105.4688,36.123],[105.293,35.9912],[105.3809,35.7715],[105.7324,35.7275],[105.8203,35.5518],[105.9961,35.4639],[105.9082,35.4199],[105.9961,35.4199],[106.084,35.376],[106.2598,35.4199],[106.3477,35.2441],[106.5234,35.332],[106.4355,35.6836],[106.6992,35.6836],[106.9629,35.8154],[106.875,36.123],[106.5234,36.2549],[106.5234,36.4746],[106.4355,36.5625],[106.6113,36.7822],[106.6113,37.0898],[107.3145,37.0898],[107.3145,36.9141],[108.7207,36.3428],[108.6328,35.9912],[108.5449,35.8594],[108.6328,35.5518],[108.5449,35.2881],[107.7539,35.2881],[107.7539,35.1123],[107.8418,35.0244],[107.666,34.9365],[107.2266,34.8926],[106.9629,35.0684],[106.6113,35.0684],[106.5234,34.7607],[106.3477,34.585],[106.6992,34.3213],[106.5234,34.2773],[106.6113,34.1455],[106.4355,33.9258],[106.5234,33.5303],[105.9961,33.6182],[105.7324,33.3984],[105.9961,33.1787],[105.9082,33.0029],[105.4688,32.915],[105.3809,32.8711],[105.3809,32.7393],[105.2051,32.6074],[104.4141,32.7393],[104.3262,32.8711],[104.4141,33.0469],[104.3262,33.2227],[104.4141,33.3105],[104.2383,33.3984],[104.1504,33.6182],[103.1836,33.7939],[103.0957,34.1895],[102.9199,34.3213],[102.2168,33.9258],[102.4805,33.4424],[101.8652,33.0908],[101.9531,33.4424],[101.8652,33.5742],[101.7773,33.5303],[101.6016,33.5303],[101.5137,33.7061],[101.25,33.6621],[100.8105,34.2773],[100.9863,34.3652],[101.6895,34.1016],[102.1289,34.2773],[102.2168,34.4092],[101.9531,34.6289],[101.9531,34.8486],[102.3926,35.2002],[102.3047,35.4199],[102.4805,35.5957],[102.832,35.5957],[102.6563,35.7715],[102.9199,35.9033],[102.9199,36.0791],[103.0078,36.2549],[102.832,36.3428],[102.5684,36.7383],[102.6563,36.8262],[102.4805,36.958],[102.5684,37.1777],[102.1289,37.4414],[101.9531,37.7051],[101.7773,37.6172],[101.5137,37.8809],[101.1621,37.8369],[100.7227,38.2324],[100.459,38.2764],[100.1074,38.4961],[100.0195,38.4521],[100.1953,38.2764],[99.8438,38.3643],[99.1406,38.9355],[98.7891,39.0674],[98.6133,38.9355],[98.3496,39.0234],[98.1738,38.8037],[97.0313,39.1992],[97.1191,38.584],[96.6797,38.4521],[96.6797,38.1885],[96.416,38.2324],[96.2402,38.1006],[95.7129,38.3643],[95.4492,38.2764],[95.0098,38.4082],[94.5703,38.3643],[94.3066,38.7598],[93.8672,38.7158],[93.6914,38.9355],[93.1641,38.9795],[93.1641,39.1992],[92.373,39.1113],[92.373,39.3311],[92.6367,39.6387],[93.0762,40.6494],[93.8672,40.6934],[94.043,41.0889],[94.5703,41.4844],[95.1855,41.792],[95.2734,41.6162],[95.9766,41.9238],[96.2402,42.2314],[96.0645,42.3193],[95.9766,42.4951],[96.416,42.7148]]]}},{type:"Feature",id:"630000",properties:{name:"青海",cp:[96.2402,35.4199]},geometry:{type:"Polygon",coordinates:[[[89.7363,36.0791],[89.9121,36.0791],[90,36.2549],[90.8789,36.0352],[91.0547,36.0791],[91.0547,36.5186],[90.791,36.6064],[90.7031,36.7822],[91.3184,37.0898],[91.0547,37.4414],[90.5273,37.8369],[90.6152,38.3203],[90.3516,38.2324],[90.1758,38.4961],[92.373,39.0234],[92.373,39.1113],[93.1641,39.1992],[93.1641,38.9795],[93.6914,38.9355],[93.8672,38.7158],[94.3066,38.7598],[94.5703,38.3643],[95.0098,38.4082],[95.4492,38.2764],[95.7129,38.3643],[96.2402,38.1006],[96.416,38.2324],[96.6797,38.1885],[96.6797,38.4521],[97.1191,38.584],[97.0313,39.1992],[98.1738,38.8037],[98.3496,39.0234],[98.6133,38.9355],[98.7891,39.0674],[99.1406,38.9355],[99.8438,38.3643],[100.1953,38.2764],[100.0195,38.4521],[100.1074,38.4961],[100.459,38.2764],[100.7227,38.2324],[101.1621,37.8369],[101.5137,37.8809],[101.7773,37.6172],[101.9531,37.7051],[102.1289,37.4414],[102.5684,37.1777],[102.4805,36.958],[102.6563,36.8262],[102.5684,36.7383],[102.832,36.3428],[103.0078,36.2549],[102.9199,36.0791],[102.9199,35.9033],[102.6563,35.7715],[102.832,35.5957],[102.4805,35.5957],[102.3047,35.4199],[102.3926,35.2002],[101.9531,34.8486],[101.9531,34.6289],[102.2168,34.4092],[102.1289,34.2773],[101.6895,34.1016],[100.9863,34.3652],[100.8105,34.2773],[101.25,33.6621],[101.5137,33.7061],[101.6016,33.5303],[101.7773,33.5303],[101.6895,33.3105],[101.7773,33.2227],[101.6016,33.1348],[101.1621,33.2227],[101.25,32.6953],[100.7227,32.6514],[100.7227,32.5195],[100.3711,32.7393],[100.1074,32.6514],[100.1074,32.8711],[99.8438,33.0029],[99.7559,32.7393],[99.2285,32.915],[99.2285,33.0469],[98.877,33.1787],[98.4375,34.0576],[97.8223,34.1895],[97.6465,34.1016],[97.7344,33.9258],[97.3828,33.8818],[97.4707,33.5742],[97.7344,33.3984],[97.3828,32.8711],[97.4707,32.6953],[97.7344,32.5195],[97.3828,32.5635],[97.2949,32.0801],[96.7676,31.9922],[96.8555,31.6846],[96.5039,31.7285],[96.2402,31.9482],[96.1523,31.5967],[95.9766,31.8164],[95.8008,31.6846],[95.4492,31.8164],[95.3613,31.9922],[95.3613,32.168],[95.2734,32.2119],[95.1855,32.3438],[95.0098,32.2998],[95.1855,32.4316],[94.6582,32.6074],[94.1309,32.4316],[93.7793,32.5635],[93.5156,32.4756],[92.9883,32.7393],[92.2852,32.7393],[92.1973,32.8271],[91.9336,32.8271],[91.4063,33.1348],[90.7031,33.1348],[90.0879,33.4863],[89.6484,34.0137],[89.8242,34.3652],[89.7363,34.6729],[89.8242,34.8486],[89.5605,34.8926],[89.4727,35.2441],[89.4727,35.376],[89.7363,35.4199],[89.7363,35.7715],[89.4727,35.9033],[89.3848,36.0352],[89.7363,36.0791]]]}},{type:"Feature",id:"640000",properties:{name:"宁夏",cp:[105.9961,37.3096]},geometry:{type:"Polygon",coordinates:[[[104.3262,37.4414],[105.8203,37.793],[105.9082,38.7158],[106.3477,39.2871],[106.7871,39.375],[106.9629,38.9795],[106.5234,38.3203],[106.7871,38.1885],[107.3145,38.1006],[107.666,37.8809],[107.3145,37.6172],[107.3145,37.0898],[106.6113,37.0898],[106.6113,36.7822],[106.4355,36.5625],[106.5234,36.4746],[106.5234,36.2549],[106.875,36.123],[106.9629,35.8154],[106.6992,35.6836],[106.4355,35.6836],[106.5234,35.332],[106.3477,35.2441],[106.2598,35.4199],[106.084,35.376],[105.9961,35.4199],[106.084,35.4639],[105.9961,35.4639],[105.8203,35.5518],[105.7324,35.7275],[105.3809,35.7715],[105.293,35.9912],[105.4688,36.123],[105.2051,36.6943],[105.293,36.8262],[104.8535,37.2217],[104.5898,37.2217],[104.5898,37.4414],[104.3262,37.4414]]]}},{type:"Feature",id:"650000",properties:{name:"新疆",cp:[84.9023,41.748]},geometry:{type:"Polygon",coordinates:[[[96.416,42.7588],[96.416,42.7148],[95.9766,42.4951],[96.0645,42.3193],[96.2402,42.2314],[95.9766,41.9238],[95.2734,41.6162],[95.1855,41.792],[94.5703,41.4844],[94.043,41.0889],[93.8672,40.6934],[93.0762,40.6494],[92.6367,39.6387],[92.373,39.3311],[92.373,39.1113],[92.373,39.0234],[90.1758,38.4961],[90.3516,38.2324],[90.6152,38.3203],[90.5273,37.8369],[91.0547,37.4414],[91.3184,37.0898],[90.7031,36.7822],[90.791,36.6064],[91.0547,36.5186],[91.0547,36.0791],[90.8789,36.0352],[90,36.2549],[89.9121,36.0791],[89.7363,36.0791],[89.209,36.2988],[88.7695,36.3428],[88.5938,36.4746],[87.3633,36.4307],[86.2207,36.167],[86.1328,35.8594],[85.6055,35.6836],[85.0781,35.7275],[84.1992,35.376],[83.1445,35.4199],[82.8809,35.6836],[82.4414,35.7275],[82.002,35.332],[81.6504,35.2441],[80.4199,35.4199],[80.2441,35.2881],[80.332,35.1563],[80.2441,35.2002],[79.8926,34.8047],[79.8047,34.4971],[79.1016,34.4531],[79.0137,34.3213],[78.2227,34.7168],[78.0469,35.2441],[78.0469,35.5078],[77.4316,35.4639],[76.8164,35.6396],[76.5527,35.8594],[76.2012,35.8154],[75.9375,36.0352],[76.0254,36.4746],[75.8496,36.6943],[75.498,36.7383],[75.4102,36.958],[75.0586,37.002],[74.8828,36.9141],[74.7949,37.0459],[74.5313,37.0898],[74.5313,37.2217],[74.8828,37.2217],[75.1465,37.4414],[74.8828,37.5732],[74.9707,37.749],[74.8828,38.4521],[74.3555,38.6719],[74.1797,38.6719],[74.0918,38.54],[73.8281,38.584],[73.7402,38.8477],[73.8281,38.9795],[73.4766,39.375],[73.916,39.5068],[73.916,39.6826],[73.8281,39.7705],[74.0039,40.0342],[74.8828,40.3418],[74.7949,40.5176],[75.2344,40.4297],[75.5859,40.6494],[75.7617,40.2979],[76.377,40.3857],[76.9043,41.001],[77.6074,41.001],[78.1348,41.2207],[78.1348,41.3965],[80.1563,42.0557],[80.2441,42.2754],[80.1563,42.627],[80.2441,42.8467],[80.5078,42.8906],[80.4199,43.0664],[80.7715,43.1982],[80.4199,44.165],[80.4199,44.6045],[79.9805,44.8242],[79.9805,44.9561],[81.7383,45.3955],[82.0898,45.2197],[82.5293,45.2197],[82.2656,45.6592],[83.0566,47.2412],[83.6719,47.0215],[84.7266,47.0215],[84.9023,46.8896],[85.5176,47.0654],[85.6934,47.2852],[85.5176,48.1201],[85.7813,48.4277],[86.5723,48.5596],[86.8359,48.8232],[86.748,48.9551],[86.8359,49.1309],[87.8027,49.1748],[87.8906,48.999],[87.7148,48.9111],[88.0664,48.7354],[87.9785,48.6035],[88.5059,48.3838],[88.6816,48.1641],[89.1211,47.9883],[89.5605,48.0322],[89.7363,47.8564],[90.0879,47.8564],[90.3516,47.6807],[90.5273,47.2412],[90.8789,46.9775],[91.0547,46.582],[90.8789,46.3184],[91.0547,46.0107],[90.7031,45.7471],[90.7031,45.5273],[90.8789,45.2197],[91.582,45.0879],[93.5156,44.9561],[94.7461,44.3408],[95.3613,44.2969],[95.3613,44.0332],[95.5371,43.9014],[95.8887,43.2422],[96.3281,42.9346],[96.416,42.7588]]]}},{type:"Feature",id:"710000",properties:{name:"台湾",cp:[121.0254,23.5986]},geometry:{type:"Polygon",coordinates:[[[121.9043,25.0488],[121.9922,25.0049],[121.8164,24.7412],[121.9043,24.5654],[121.6406,24.0381],[121.377,23.1152],[121.0254,22.6758],[120.8496,22.0605],[120.7617,21.9287],[120.6738,22.3242],[120.2344,22.5879],[120.0586,23.0713],[120.1465,23.6865],[121.0254,25.0488],[121.5527,25.3125],[121.9043,25.0488]]]}},{type:"Feature",id:"810000",properties:{name:"香港",cp:[114.2578,22.3242]},geometry:{type:"Polygon",coordinates:[[[114.6094,22.4121],[114.5215,22.1484],[114.3457,22.1484],[113.9063,22.1484],[113.8184,22.1924],[113.9063,22.4121],[114.1699,22.5439],[114.3457,22.5439],[114.4336,22.5439],[114.4336,22.4121],[114.6094,22.4121]]]}},{type:"Feature",id:"820000",properties:{name:"澳门",cp:[113.5547,22.1484]},geometry:{type:"Polygon",coordinates:[[[113.5986,22.1649],[113.6096,22.1265],[113.5547,22.11],[113.5437,22.2034],[113.5767,22.2034],[113.5986,22.1649]]]}}],srcSize:{left:243.4766,top:36.4307,width:61.6113,height:35.4638}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0);n.n(o);const r=function(e,t){function n(){return 2*Math.PI/60/60*T.autoRotateSpeed}function r(){return Math.pow(.95,T.zoomSpeed)}function a(e){N.theta-=e}function i(e){N.phi-=e}function l(e){T.object.isPerspectiveCamera?U/=e:T.object.isOrthographicCamera?(T.object.zoom=Math.max(T.minZoom,Math.min(T.maxZoom,T.object.zoom*e)),T.object.updateProjectionMatrix(),V=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),T.enableZoom=!1)}function u(e){T.object.isPerspectiveCamera?U*=e:T.object.isOrthographicCamera?(T.object.zoom=Math.max(T.minZoom,Math.min(T.maxZoom,T.object.zoom/e)),T.object.updateProjectionMatrix(),V=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),T.enableZoom=!1)}function s(e){Y.set(e.clientX,e.clientY)}function c(e){K.set(e.clientX,e.clientY)}function f(e){Z.set(e.clientX,e.clientY)}function d(e){X.set(e.clientX,e.clientY),H.subVectors(X,Y).multiplyScalar(T.rotateSpeed);var t=T.domElement===document?T.domElement.body:T.domElement;a(2*Math.PI*H.x/t.clientHeight),i(2*Math.PI*H.y/t.clientHeight),Y.copy(X),T.update()}function p(e){Q.set(e.clientX,e.clientY),J.subVectors(Q,K),J.y>0?l(r()):J.y<0&&u(r()),K.copy(Q),T.update()}function _(e){W.set(e.clientX,e.clientY),q.subVectors(W,Z).multiplyScalar(T.panSpeed),te(q.x,q.y),Z.copy(W),T.update()}function v(e){}function m(e){e.deltaY<0?u(r()):e.deltaY>0&&l(r()),T.update()}function h(e){switch(e.keyCode){case T.keys.UP:te(0,T.keyPanSpeed),T.update();break;case T.keys.BOTTOM:te(0,-T.keyPanSpeed),T.update();break;case T.keys.LEFT:te(T.keyPanSpeed,0),T.update();break;case T.keys.RIGHT:te(-T.keyPanSpeed,0),T.update()}}function g(e){Y.set(e.touches[0].pageX,e.touches[0].pageY)}function y(e){if(T.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);K.set(0,o)}if(T.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);Z.set(r,a)}}function b(e){X.set(e.touches[0].pageX,e.touches[0].pageY),H.subVectors(X,Y).multiplyScalar(T.rotateSpeed);var t=T.domElement===document?T.domElement.body:T.domElement;a(2*Math.PI*H.x/t.clientHeight),i(2*Math.PI*H.y/t.clientHeight),Y.copy(X),T.update()}function w(e){if(T.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,o=Math.sqrt(t*t+n*n);Q.set(0,o),J.set(0,Math.pow(Q.y/K.y,T.zoomSpeed)),l(J.y),K.copy(Q)}if(T.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX),a=.5*(e.touches[0].pageY+e.touches[1].pageY);W.set(r,a),q.subVectors(W,Z).multiplyScalar(T.panSpeed),te(q.x,q.y),Z.copy(W)}T.update()}function x(e){}function O(e){if(!1!==T.enabled){switch(e.preventDefault(),e.button){case T.mouseButtons.ORBIT:if(!1===T.enableRotate)return;s(e),G=L.ROTATE;break;case T.mouseButtons.ZOOM:if(!1===T.enableZoom)return;c(e),G=L.DOLLY;break;case T.mouseButtons.PAN:if(!1===T.enablePan)return;f(e),G=L.PAN}G!==L.NONE&&(document.addEventListener("mousemove",M,!1),document.addEventListener("mouseup",P,!1),T.dispatchEvent(I))}}function M(e){if(!1!==T.enabled)switch(e.preventDefault(),G){case L.ROTATE:if(!1===T.enableRotate)return;d(e);break;case L.DOLLY:if(!1===T.enableZoom)return;p(e);break;case L.PAN:if(!1===T.enablePan)return;_(e)}}function P(e){!1!==T.enabled&&(v(e),document.removeEventListener("mousemove",M,!1),document.removeEventListener("mouseup",P,!1),T.dispatchEvent(D),G=L.NONE)}function C(e){!1===T.enabled||!1===T.enableZoom||G!==L.NONE&&G!==L.ROTATE||(e.preventDefault(),e.stopPropagation(),T.dispatchEvent(I),m(e),T.dispatchEvent(D))}function k(e){!1!==T.enabled&&!1!==T.enableKeys&&!1!==T.enablePan&&h(e)}function S(e){if(!1!==T.enabled){switch(e.preventDefault(),e.touches.length){case 1:if(!1===T.enableRotate)return;g(e),G=L.TOUCH_ROTATE;break;case 2:if(!1===T.enableZoom&&!1===T.enablePan)return;y(e),G=L.TOUCH_DOLLY_PAN;break;default:G=L.NONE}G!==L.NONE&&T.dispatchEvent(I)}}function j(e){if(!1!==T.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===T.enableRotate)return;if(G!==L.TOUCH_ROTATE)return;b(e);break;case 2:if(!1===T.enableZoom&&!1===T.enablePan)return;if(G!==L.TOUCH_DOLLY_PAN)return;w(e);break;default:G=L.NONE}}function F(e){!1!==T.enabled&&(x(e),T.dispatchEvent(D),G=L.NONE)}function E(e){!1!==T.enabled&&e.preventDefault()}this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new o.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:o.MOUSE.LEFT,ZOOM:o.MOUSE.MIDDLE,PAN:o.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return B.phi},this.getAzimuthalAngle=function(){return B.theta},this.saveState=function(){T.target0.copy(T.target),T.position0.copy(T.object.position),T.zoom0=T.object.zoom},this.reset=function(){T.target.copy(T.target0),T.object.position.copy(T.position0),T.object.zoom=T.zoom0,T.object.updateProjectionMatrix(),T.dispatchEvent(A),T.update(),G=L.NONE},this.update=function(){var t=new o.Vector3,r=(new o.Quaternion).setFromUnitVectors(e.up,new o.Vector3(0,1,0)),i=r.clone().inverse(),l=new o.Vector3,u=new o.Quaternion;return function(){var e=T.object.position;return t.copy(e).sub(T.target),t.applyQuaternion(r),B.setFromVector3(t),T.autoRotate&&G===L.NONE&&a(n()),B.theta+=N.theta,B.phi+=N.phi,B.theta=Math.max(T.minAzimuthAngle,Math.min(T.maxAzimuthAngle,B.theta)),B.phi=Math.max(T.minPolarAngle,Math.min(T.maxPolarAngle,B.phi)),B.makeSafe(),B.radius*=U,B.radius=Math.max(T.minDistance,Math.min(T.maxDistance,B.radius)),T.target.add(R),t.setFromSpherical(B),t.applyQuaternion(i),e.copy(T.target).add(t),T.object.lookAt(T.target),!0===T.enableDamping?(N.theta*=1-T.dampingFactor,N.phi*=1-T.dampingFactor,R.multiplyScalar(1-T.dampingFactor)):(N.set(0,0,0),R.set(0,0,0)),U=1,!!(V||l.distanceToSquared(T.object.position)>z||8*(1-u.dot(T.object.quaternion))>z)&&(T.dispatchEvent(A),l.copy(T.object.position),u.copy(T.object.quaternion),V=!1,!0)}}(),this.dispose=function(){T.domElement.removeEventListener("contextmenu",E,!1),T.domElement.removeEventListener("mousedown",O,!1),T.domElement.removeEventListener("wheel",C,!1),T.domElement.removeEventListener("touchstart",S,!1),T.domElement.removeEventListener("touchend",F,!1),T.domElement.removeEventListener("touchmove",j,!1),document.removeEventListener("mousemove",M,!1),document.removeEventListener("mouseup",P,!1),window.removeEventListener("keydown",k,!1)};var T=this,A={type:"change"},I={type:"start"},D={type:"end"},L={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4},G=L.NONE,z=1e-6,B=new o.Spherical,N=new o.Spherical,U=1,R=new o.Vector3,V=!1,Y=new o.Vector2,X=new o.Vector2,H=new o.Vector2,Z=new o.Vector2,W=new o.Vector2,q=new o.Vector2,K=new o.Vector2,Q=new o.Vector2,J=new o.Vector2,$=function(){var e=new o.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),R.add(e)}}(),ee=function(){var e=new o.Vector3;return function(t,n){!0===T.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(T.object.up,e)),e.multiplyScalar(t),R.add(e)}}(),te=function(){var e=new o.Vector3;return function(t,n){var o=T.domElement===document?T.domElement.body:T.domElement;if(T.object.isPerspectiveCamera){var r=T.object.position;e.copy(r).sub(T.target);var a=e.length();a*=Math.tan(T.object.fov/2*Math.PI/180),$(2*t*a/o.clientHeight,T.object.matrix),ee(2*n*a/o.clientHeight,T.object.matrix)}else T.object.isOrthographicCamera?($(t*(T.object.right-T.object.left)/T.object.zoom/o.clientWidth,T.object.matrix),ee(n*(T.object.top-T.object.bottom)/T.object.zoom/o.clientHeight,T.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),T.enablePan=!1)}}();T.domElement.addEventListener("contextmenu",E,!1),T.domElement.addEventListener("mousedown",O,!1),T.domElement.addEventListener("wheel",C,!1),T.domElement.addEventListener("touchstart",S,!1),T.domElement.addEventListener("touchend",F,!1),T.domElement.addEventListener("touchmove",j,!1),window.addEventListener("keydown",k,!1),this.update()};r.prototype=Object.create(o.EventDispatcher.prototype),r.prototype.constructor=r,Object.defineProperties(r.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t.default=r},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(14),f=o(c),d=n(9),p=o(d),_=n(56),v=o(_),m=n(57),h=o(m),g=n(10),y=o(g),b=n(7),w=o(b),x=Math.PI/180,O=(Math.PI,function(e){return Array.isArray(e)&&e.length>0}),M=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._generalMap=void 0,n._columns=void 0,n._columnLabels=void 0,n._lines=void 0,n._markerData=void 0,n._columnData=void 0,n._lineData=void 0,n.initialize(),n}return i(t,e),l(t,[{key:"_initLights",value:function(){var e=this,t=16777215;e.addPointLight(t,.5,640,0,80,!1,100),e.addPointLight(t,.5,-640,0,80,!1,100),e.addPointLight(t,.5,0,640,80,!1,100),e.addPointLight(t,.5,0,-640,80,!1,100),e.addPointLight(t,.75,0,0,640,!1,100)}},{key:"_initObjects",value:function(){var e=this,t=e._option,n=new f.default(t);n.on("mapItemClick",function(t){e.fire(t)}),n.on("mapItemMouseOut",function(t){e.fire(t)}),n.on("mapItemMouseOver",function(t){e.fire(t)}),e.addObject(n),e._generalMap=n;var o=O(t.mapRotation)?t.mapRotation:[0,0,0];n.rotation.set.apply(n.rotation,o);var r=e._lightGroup;r.rotation.set.apply(r.rotation,o)}},{key:"_initFinally",value:function(){var e=this,t=e._option,n=t.cameraPosition;O(n)&&(e.camera.position.set.apply(e.camera.position,n),e.controls.update());var o=t.controls||{};if(o){var r=e.controls;r.enableZoom=0!=o.enableZoom,r.enablePan=0!=o.enablePan,r.enableRotate=0!=o.enableRotate}var a=t.columnData;a&&(e.columnData=a);var i=t.lineData;i&&(e.lineData=i)}},{key:"appear",value:function(){this._generalMap.appear()}},{key:"disappear",value:function(){this._generalMap.disappear()}},{key:"mapData",get:function(){return this._generalMap.map.mapData},set:function(e){this._generalMap.map.mapData=e}},{key:"scaleX",get:function(){return this._generalMap.map.scaleX},set:function(e){this._generalMap.map.scaleX=e}},{key:"scaleY",get:function(){return this._generalMap.map.scaleY},set:function(e){this._generalMap.map.scaleY=e}},{key:"scaleZ",get:function(){return this._generalMap.map.scaleZ},set:function(e){this._generalMap.map.scaleZ=e}},{key:"mapItemData",get:function(){return this._generalMap.mapItemData},set:function(e){this._generalMap.mapItemData=e}},{key:"markerData",get:function(){return this._markerData},set:function(e){var t=this;t._markerData=e;var n=t._generalMap.map,o=t._dotLayer;o||(o=new y.default({}),t.addObject(o),t._dotLayer=o,o.on("dotMouseOut",function(e){t.fire({type:"markerItemMouseOut",mouseEvent:e.mouseEvent})}),o.on("dotMouseOver",function(e){t.fire({type:"markerItemMouseOver",index:e.index,item:e.item,mouseEvent:e.mouseEvent})}),o.on("dotClick",function(e){t.fire({type:"markerItemClick",index:e.index,item:e.item,mouseEvent:e.mouseEvent})}));var r=[];e.forEach(function(e){var t=void 0,o=e.lonLat;Array.isArray(o)&&o.length>=2&&(t=new s.Vector2(o[0],o[1]));var a=n.getFeature(e.id);if(a){if(!t){t=new s.Vector2(a.boundingBox.centerX,a.boundingBox.centerY);var i=n.getFeatureValue(a,n.labelPositionField);i&&(t.x=i[0],t.y=i[1])}}else console.warn("Can NOT find map feature with id '"+e.id+"': ",e);if(!t)return void console.warn("Can NOT position marker: ",e);var l=n.lonLatToXY(t.x,t.y),u=(e.size||1)*Math.min(n.scaleX,n.scaleY);r.push({x:l.x,y:l.y,z:n.scaleZ+u/2*.75,size:u,color:e.color,item:e})}),o.dotData=r,o.appear()}},{key:"columnData",get:function(){return this._columnData},set:function(e){var t=this,n=t._generalMap;t._columns&&t._columns.forEach(function(e){e.off(),e.disappear(0,500,function(){n.removeObject(this)})}),t._columns=[],t._columnLabels&&t._columnLabels.forEach(function(e){e.off(),e.disappear(0,500,function(){n.removeObject(this)})}),t._columnLabels=[],t._columnData=e;var o=0,r=n.map,a=t._option;t._columnData.forEach(function(e){var i=r.getFeature(e.id);if(!i)return void console.warn("Can NOT find map feature with id '"+e.id+"': ",e);var l=new s.Vector2(i.boundingBox.centerX,i.boundingBox.centerY),u=r.getFeatureValue(i,r.labelPositionField);u&&(l.x=u[0],l.y=u[1]);var c=r.lonLatToXY(l.x,l.y),f=new p.default;f.item=e,f.height=e.height,f.numSides=4,f.radiusTop=e.size,f.radiusBottom=e.size,f.position.x=c.x,f.position.y=c.y+2*e.size,f.position.z=r.scaleZ,f.rotation.x=90*x,f.color=e.color,f.emphasisColor=a.columnEmphasisColor||11757311,f.appear(o,800),f.on("mouseOut",function(e){t.fire({type:"columnItemMouseOut",mouseEvent:e})}),f.on("mouseOver",function(n){t.fire({type:"columnItemMouseOver",mouseEvent:n,item:e})}),f.on("click",function(n){t.fire({type:"columnItemClick",mouseEvent:n,item:e})}),n.addObject(f),t._columns.push(f);var d=new v.default;d.text="function"==typeof e.formatter?e.formatter.call(e,e):e.value,d.color=e.color;var _=(a.labelScale||1.25)/100;d.scaleCoef=_,d.position.set(f.position.x,f.position.y,f.position.z+e.height+_/2),n.addObject(d),t._columnLabels.push(d),o+=10})}},{key:"lineData",get:function(){return this._lineData},set:function(e){var t=this,n=t._generalMap;t._lines&&t._lines.forEach(function(e){e.off(),e.disappear(0,500,function(){n.removeObject(this)})}),t._lines=[],t._lineData=e;var o=0,r=n.map,a=t._option;t._lineData.forEach(function(e){var i=e.source,l=void 0;if(Array.isArray(i))i.length>1&&(l=i.slice());else{var u=r.getFeature(i);u&&((l=r.getFeatureValue(u,r.labelPositionField))||(l=[u.boundingBox.centerX,u.boundingBox.centerY]))}if(!l)return void console.warn("Can NOT find position with source '"+i+"': ",e);var c=e.target,f=void 0;if(Array.isArray(c))c.length>1&&(f=c.slice());else{var d=r.getFeature(c);d&&((f=r.getFeatureValue(d,r.labelPositionField))||(f=[d.boundingBox.centerX,d.boundingBox.centerY]))}if(!f)return void console.warn("Can NOT find position with target '"+c+"': ",e);var p=r.lonLatToXY(l[0],l[1]);p=new s.Vector3(p.x,p.y,r.scaleZ);var _=r.lonLatToXY(f[0],f[1]);_=new s.Vector3(_.x,_.y,r.scaleZ);for(var v=p.clone().add(_).multiplyScalar(.5),m=[],g=0;g<=1;g+=.05){var y=p.x+(_.x-p.x)*g,b=p.y+(_.y-p.y)*g,w=v.z+(a.lineHeight||10)*Math.sin(g*Math.PI);m.push(new s.Vector3(y,b,w))}var x=new h.default;x.item=e,x.points=m,x.euv=new s.Vector3(1,1,1),x.speed=a.lineSpeed||.1,x.width=e.size||a.lineWidth||10,x.startColor=e.color,x.endColor=e.color2||e.color,x.appear(o),n.addObject(x),t._lines.push(x),o+=20})}},{key:"generalMap",get:function(){return this._generalMap}}]),t}(w.default);t.default=M},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(3),f=o(c),d=(n(1),n(2),n(5),n(4)),p=o(d),_=(Math.PI,Math.PI,function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._scaleCoef=1,e._text=void 0,e._color=void 0,e._tween=void 0,e._tweenObject=void 0,e}return i(t,e),l(t,[{key:"appear",value:function(e,t,n){var o=this;o.material.opacity=0,new f.default.Tween(o.material).to({opacity:1},t||1e3).delay(e||0).onComplete(function(){"function"==typeof n&&n.call(o,o)}).start()}},{key:"disappear",value:function(e,t,n){var o=this;o.material.opacity=1,new f.default.Tween(o.material).to({opacity:0},t||1e3).delay(e||0).onComplete(function(){"function"==typeof n&&n.call(o,o)}).start()}},{key:"scaleCoef",get:function(){return this._scaleCoef},set:function(e){var t=this;t._scaleCoef=e;var n=t.material.map;if(n){var o=n.image._width/n.image._height;t.scale.set(e*o,e,e)}}},{key:"text",get:function(){return this._text},set:function(e){var t=this;t._text=e,e&&(t.material.map=p.default.createTextTexture(e,{fontSize:100,gap:40,powerOfTwo:!0,fillStyle:"#FFFFFF",strokeStyle:"#000000"}),t.scaleCoef=t.scaleCoef)}},{key:"color",get:function(){return this._color},set:function(e){var t=this;t._color=e,t.material.color=new s.Color(e)}}]),t}(s.Sprite));t.default=_},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(s),f=n(1),d=n(2),p=n(5),_=2*Math.PI,v=(Math.PI,function(e){function t(){o(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._invalidateGeometryFlag=!1,e._invalidateAttributeFlag=!1,e._invalidateMaterialFlag=!1,e._width=1,e._points=void 0,e._euv=void 0,e._speed=void 0,e._startColor=void 0,e._endColor=void 0;var n=e;n.geometry=new u.BufferGeometry;var a=new u.ShaderMaterial({uniforms:{positive:{type:"b",value:!0},t:{type:"f",value:0},alpha:{type:"f",value:1},factor:{type:"f",value:Math.random()*_},size:{type:"f",value:.5}},vertexShader:p.effect_ambilight_basic_vert,fragmentShader:p.effect_ambilight_basic_frag,depthTest:!0,transparent:!0,side:u.DoubleSide});return n.material=a,n.renderable=!0,e}return a(t,e),i(t,[{key:"_invalidateGeometry",value:function(){var e=this;e._invalidateGeometryFlag=!0,e.invalidateProperties()}},{key:"_invalidateAttribute",value:function(){var e=this;e._invalidateAttributeFlag=!0,e.invalidateProperties()}},{key:"_invalidateMaterial",value:function(){var e=this;e._invalidateMaterialFlag=!0,e.invalidateProperties()}},{key:"commitProperties",value:function(){var e=this;if(e._invalidateGeometryFlag){e._invalidateGeometryFlag=!1;for(var t=e.geometry,n=e._points,o=e._euv,r=Math.random()*_,a=n.length,i=[],l=[],s=[],c=[],f=[],d=[],p=[],v=0;v<a;v++){var m=n[v];if(i.push(new u.Vector3),i.push(new u.Vector3),v>0){var h=v-1;l.push(2*h,2*v,2*v+1),l.push(2*h,2*h+1,2*v+1)}var g=v/(a-1);s.push(g),s.push(g),c.push(new u.Vector3),c.push(new u.Vector3),f.push(r+_*g),f.push(r+_*g);var y=o.clone().normalize();d.push(y),d.push(y.clone().multiplyScalar(-1)),p.push(m),p.push(m)}t.removeAttribute("position"),t.addAttribute("position",new u.Float32BufferAttribute(3*i.length,3).copyVector3sArray(i)),t.setIndex(new u.Uint32BufferAttribute(l.length,1).copyArray(l)),t.removeAttribute("i"),t.addAttribute("i",new u.Float32BufferAttribute(s.length,1).copyArray(s)),t.removeAttribute("color"),t.addAttribute("color",new u.Float32BufferAttribute(3*c.length,3).copyVector3sArray(c)),t.removeAttribute("offset"),t.addAttribute("offset",new u.Float32BufferAttribute(f.length,1).copyArray(f)),t.removeAttribute("auv"),t.addAttribute("auv",new u.Float32BufferAttribute(3*d.length,3).copyVector3sArray(d)),t.removeAttribute("o"),t.addAttribute("o",new u.Float32BufferAttribute(3*p.length,3).copyVector3sArray(p))}if(e._invalidateAttributeFlag){e._invalidateAttributeFlag=!1;for(var b=e.geometry,w=b.attributes.position.count/2,x=b.attributes.color.array,O=new u.Color(e._startColor),M=new u.Color(e._endColor),P=new u.Color,C=0;C<w;C++){var k=C/(w-1),S=6*C,j=6*C+3;P.setRGB(O.r+(M.r-O.r)*k,O.g+(M.g-O.g)*k,O.b+(M.b-O.b)*k),x[S]=P.r,x[S+1]=P.g,x[S+2]=P.b,x[j]=P.r,x[j+1]=P.g,x[j+2]=P.b}b.attributes.color.needsUpdate=!0}if(e._invalidateMaterialFlag){e._invalidateMaterialFlag=!1;e.material.uniforms.size.value=e._width/2}}},{key:"render",value:function(){var e=this,t=e._speed||.1;e.material.uniforms.factor.value-=t}},{key:"appear",value:function(e,t,n){var o=this;t=t||600,e=e||0;var r=o.material;r.uniforms.positive.value=!0,r.uniforms.t.value=0,new c.default.Tween(r.uniforms.t).to({value:1},t).delay(e).onComplete(function(){"function"==typeof n&&n.call(o,o)}).start()}},{key:"disappear",value:function(e,t,n){var o=this;t=t||600,e=e||0;var r=o.material;r.uniforms.positive.value=!1,r.uniforms.t.value=0,new c.default.Tween(r.uniforms.t).to({value:1},t).delay(e).onComplete(function(){"function"==typeof n&&n.call(o,o)}).start()}},{key:"width",get:function(){return this._width},set:function(e){var t=this;t._width=e,t._invalidateMaterial()}},{key:"points",get:function(){return this._points},set:function(e){var t=this;t._points=e,t._invalidateGeometry()}},{key:"euv",get:function(){return this._euv},set:function(e){var t=this;t._euv=e,t._invalidateGeometry()}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e}},{key:"startColor",get:function(){return this._startColor},set:function(e){var t=this;t._startColor=e,t._invalidateAttribute()}},{key:"endColor",get:function(){return this._endColor},set:function(e){var t=this;t._endColor=e,t._invalidateAttribute()}}]),t}(u.Mesh));(0,f.forge)(v,d.InteractiveObject,f.UiComponent),t.default=v},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(1),i=function(){function e(){o(this,e),this._domElement=void 0,this._coordinateAutoScale=!1;var t=this,n=(0,a.createElement)("div");(0,a.setStyles)(n,{position:"absolute",left:"0",top:"0",display:"none","border-style":"solid","white-space":"nowrap","z-index":"9999999",transition:"left 0.4s cubic-bezier(0.23, 1, 0.32, 1), top 0.4s cubic-bezier(0.23, 1, 0.32, 1)","background-color":"rgba(50, 50, 50, 0.7)","border-width":"0px","border-color":"rgb(51, 51, 51)","border-radius":"4px",color:"rgb(255, 255, 255)","font-style":"normal","font-variant":"normal","font-weight":"normal","font-stretch":"normal","font-size":"14px","font-family":"sans-serif","line-height":"21px",padding:"5px"}),t._domElement=n}return r(e,[{key:"show",value:function(){var e=Array.prototype.slice.apply(arguments),t=e[0],n=0,o=0;if(3===e.length)n=e[1],o=e[2];else if(2===e.length){t=e[0];var r=e[1];if(n=r.x,o=r.y,r.mouseEvent){var i=r.mouseEvent;n=i.pageX+10,o=i.pageY+10}if(1!=r.original){var l=r.scaleInfo||window.scaleInfo,u=document.body,s=u.getBoundingClientRect();l||(l={scaleX:s.width/u.clientWidth,scaleY:s.height/u.clientHeight}),n-=s.left,n/=l.scaleX,o-=s.top,o/=l.scaleY}}var c=this,f=c._domElement;f.innerHTML=t,(0,a.setStyles)(f,{display:"block",left:n+"px",top:o+"px"})}},{key:"hide",value:function(){var e=this,t=e._domElement;t.innerHTML="",(0,a.setStyles)(t,{display:"none"})}},{key:"setStyles",value:function(e){var t=this,n=t._domElement;(0,a.setStyles)(n,e)}},{key:"domElement",get:function(){return this._domElement}},{key:"coordinateAutoScale",get:function(){return this._coordinateAutoScale},set:function(e){this._coordinateAutoScale=e}}]),e}();t.default=i},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),l=n(2),u=n(60),s=2*Math.PI,c=function(e,t){return isFinite(e)?e:t},f=function(){function e(t,n,r,a){o(this,e),this._t=0,this._alpha0=0,this._alpha1=1,this._color0=16711680,this._color1=255;var u=this;u._color0=t||"#FF0000",u._color1=n||"#0000FF",u._alpha0=c(r,0),u._alpha1=c(a,1),u._uniforms=(0,l.uniformsMerge)([i.ShaderLib.basic.uniforms],{t:{type:"f",value:0},a0:{type:"f",value:u._alpha0},a1:{type:"f",value:u._alpha1},c0:{type:"c",value:new i.Color(u._color0)},c1:{type:"c",value:new i.Color(u._color1)}})}return r(e,[{key:"effect",value:function(e,t,n,o){var r=this,a=e.geometry;if(a instanceof i.BufferGeometry){var l=a.attributes.position,f=l.count,d=[];t=c(t,1),n=c(n,Math.random()*s);for(var p=0;p<f;p++){var _=p/(f-1);o?d.push(n+Math.random()*s*t):d.push(n+_*s*t)}a.removeAttribute("a"),a.addAttribute("a",new i.Float32BufferAttribute(1*d.length,1).copyArray(d))}if(e.isLine||e.isLineLoop||e.isLineSegments){var v=new i.ShaderMaterial({uniforms:r._uniforms,defines:{JUS_GLSL_LIB:!0},transparent:!0,vertexShader:u.effect_line_wave_vert,fragmentShader:u.effect_line_basic_frag});e.material=v}else e.isMesh}},{key:"t",get:function(){return this._t},set:function(e){var t=this;t._t=e,t._uniforms.t.value=e}},{key:"alpha0",get:function(){return this._alpha0},set:function(e){var t=this;t._alpha0=e,t._uniforms.a0.value=e}},{key:"alpha1",get:function(){return this._alpha1},set:function(e){var t=this;t._alpha1=e,t._uniforms.a1.value=e}},{key:"color0",get:function(){return this._color0},set:function(e){var t=this;t._color0=e,t._uniforms.c0.value=new i.Color(e)}},{key:"color1",get:function(){return this._color1},set:function(e){var t=this;t._color1=e,t._uniforms.c1.value=new i.Color(e)}}]),e}();t.default=f},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.effect_line_wave_vert=t.effect_line_basic_frag=void 0;var r=n(61),a=o(r),i=n(62),l=o(i);t.effect_line_basic_frag=a.default,t.effect_line_wave_vert=l.default},function(e,t){e.exports="varying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\ngl_FragColor = vec4(vColor, vAlpha);\n}\n"},function(e,t){e.exports="uniform float t;\nuniform float a0;\nuniform float a1;\nuniform vec3 c0;\nuniform vec3 c1;\nattribute float a;\nvarying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\nvec3 mvPosition = position;\ngl_Position = projectionMatrix * modelViewMatrix * vec4(mvPosition, 1.0);\nfloat c = (1. + sin(t + a)) * .5;\nvColor = c0 + (c1 - c0) * c;\nvAlpha = a0 + (a1 - a0) * c;\n}\n"},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),s=n(1),c=n(2),f=n(64),d=2*Math.PI,p=function(e,t){return isFinite(e)?e:t},_=function(e){function t(e,n){o(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));a._numParticles=1,a._t=0;var i=a,l=e.attributes.position.count;i._numParticles=l,n=n||{};for(var s=new u.Color(n.color||"#FFFFFF"),_=p(n.alpha,1),v=[],m=[],h=[],g=[],y=0;y<l;y++)v.push(1),m.push(s),h.push(_),g.push(Math.random()*d);e.addAttribute("ps",new u.Float32BufferAttribute(1*v.length,1).copyArray(v)),e.addAttribute("pc",new u.Float32BufferAttribute(3*m.length,3).copyColorsArray(m)),e.addAttribute("pa",new u.Float32BufferAttribute(1*h.length,1).copyArray(h)),e.addAttribute("po",new u.Float32BufferAttribute(1*g.length,1).copyArray(g)),i.geometry=e;var b=i._uniforms=(0,c.uniformsMerge)([u.ShaderLib.points.uniforms],{t:{type:"f",value:0}}),w=new u.ShaderMaterial({uniforms:b,defines:{JUS_GLSL_LIB:!0,USE_SIZEATTENUATION:!0},transparent:n.transparent,blending:n.blending,depthTest:n.depthTest,vertexShader:f.particle_system_basic_vert,fragmentShader:f.particle_system_basic_frag});return w.color=s,w.opacity=_,w.size=p(n.size,1),w.map=n.map||null,w.isPointsMaterial=!0,i.material=w,a}return a(t,e),i(t,[{key:"setPosition",value:function(e,t){}},{key:"getPosition",value:function(e){e=Math.floor(e);var t=this,n=t.geometry,o=n.attributes.position;return new u.Vector3(o.getX(e),o.getY(e),o.getZ(e))}},{key:"setScale",value:function(e,t){t=Math.floor(t);var n=this,o=n.geometry,r=o.attributes.ps;r.setX(t,e),r.needsUpdate=!0}},{key:"setColor",value:function(e,t){t=Math.floor(t);var n=this,o=n.geometry,r=o.attributes.pc,a=new u.Color(e);r.setXYZ(t,a.r,a.g,a.b),r.needsUpdate=!0}},{key:"render",value:function(){}},{key:"numParticles",get:function(){return this._numParticles}},{key:"t",get:function(){return this._t},set:function(e){var t=this;t._t=e,t._uniforms.t.value=e}}]),t}(u.Points);(0,s.forge)(_,c.InteractiveObject),t.default=_},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.particle_system_basic_frag=t.particle_system_basic_vert=void 0;var r=n(65),a=o(r),i=n(66),l=o(i);t.particle_system_basic_vert=a.default,t.particle_system_basic_frag=l.default},function(e,t){e.exports="uniform float size;\nuniform float scale;\n#include <commons>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nuniform float t;\nattribute float ps;\nattribute vec3 pc;\nattribute float pa;\nattribute float po;\nvarying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\n#include <color_vertex>\n#include <begin_vertex>\n#include <project_vertex>\n#ifdef USE_SIZEATTENUATION\ngl_PointSize = size * ( scale / - mvPosition.z );\n#else\ngl_PointSize = size;\n#endif\ngl_PointSize *= ps;\nfloat c = (1. + sin(t + po)) * .5;\nfloat c2 = .2 + c * .8;\ngl_PointSize *= c2;\nvColor = pc;\nvAlpha = pa;\n#include <logdepthbuf_vertex>\n#include <clipping_planes_vertex>\n#include <worldpos_vertex>\n#include <shadowmap_vertex>\n#include <fog_vertex>\n}\n"},function(e,t){/*!
 * Jusfoun Threejs Shader Library v0.1.0
 * Powered by Jusfoun Visualization Department
 * Contact:
 *   vis@jusfoun.com
 *   http://vis.jusfoun.com
 *   http://jusfoun-vis.github.io
 *
 * Copyright (c) 2018, Jusfoun Big Data Group Inc.
 * All rights reserved.
 *
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
e.exports="uniform vec3 diffuse;\nuniform float opacity;\n#include <commons>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec3 vColor;\nvarying float vAlpha;\nvoid main() {\n#include <clipping_planes_fragment>\nvec3 outgoingLight = vec3( 0.0 );\nvec4 diffuseColor = vec4( vColor, vAlpha );\n#include <logdepthbuf_fragment>\n#include <map_particle_fragment>\n#include <color_fragment>\n#include <alphatest_fragment>\noutgoingLight = diffuseColor.rgb;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include <premultiplied_alpha_fragment>\n#include <tonemapping_fragment>\n#include <encodings_fragment>\n#include <fog_fragment>\n}\n"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.adjacency_matrix_phong_frag=t.adjacency_matrix_phong_vert=void 0;var r=n(68),a=o(r),i=n(69),l=o(i);t.adjacency_matrix_phong_vert=a.default,t.adjacency_matrix_phong_frag=l.default},function(e,t){e.exports="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#include <commons>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nuniform float positionT;\nuniform float heightT;\nuniform float size;\nuniform bool positive;\nuniform vec3 darkColor;\nattribute float originFlag;\nattribute float height;\nattribute vec3 positionOffset;\nvoid main() {\n#include <uv_vertex>\n#include <uv2_vertex>\n#include <color_vertex>\n#include <beginnormal_vertex>\n#include <morphnormal_vertex>\n#include <skinbase_vertex>\n#include <skinnormal_vertex>\n#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\nvNormal = normalize( transformedNormal );\n#endif\n#include <begin_vertex>\ntransformed = vec3(transformed.xy * size, originFlag * height * heightT) + positionOffset * positionT;\nvColor = positive && height > 0.0 ? vColor : !positive && height < 0.0 ? vColor : darkColor;\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <displacementmap_vertex>\n#include <project_vertex>\n#include <logdepthbuf_vertex>\n#include <clipping_planes_vertex>\nvViewPosition = - mvPosition.xyz;\n#include <worldpos_vertex>\n#include <envmap_vertex>\n#include <shadowmap_vertex>\n#include <fog_vertex>\n}\n"},function(e,t){e.exports="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <commons>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_pars_maps>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n#include <clipping_planes_fragment>\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveRadiance = emissive;\n#include <logdepthbuf_fragment>\n#include <map_fragment>\n#include <color_fragment>\n#include <alphamap_fragment>\n#include <alphatest_fragment>\n#include <specularmap_fragment>\n#include <normal_fragment_begin>\n#include <normal_fragment_maps>\n#include <emissivemap_fragment>\n#include <lights_phong_fragment>\n#include <lights_fragment_begin>\n#include <lights_fragment_maps>\n#include <lights_fragment_end>\n#include <aomap_fragment>\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n#include <envmap_fragment>\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include <tonemapping_fragment>\n#include <encodings_fragment>\n#include <fog_fragment>\n#include <premultiplied_alpha_fragment>\n#include <dithering_fragment>\n}\n"},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),c=n(3),f=o(c),d=n(7),p=o(d),_=n(15),v=o(_),m=(Math.PI,Math.PI,function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._data=void 0,n._tween=void 0,n._tweenObject=void 0;var o=n;return o._tweenObject={t:0},o.initialize(),n}return i(t,e),l(t,[{key:"_initLights",value:function(){var e=this,t=16777215,n=400;e.addPointLight(t,1,n,n,n),e.addPointLight(t,1,-n,n,-n)}},{key:"_initObjects",value:function(){var e=this,t=e._option,n=function(t){e.dispatchEvent(t)},o=e._adjacencyMatrix=new v.default;o.palette=t.palette,o._labelMargin=t.labelMargin||0,o._labelDirection=0==t.labelDirection?0:1,o.on("itemMouseOver",n),o.on("itemMouseOut",n),o.on("itemClick",n),o.position.y=100,e.addObject(o);var r=t.data;if(r&&(o.vertexData=r.vertices,o.edgeData=r.edges),t.grid){var a=e._grid=new s.Mesh(new s.PlaneBufferGeometry(o.measuredWidth,o.measuredHeight),new s.MeshBasicMaterial({map:(new s.TextureLoader).load(t.grid),transparent:!0,depthWrite:!1,side:s.DoubleSide}));a.position.y=o.position.y-2,a.rotation.x=Math.PI/2,a.size=1.5*(t.gridScale||1),a.scale.set(.01,.01,.01),e.addObject(a)}if(t.border){var i=e._border=new s.Mesh(new s.PlaneBufferGeometry(o.measuredWidth,o.measuredHeight),new s.MeshBasicMaterial({map:(new s.TextureLoader).load(t.border),transparent:!0,depthWrite:!1,side:s.DoubleSide}));i.position.y=o.position.y-1,i.rotation.x=Math.PI/2,i.size=1.3*(t.borderScale||1),i.scale.set(.01,.01,.01),e.addObject(i)}}},{key:"_initFinally",value:function(){var e=this,t=e._option,n=t.cameraPosition||[-267.93437850756305,285.3199110544426,311.1329573826135],o=e.camera.position;o.set.apply(o,n),e.controls.update()}},{key:"appear",value:function(e){var t=this;t._adjacencyMatrix.appear(void 0,void 0,e),t._tween&&(t._tween.stop(),t._tween=null),t._tween=new f.default.Tween(t._tweenObject).to({t:1},1e3).easing(f.default.Easing.Cubic.InOut).delay(0).onUpdate(function(e){var n=e.t,o=t._grid;if(o){var r=Math.max(.01,n*o.size);o.scale.set(r,r,r)}var a=t._border;if(a){var i=Math.max(.01,n*a.size);a.scale.set(i,i,i)}}).onComplete(function(){}).start()}},{key:"disappear",value:function(e){var t=this;t._adjacencyMatrix.disappear(void 0,void 0,e),t._tween&&(t._tween.stop(),t._tween=null),t._tween=new f.default.Tween(t._tweenObject).to({t:0},1e3).easing(f.default.Easing.Cubic.InOut).delay(0).onUpdate(function(e){var n=e.t,o=t._grid;if(o){var r=Math.max(.01,n*o.size);o.scale.set(r,r,r)}var a=t._border;if(a){var i=Math.max(.01,n*a.size);a.scale.set(i,i,i)}}).onComplete(function(){}).start()}},{key:"flip",value:function(e){this._adjacencyMatrix.flip(e)}},{key:"data",get:function(){return this._data},set:function(e){var t=this;t._data=e,t._data&&t.disappear(function(){var e=t._adjacencyMatrix,n=t._data;e.vertexData=n.vertices,e.edgeData=n.edges,e.validateNow(),t.appear()})}}]),t}(p.default));t.default=m}]));