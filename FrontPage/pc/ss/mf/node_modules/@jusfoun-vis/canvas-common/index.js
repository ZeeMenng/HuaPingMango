/*!
 * Jusfoun Canvas Common Library v0.1.1
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vis@jusfoun.com
 *   http://vis.jusfoun.com
 *   http://jusfoun-vis.github.io
 * 
 * Copyright (c) 2018, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(t,e){for(var o in e)t[o]=e[o]}(exports,function(t){function e(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderTextLikeDocument=void 0;var r=o(1),n=function(t){return t&&t.__esModule?t:{default:t}}(r);e.renderTextLikeDocument=n.default},function(t,e,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=o(2),i=r(n),a=o(3),l=r(a),f=o(4),s=r(f),d=o(5),u=r(d),h=o(6),c=r(h),p=function(t,e,o,r){o=o||{},e||(e=1/0);var n=!r;n&&(r=i.default.getCanvas());var a=r.getContext("2d"),f=o.fontSize||12,d=Math.max(o.lineHeight||12,f),h=(d-f)/2,p=(0,l.default)(o),y=(o.textAlign||"").toLowerCase(),g=(0,u.default)(o.fillStyle||o.color),v=Math.max(o.strokeWidth||0,0),w=(0,u.default)(o.strokeStyle,!0),S=(0,s.default)(o.padding),b=(0,c.default)(o),x=o.backgroundStyle?(0,u.default)(o.backgroundStyle):void 0,m=function(t){t.font=p,t.textBaseline="hanging",t.lineWidth=2*v};m(a);for(var _=[],O=0,k={index:0,startIndex:0,endIndex:0,width:0},C=0;C<t.length;C++){var j=t.charAt(C),M=a.measureText(j),B=M.width,I="\n"===j||"\r"===j;(I||k.width+B>e)&&(k.endIndex=C,_.push(k),O<k.width&&(O=k.width),k={index:k.index+1,startIndex:I?C+1:C,endIndex:0,width:0}),k.width+=B}k.endIndex=t.length,_.push(k),O<k.width&&(O=k.width);var P=(isFinite(e)?e:O)+S.width+2*v+b.width,X=Math.ceil(_.length*d)+S.height+2*v+b.height;if(n&&(r.width=P,r.height=X),x&&(x.apply(a,P,X),a.fillRect(0,0,P,X)),m(a),v<=0&&b.apply(a),w.global&&w.apply(a,P,X),g.global&&g.apply(a,P,X),_.forEach(function(e){var o=t.substring(e.startIndex,e.endIndex),n="center"===y?(r.width-e.width)/2:"right"===y?r.width-e.width-S.right-v:S.left+v,i=h+e.index*(f+2*h)+S.top+v;v>0&&(b.apply(a),w.global||w.apply(a,P,f,0,i),a.strokeText(o,n,i),w.global||w.restore(a),b.restore(a)),g.global||g.apply(a,P,f,0,i),a.fillText(o,n,i),g.global||g.restore(a)}),n){var Y=new Image;return Y._width=P,Y._height=X,Y.src=r.toDataURL(),Y}return r};e.default=p},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="undefined"!=typeof document?document.createElement("canvas"):void 0;r||console.error("Can NOT create canvas element.");var n={getCanvas:function(){return r}};Object.freeze(n),e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=t.fontStyle,o=t.fontVariant,r=t.fontWeight,n=t.fontSize||12,i=t.lineHeight||"",a=t.fontFamily||"sans-serif";return[e,o,r,n+"px"+(i?"/"+i+"px":""),a].join(" ")};e.default=r},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t){t=t||0;var e={top:0,right:0,bottom:0,left:0};if(Array.isArray(t))if(1===t.length)t=t[0]||0;else if(2===t.length)e.top=e.bottom=t[0]||0,e.left=e.right=t[1]||0;else{if(4!==t.length)throw new Error("Illegal padding configuration: "+t);e.top=t[0]||0,e.right=t[1]||0,e.bottom=t[2]||0,e.left=t[3]||0}else"object"===(void 0===t?"undefined":r(t))&&(e.top=t.top||0,e.right=t.right||0,e.bottom=t.bottom||0,e.left=t.left||0);return"number"==typeof t&&(e.top=e.right=e.bottom=e.left=t),e.width=e.left+e.right,e.height=e.top+e.bottom,e};e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(t,e){t=t||"";var o={type:"unknown",global:!0,stroke:!!e,_original:void 0,save:function(t){var e=this;e._original=e.stroke?t.strokeStyle:t.fillStyle},apply:function(t){this.save(t)},restore:function(t){var e=this,o=e._original;e.stroke?t.strokeStyle=o:t.fillStyle=o}};return"string"==typeof t?(o.type="color",o.color=t,o.apply=function(t){var e=this;e.save(t);var o=e.color;e.stroke?t.strokeStyle=o:t.fillStyle=o}):"object"===(void 0===t?"undefined":r(t))&&(o.type=t.type,o.global="global"===t.scope,"linearGradient"===o.type?(o.x0=t.x0||0,o.y0=t.y0||0,o.x1=t.x1||0,o.y1=t.y1||0,o.colorStops=t.colorStops,o.apply=function(t,e,o,r,n){var i=this;i.save(t),r=r||0,n=n||0;var a=t.createLinearGradient(r+i.x0*e,n+i.y0*o,r+i.x1*e,n+i.y1*o);i.colorStops.forEach(function(t){return a.addColorStop(t.offset,t.color)}),i.stroke?t.strokeStyle=a:t.fillStyle=a}):"radialGradient"===o.type?(o.x0=t.x0||0,o.y0=t.y0||0,o.r0=t.r0||0,o.x1=t.x1||0,o.y1=t.y1||0,o.r1=t.r1||0,o.colorStops=t.colorStops,o.apply=function(t,e,o,r,n){var i=this;i.save(t);var a=t.createRadialGradient(i.x0,i.y0,i.r0,i.x1,i.y1,i.r1);i.colorStops.forEach(function(t){return a.addColorStop(t.offset,t.color)}),i.stroke?t.strokeStyle=a:t.fillStyle=a}):"pattern"===o.type&&(o.image=t.image,o.repetition=t.repetition||"",o.apply=function(t){var e=this;e.save(t);var o=t.createPattern(e.image,e.repetition);e.stroke?t.strokeStyle=o:t.fillStyle=o})),o};e.default=n},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){var e=t.shadowBlur||0,o=t.shadowColor||"",r=t.shadowOffsetX||0,n=t.shadowOffsetY||0,i={shadowBlur:e,shadowColor:o,shadowOffsetX:r,shadowOffsetY:n,_originalShadowBlur:void 0,_originalShadowColor:void 0,_originalShadowOffsetX:void 0,_originalShadowOffsetY:void 0,save:function(t){var e=this;e._originalShadowBlur=t.shadowBlur,e._originalShadowColor=t.shadowColor,e._originalShadowOffsetX=t.shadowOffsetX,e._originalShadowOffsetY=t.shadowOffsetY},apply:function(t){var e=this;e.save(t),t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY},restore:function(t){var e=this;t.shadowBlur=e._originalShadowBlur,t.shadowColor=e._originalShadowColor,t.shadowOffsetX=e._originalShadowOffsetX,t.shadowOffsetY=e._originalShadowOffsetY}};return i.width=e+r,i.height=e+n,i};e.default=r}]));