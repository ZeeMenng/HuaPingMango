/*!
 * Jusfoun Threejs Common Library v0.1.10
 * Powered by Jusfoun Visualization Department
 * Contact: 
 *   vis@jusfoun.com
 *   http://vis.jusfoun.com
 *   http://jusfoun-vis.github.io
 * 
 * Copyright (c) 2018, Jusfoun Big Data Group Inc.
 * All rights reserved.
 * 
 * LICENSE
 * http://www.jusfoun.com/software/LICENSE.txt
 */
!function(e,t){for(var n in t)e[n]=t[n]}(exports,function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=6)}([function(e,t){e.exports=require("three")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this._stage3d=null,this._interactive=!1,this._useFaces=!1,this._buttonMode=!1,this._renderable=!1}return o(e,[{key:"addObject",value:function(e){var t=this;e&&(e._stage3d=t._stage3d,"function"==typeof e._addedToStage&&e._addedToStage(),t.add(e))}},{key:"removeObject",value:function(e){e&&(this.remove(e),"function"==typeof e._removedFromStage&&e._removedFromStage(),e._stage3d=null)}},{key:"_addedToStage",value:function(){var e=this,t=e._stage3d;if(t){e.interactive&&t.interactiveManager.add(e,e.useFaces),e.renderable&&t.renderableManager.add(e);var n=e.children;n instanceof Array&&n.forEach(function(e){e._stage3d=t,"function"==typeof e._addedToStage&&e._addedToStage()})}}},{key:"_removedFromStage",value:function(){var e=this,t=e._stage3d;if(t){t.interactiveManager.remove(e),t.renderableManager.remove(e);var n=e.children;n instanceof Array&&n.forEach(function(e){"function"==typeof e._removedFromStage&&e._removedFromStage(),e._stage3d=null})}}},{key:"stage3d",get:function(){return this._stage3d}},{key:"interactive",get:function(){return this._interactive},set:function(e){var t=this;t._interactive=e,t._stage3d&&(t._interactive?t._stage3d.interactiveManager.add(t,t.useFaces):t._stage3d.interactiveManager.remove(t))}},{key:"useFaces",get:function(){return this._useFaces},set:function(e){this._useFaces=e}},{key:"buttonMode",get:function(){return this._buttonMode},set:function(e){this._buttonMode=e}},{key:"renderable",get:function(){return this._renderable},set:function(e){var t=this;t._renderable=e,t._stage3d&&(t._renderable?t._stage3d.renderableManager.add(t):t._stage3d.renderableManager.remove(t))}}]),e}();t.default=a},function(e,t){e.exports=require("@jusfoun-vis/common")},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(i),c={dblclick:"doubleClick"},l=function(){function e(){r(this,e),this._raycaster=void 0,this._stage3d=void 0;var t=this;t._objects={},t._objectList=[],t._numObjects=0,t._mouse={},t._raycaster=new u.Raycaster,t._domElementMouseMoveHandler=t._domElementMouseMoveHandler.bind(t),t._domElementMouseOutHandler=t._domElementMouseOutHandler.bind(t),t._domElementClickHandler=t._domElementClickHandler.bind(t),t._domElementDoubleClickHandler=t._domElementDoubleClickHandler.bind(t)}return a(e,[{key:"_getObjectId",value:function(e){return e.id+":"+e.uuid}},{key:"_domElementMouseMoveHandler",value:function(e){var t=this;e.preventDefault();var n=t._stage3d,r=t._mouse;r.x=(e.offsetX<<1)/n.width-1,r.y=-(e.offsetY<<1)/n.height+1,r.stageX=e.pageX,r.stageY=e.pageY,r.event=e,t.pick(e)}},{key:"_domElementMouseOutHandler",value:function(e){var t=this,n=t._mouse;n.x=-1024,n.y=-1024,t.pick(e)}},{key:"_domElementClickHandler",value:function(e){this.pick(e)}},{key:"_domElementDoubleClickHandler",value:function(e){this.pick(e)}},{key:"add",value:function(e){var t=this,n=t._getObjectId(e);t.contains(n)||(t._objects[n]=e,t._objectList.push(e),t._numObjects++)}},{key:"remove",value:function(e){var t=this,n=t._getObjectId(e);if(t.contains(n)){delete t._objects[n];var r=t._objectList.indexOf(e);-1!==r&&t._objectList.splice(r,1),t._numObjects--}}},{key:"contains",value:function(e){var t=this;return e instanceof u.Object3D&&(e=t._getObjectId(e)),void 0!==t._objects[e]}},{key:"update",value:function(){}},{key:"pick",value:function(t){var n=this,r=n._raycaster,o=n._stage3d;if(r&&o&&!(n._numObjects<1)){r.setFromCamera(n._mouse,o.camera);var a=r.intersectObjects(n._objectList);if(a.length>0){var i=a[0];if(i.index=isFinite(i.index)?i.index:i.face.a,t&&(t.face=i.face,t.index=i.index,t.faceIndex=i.faceIndex),n._object!==i.object?(e.resetType(t,"mouseOut"),e.dispatchEvent(n._object,t),n._object=i.object,e.resetType(t,"mouseOver"),e.dispatchEvent(n._object,t)):n._object.useFaces&&n._index!==i.index&&(n._index=i.index,e.resetType(t,"mouseOver"),e.dispatchEvent(n._object,t)),t){var u=t.type;"click"!==u&&"dblclick"!==u||e.dispatchEvent(n._object,t)}o.domElement.style.cursor=n._object.buttonMode?"pointer":"default"}else e.resetType(t,"mouseOut"),e.dispatchEvent(n._object,t),n._object=void 0,n._faceIndex=void 0,o.domElement.style.cursor="default";return a}}},{key:"raycaster",get:function(){return this._raycaster},set:function(e){this._raycaster=e}},{key:"stage3d",get:function(){return this._stage3d},set:function(e){var t=this;if(t._stage3d!==e){if(t._stage3d){var n=t._stage3d.domElement;n.removeEventListener("mousemove",t._domElementMouseMoveHandler),n.removeEventListener("mouseout",t._domElementMouseOutHandler),n.removeEventListener("click",t._domElementClickHandler),n.removeEventListener("dblclick",t._domElementDoubleClickHandler),t._stage3d=null}if(t._stage3d=e,t._stage3d){var r=t._stage3d.domElement;r.addEventListener("mousemove",t._domElementMouseMoveHandler),r.addEventListener("mouseout",t._domElementMouseOutHandler),r.addEventListener("click",t._domElementClickHandler),r.addEventListener("dblclick",t._domElementDoubleClickHandler)}}}},{key:"stageX",get:function(){return this._mouse.stageX}},{key:"stageY",get:function(){return this._mouse.stageY}}]),e}();l.dispatchEvent=function(e,t){if("object"===(void 0===e?"undefined":o(e))&&"object"===(void 0===t?"undefined":o(t))){var n=t.type;n=c[n]||n,"function"==typeof e[n]&&e[n].call(e,t),"function"==typeof e.dispatchEvent&&e.dispatchEvent(t)}},l.resetType=function(e,t){e&&Object.defineProperty(e,"type",{configurable:!0,enumerable:!0,get:function(e){return function(){return e}}(t)})},t.default=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(a),u=function(){function e(){r(this,e),this._objects=void 0,this._objects={}}return o(e,[{key:"_getObjectId",value:function(e){return e.id+":"+e.uuid}},{key:"update",value:function(){var e=this._objects;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];n&&"function"==typeof n.render&&n.render()}}},{key:"add",value:function(e){var t=this,n=t._getObjectId(e);t.contains(n)||(t._objects[n]=e)}},{key:"remove",value:function(e){var t=this,n=t._getObjectId(e);t.contains(n)&&delete t._objects[n]}},{key:"contains",value:function(e){var t=this;return e instanceof i.Object3D&&(e=t._getObjectId(e)),void 0!==t._objects[e]}}]),e}();t.default=u},function(e,t,n){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={canvas:!!window.CanvasRenderingContext2D,webgl:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(e){return!1}}(),workers:!!window.Worker,fileapi:window.File&&window.FileReader&&window.FileList&&window.Blob,getWebGLErrorMessage:function(){var e=document.createElement("div");return e.id="webgl-error-message",e.style.fontFamily="monospace",e.style.fontSize="13px",e.style.fontWeight="normal",e.style.textAlign="center",e.style.background="#fff",e.style.color="#000",e.style.padding="1.5em",e.style.width="400px",e.style.margin="5em auto 0",this.webgl||(e.innerHTML=window.WebGLRenderingContext?['Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br />','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n"):['Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">WebGL</a>.<br/>','Find out how to get it <a href="http://get.webgl.org/" style="color:#000">here</a>.'].join("\n")),e},addGetWebGLMessage:function(e){var t,r,o;e=e||{},t=void 0!==e.parent?e.parent:document.body,r=void 0!==e.id?e.id:"oldie",o=n.getWebGLErrorMessage(),o.id=r,t.appendChild(o)}};"object"===t(e)&&(e.exports=n)}).call(t,n(10)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=n(9);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var a=n(12);Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}})});var i=n(13);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}),n(20)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Stage3D=t.RenderableManager=t.InteractiveObject=t.InteractiveManager=void 0;var o=n(3),a=r(o),i=n(1),u=r(i),c=n(4),l=r(c),s=n(8),f=r(s);t.InteractiveManager=a.default,t.InteractiveObject=u.default,t.RenderableManager=l.default,t.Stage3D=f.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),s=n(2),f=n(3),d=r(f),p=n(4),v=r(p),b=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e._captureExecutor=null,e._scene=null,e._camera=null,e._renderer=null,e._interactiveManager=null,e._renderableManager=null;var n=e;return n._scene=new l.Scene,n._camera=new l.PerspectiveCamera(75,n._width/n._height,1,1e4),n._renderer=new l.WebGLRenderer({antialias:!0,alpha:!0}),"number"==typeof window.devicePixelRatio&&n._renderer.setPixelRatio(window.devicePixelRatio),n._renderer.setClearColor(0,0),n._renderer.setSize(n._width,n._height),n._interactiveManager=new d.default,n._interactiveManager.stage3d=n,n._renderableManager=new v.default,e}return i(t,e),u(t,[{key:"resize",value:function(e,t){var n=this,r=n.domElement,o=r?r.parentElement:void 0;o&&(e=e||o.clientWidth,t=t||o.clientHeight),n.width=e,n.height=t}},{key:"updateDisplayList",value:function(){var e=this,t=e._camera,n=e._width,r=e._height;if(t instanceof l.PerspectiveCamera)t.aspect=n/r;else if(t instanceof l.OrthographicCamera){var o=n>>1,a=r>>1;t.left=-o,t.right=o,t.top=a,t.bottom=-a}t.updateProjectionMatrix(),e._renderer.setSize(n,r)}},{key:"capture",value:function(e,t){if("function"==typeof e){var n=this;n._captureExecutor=function(){e(n.domElement.toDataURL(t||"image/png")),n._captureExecutor=null}}}},{key:"render",value:function(){var e=this;e._renderableManager.update(),e._renderer.render(e._scene,e._camera),"function"==typeof e._captureExecutor&&e._captureExecutor(),e._interactiveManager.update()}},{key:"addObject",value:function(e){var t=this;e._stage3d=t,"function"==typeof e._addedToStage&&e._addedToStage(),t.scene.add(e)}},{key:"removeObject",value:function(e){this.scene.remove(e),"function"==typeof e._removedFromStage&&e._removedFromStage(),e._stage3d=null}},{key:"getXY",value:function(e,t){var n=this,r=n._width>>1,o=n._height>>1,a=e.clone();return t&&(t.updateMatrixWorld(),a.setFromMatrixPosition(t.matrixWorld)),a.project(n._camera),a.x=a.x*r+r,a.y=-a.y*o+o,new l.Vector2(a.x,a.y)}},{key:"scene",get:function(){return this._scene},set:function(e){this._scene=e}},{key:"camera",get:function(){return this._camera},set:function(e){this._camera=e}},{key:"renderer",get:function(){return this._renderer},set:function(e){this._renderer=e}},{key:"interactiveManager",get:function(){return this._interactiveManager},set:function(e){this._interactiveManager=e}},{key:"renderableManager",get:function(){return this._renderableManager},set:function(e){this._renderableManager=e}},{key:"domElement",get:function(){var e=this._renderer;return e?e.domElement:null}},{key:"stageX",get:function(){var e=this._interactiveManager;return e?e.stageX:0}},{key:"stageY",get:function(){var e=this._interactiveManager;return e?e.stageY:0}}]),t}(s.UiComponent);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.$d3g=t.Detector=void 0;var o=n(5),a=r(o),i=n(11),u=r(i);t.Detector=a.default,t.$d3g=u.default},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(r),a={};!function(e){var t=Math.PI/180,n=48,r=57,a=44,i=32,u=45;e.transformSVGPath=function(e){function c(){for(var t,o,c,l=!1,s=!1;v<b&&((o=e.charCodeAt(v))===a||o===i);)v++;for(t=o===u?v++:v;v<b;)if(o=e.charCodeAt(v),n<=o&&o<=r)v++;else if(46!==o)if(s||101!==o){if(!s||o!==u)return c=e.substring(t,v),l?parseFloat(c):parseInt(c);v++}else v++,s=!0,l=!0;else v++,l=!0;return c=e.substring(t),l?parseFloat(c):parseInt(c)}var l,s,f,d,p=new o.Shape,v=1,b=e.length,y=0,_=0,h=0,m=0,g=null,O=null,j=0,w=0,M=0,k=0,E=0,P=0,x=0,S=0,T=0;for(l=e[0];v<=b;){switch(d=!0,l){case"M":y=c(),_=c(),p.moveTo(y,_),l="L",g=y,O=_;break;case"m":y+=c(),_+=c(),p.moveTo(y,_),l="l",g=y,O=_;break;case"Z":case"z":d=!1,y===g&&_===O||p.lineTo(g,O);break;case"L":case"H":case"V":h="V"===l?y:c(),m="H"===l?_:c(),p.lineTo(h,m),y=h,_=m;break;case"l":case"h":case"v":h="v"===l?y:y+c(),m="h"===l?_:_+c(),p.lineTo(h,m),y=h,_=m;break;case"C":j=c(),M=c();case"S":"S"===l&&(j=2*y-w,M=2*_-k),w=c(),k=c(),h=c(),m=c(),p.bezierCurveTo(j,M,w,k,h,m),y=h,_=m;break;case"c":j=y+c(),M=_+c();case"s":"s"===l&&(j=2*y-w,M=2*_-k),w=y+c(),k=_+c(),h=y+c(),m=_+c(),p.bezierCurveTo(j,M,w,k,h,m),y=h,_=m;break;case"Q":j=c(),M=c();case"T":"T"===l&&(j=2*y-j,M=2*_-M),h=c(),m=c(),p.quadraticCurveTo(j,M,h,m),y=h,_=m;break;case"q":j=y+c(),M=_+c();case"t":"t"===l&&(j=2*y-j,M=2*_-M),h=y+c(),m=_+c(),p.quadraticCurveTo(j,M,h,m),y=h,_=m;break;case"A":E=c(),P=c(),x=c()*t,S=c(),T=c(),h=c(),m=c(),E!==P&&console.warn("Forcing elliptical arc to be a circular one :(",E,P),j=Math.cos(x)*(y-h)/2+Math.sin(x)*(_-m)/2,M=-Math.sin(x)*(y-h)/2+Math.cos(x)*(_-m)/2;var C=Math.sqrt((E*E*P*P-E*E*M*M-P*P*j*j)/(E*E*M*M+P*P*j*j));S===T&&(C=-C),w=C*E*M/P,k=C*-P*j/E,s=Math.cos(x)*w-Math.sin(x)*k+(y+h)/2,f=Math.sin(x)*w+Math.cos(x)*k+(_+m)/2;var L=new o.Vector2(1,0),I=new o.Vector2((j-w)/E,(M-k)/P),F=Math.acos(L.dot(I)/L.length()/I.length());L.x*I.y-L.y*I.x<0&&(F=-F),L.x=(-j-w)/E,L.y=(-M-k)/P;var D=Math.acos(I.dot(L)/I.length()/L.length());I.x*L.y-I.y*L.x<0&&(D=-D),!T&&D>0&&(D-=2*Math.PI),T&&D<0&&(D+=2*Math.PI),p.absarc(s,f,E,F,F+D,T),y=h,_=m;break;default:throw new Error("weird path command: "+l)}d&&function(){for(var t;v<b&&((t=e.charCodeAt(v))===a||t===i);)v++;return(t=e.charCodeAt(v))===u||n<=t&&t<=r}()||(l=e[v++])}return p}}(a),t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniformsMerge=t.bufferGeometryMerge=t.geometryMerge=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(0),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),i=function(e,t,n){if(!1===(e&&e.isGeometry))return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var r,o=this.vertices.length,i=this.vertices,u=e.vertices,c=this.faces,l=e.faces,s=this.faceVertexUvs[0],f=e.faceVertexUvs[0];void 0===n&&(n=0),void 0!==t&&(r=(new a.Matrix3).getNormalMatrix(t));for(var d=0,p=u.length;d<p;d++){var v=u[d],b=v.clone();void 0!==t&&b.applyMatrix4(t),i.push(b)}for(d=0,p=l.length;d<p;d++){var y,_,h,m=l[d],g=m.vertexNormals,O=m.vertexColors;y=new a.Face3(m.a+o,m.b+o,m.c+o),y.normal.copy(m.normal),void 0!==r&&y.normal.applyMatrix3(r).normalize();for(var j=0,w=g.length;j<w;j++)_=g[j].clone(),void 0!==r&&_.applyMatrix3(r).normalize(),y.vertexNormals.push(_);y.color.copy(m.color);for(var j=0,w=O.length;j<w;j++)h=O[j],y.vertexColors.push(h.clone());y.materialIndex=n,c.push(y)}for(d=0,p=f.length;d<p;d++){var M=f[d],k=[];if(void 0!==M){for(var j=0,w=M.length;j<w;j++)k.push(M[j].clone());s.push(k)}}},u=function(e){if(!1===(e&&e.isBufferGeometry))return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);var t=this.attributes;for(var n in e.attributes)if(e.attributes.hasOwnProperty(n)&&e.attributes[n]instanceof a.BufferAttribute){var r=e.attributes[n],o=r.array,i=r.itemSize,u=t[n];u||(u=t[n]=new r.constructor(new o.constructor,i));var c=u.array,l=new o.constructor(o.length+c.length);l.set(c),l.set(o,c.length),u.array=l,u.count=l.length/i}var s=this.index,f=e.index;if(f){var d=s?s.count:0,p=d+f.count;l=new Uint32Array(p),s&&l.set(s.array);var v=t.position,b=e.attributes.position;if(v&&b)for(var y=v.count-b.count,_=0;_<f.count;_++)l[d+_]=f.array[_]+y;this.index=new a.Uint32BufferAttribute(l,1)}return this},c=function(e,t){for(var n={},o=0;o<e.length;o++){var i=a.UniformsUtils.clone(e[o]);for(var u in i)n[u]=i[u]}if("object"===(void 0===t?"undefined":r(t))&&null!=t)for(u in t)t.hasOwnProperty(u)&&(n[u]=t[u]);return n};t.geometryMerge=i,t.bufferGeometryMerge=u,t.uniformsMerge=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.InteractiveSprite=t.InteractiveLineSegments=t.InteractiveLine=t.InteractiveMesh=t.InteractiveGroup=t.InteractiveObject3D=void 0;var o=n(14),a=r(o),i=n(15),u=r(i),c=n(16),l=r(c),s=n(17),f=r(s),d=n(18),p=r(d),v=n(19),b=r(v);t.InteractiveObject3D=a.default,t.InteractiveGroup=u.default,t.InteractiveMesh=l.default,t.InteractiveLine=f.default,t.InteractiveLineSegments=p.default,t.InteractiveSprite=b.default},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(2),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),i(t,[{key:"mouseOut",value:function(e){}},{key:"mouseOver",value:function(e){}},{key:"click",value:function(e){}}]),t}(c.Object3D);(0,f.forge)(d,s.default,f.EventDispatcher),t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(2),d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),i(t,[{key:"mouseOut",value:function(e){}},{key:"mouseOver",value:function(e){}},{key:"click",value:function(e){}}]),t}(c.Group);(0,f.forge)(d,s.default,f.EventDispatcher),t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(2),d=function(e){function t(e,n){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),i(t,[{key:"mouseOut",value:function(e){}},{key:"mouseOver",value:function(e){}},{key:"click",value:function(e){}}]),t}(c.Mesh);(0,f.forge)(d,s.default,f.EventDispatcher),t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(2),d=function(e){function t(e,n,a){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,a))}return a(t,e),i(t,[{key:"mouseOut",value:function(e){}},{key:"mouseOver",value:function(e){}},{key:"click",value:function(e){}}]),t}(c.Line);(0,f.forge)(d,s.default,f.EventDispatcher),t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(2),d=function(e){function t(e,n){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n))}return a(t,e),i(t,[{key:"mouseOut",value:function(e){}},{key:"mouseOver",value:function(e){}},{key:"click",value:function(e){}}]),t}(c.LineSegments);(0,f.forge)(d,s.default,f.EventDispatcher),t.default=d},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),f=n(2),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.raycast=function(){var e=new c.Vector3,t=new c.Vector3,n=new c.Vector3;return function(r,o){var a=this;t.setFromMatrixPosition(a.matrixWorld),r.ray.closestPointToPoint(t,e),n.setFromMatrixScale(a.matrixWorld);var i=n.x*n.y*.25;if(!(t.distanceToSquared(e)>i)){var u=r.ray.origin.distanceTo(e);u<r.near||u>r.far||o.push({distance:u,point:e.clone(),face:null,object:a})}}}(),n}return a(t,e),i(t,[{key:"mouseOut",value:function(e){}},{key:"mouseOver",value:function(e){}},{key:"click",value:function(e){}}]),t}(c.Sprite);(0,f.forge)(d,s.default,f.EventDispatcher),t.default=d},function(e,t,n){"use strict";var r=n(5),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(21);o.default.webgl?console.log(["Jusfoun 3D Engine Library v"+a.version,"Jusfoun Visualization Department "+(new Date).getFullYear(),"vis@jusfoun.com","http://vis.jusfoun.com"].join("\n")):console.error("This platform does NOT support WebGL.")},function(e,t){e.exports={name:"@jusfoun-vis/threejs-common",main:"index.js",version:"0.1.10",author:"jusfoun-vis",license:"MIT",description:"Three.js common library with basic graphics and interaction control methods.",scripts:{build:"webpack",test:"node ./test/test.js"},dependencies:{"@jusfoun-vis/common":"^0.1.1",three:"^0.92.0"},devDependencies:{"babel-core":"^6.26.3","babel-loader":"^7.1.4","babel-plugin-transform-class-properties":"^6.24.1","babel-preset-env":"^1.6.1","uglify-js":"^3.3.23",webpack:"^3.2.6"}}}]));